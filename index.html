<!DOCTYPE html>

<html data-theme="dark" lang="ar" dir="rtl">
<head>
<meta charset="utf-8"/>
<title>T&amp;S Brand Hub</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="dark" name="color-scheme"/>
<link href="assets/icons/ts-favicon.svg" rel="icon" type="image/svg+xml"/>
<style>
@font-face {
      font-family: "Baloo_Bhaijaan";
      src:
        url("assets/fonts/Baloo_Bhaijaan_EN_AR.woff2") format("woff2"),
        url("assets/fonts/Baloo_Bhaijaan_EN_AR.ttf") format("truetype");
      font-display: swap;
    }

    :root {
      --primary-1: #0a0f21;
      --primary-2: #3b1745;
      --primary-3: #0a0f21;
      --accent-1: #05adad;
      --accent-2: #f0474a;
      --accent-3: #113d8f;
      --accent-4: #f0474a;
      --text-primary: #f5f5ff;
      --text-secondary: #c0c4d6;
      --glass-bg: rgba(10, 15, 33, 0.78);
      --glass-border: rgba(255, 255, 255, 0.06);
      --radius-lg: 20px;
      --radius-pill: 999px;
      --transition-fast: 0.18s ease-out;
      --transition-med: 0.25s ease-out;
      --font-scale: 1;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }
    html { scroll-behavior: smooth; }
    body {
      min-height: 100vh;
      margin: 0;
      font-family: "Baloo_Bhaijaan", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      color: var(--text-primary);
      background:
        radial-gradient(circle at top left, rgba(140, 64, 255, 0.4), transparent 55%),
        radial-gradient(circle at bottom right, rgba(5, 173, 173, 0.35), transparent 55%),
        linear-gradient(145deg, #050710, #050917, #02030a);
      display: flex;
      justify-content: center;
    }
    body.lang-ar { direction: rtl; text-align: right; }
    body.lang-en { direction: ltr; text-align: left; }

    .page-wrapper { width: 100%; max-width: 1200px; padding: 24px 16px 32px; }
    @media (min-width: 768px) { .page-wrapper { padding: 32px 24px 40px; } }

    .glass-card {
      background: var(--glass-bg);
      border: 1px solid var(--glass-border);
      border-radius: var(--radius-lg);
      box-shadow: 0 16px 32px rgba(0, 0, 0, 0.6), 0 0 0 1px rgba(255, 255, 255, 0.02);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }

    .main-header { display: flex; flex-direction: column; gap: 20px; margin-bottom: 18px; }
    .header-top { display: flex; flex-wrap: wrap; gap: 14px; padding: 12px 16px; align-items: center; }
    .logo-box {
      width: 60px; height: 60px; border-radius: 18px;
      background: radial-gradient(circle at 10% 0%, rgba(140, 64, 255, 0.6), transparent 55%), rgba(10, 15, 33, 0.92);
      border: 1px solid rgba(255, 255, 255, 0.16);
      display: flex; align-items: center; justify-content: center;
      flex-shrink: 0; box-shadow: 0 15px 30px rgba(0, 0, 0, 0.7);
      cursor: pointer;
    }
    .logo-box img { max-width: 70%; max-height: 70%; display: block; }
    .header-text { flex: 1 1 220px; display: flex; flex-direction: column; gap: 4px; }
    .hub-tag {
      display: inline-flex; align-items: center; gap: 5px; border-radius: var(--radius-pill);
      padding: 1px 10px; font-size: calc(11px * var(--font-scale)); letter-spacing: 0.05em; text-transform: uppercase;
      background: linear-gradient(120deg, rgba(140, 64, 255, 0.4), rgba(5, 173, 173, 0.3));
      color: #ffffff; border: 1px solid rgba(255, 255, 255, 0.22); max-width: 180px; white-space: nowrap;
    }
    .hub-tag-dot { width: 6px; height: 6px; border-radius: 50%; background: #3bffca; box-shadow: 0 0 12px rgba(59, 255, 202, 0.8); }
    .header-title { font-size: calc(21px * var(--font-scale)); font-weight: 700; line-height: 1.35; }
    @media (min-width: 768px) { .header-title { font-size: calc(23px * var(--font-scale)); } }
    .header-subtitle { font-size: calc(15px * var(--font-scale)); color: var(--text-secondary); max-width: 560px; }
    .header-subtitle strong { font-weight: 600; color: #ffffff; }
    .header-lang-nav { display: flex; flex-direction: column; gap: 10px; margin-top: 6px; width: 100%; }
    @media (min-width: 768px) { .header-lang-nav { flex-direction: row; align-items: center; justify-content: space-between; } }

    .lang-toggle {
      display: inline-flex; align-items: center; gap: 8px;
      padding: 4px 6px 4px 4px;
      border-radius: var(--radius-pill);
      border: 1px solid rgba(255, 255, 255, 0.12);
      background: linear-gradient(120deg, rgba(13, 41, 92, 0.9), rgba(17, 61, 143, 0.9));
      align-self: flex-end;
    }
    body.lang-en .lang-toggle { align-self: flex-start; }
    @media (min-width: 768px) { .lang-toggle { align-self: auto; } }
    .lang-label { font-size: calc(13px * var(--font-scale)); color: var(--text-secondary); white-space: nowrap; padding-inline: 4px; }
    .lang-pill {
      border-radius: var(--radius-pill); border: none; padding: 4px 10px;
      font-size: calc(13px * var(--font-scale)); font-weight: 600; cursor: pointer;
      background: transparent; color: #e0e2ff;
      transition: background var(--transition-fast), color var(--transition-fast), transform 0.1s ease-out;
    }
    .lang-pill.active { background: #f5f5ff; color: #0a0f21; box-shadow: 0 0 0 1px rgba(10, 15, 33, 0.8), 0 8px 18px rgba(0, 0, 0, 0.7); }
    .lang-pill:active { transform: translateY(1px); }

    .font-size-control {
      display: inline-flex; align-items: center; gap: 6px; padding: 4px 8px;
      border-radius: var(--radius-pill); border: 1px solid rgba(255, 255, 255, 0.12);
      background: rgba(10, 15, 33, 0.85); font-size: calc(13px * var(--font-scale));
    }
    .font-size-btn {
      min-width: 28px; height: 24px; border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.25);
      background: rgba(13, 41, 92, 0.95); color: #ffffff;
      font-family: inherit; font-size: calc(13px * var(--font-scale));
      cursor: pointer; display: inline-flex; align-items: center; justify-content: center; padding: 0 6px;
      transition: background 0.15s ease-out, transform 0.08s ease-out, box-shadow 0.15s ease-out;
    }
    .font-size-btn:hover { background: rgba(17, 61, 143, 1); box-shadow: 0 4px 10px rgba(0, 0, 0, 0.6); }
    .font-size-btn:active { transform: translateY(1px); box-shadow: 0 2px 6px rgba(0, 0, 0, 0.6); }

    /* QUICK NAV */
    .quick-nav { padding: 10px 10px; }
    .quick-nav-title { font-size: calc(13px * var(--font-scale)); color: var(--text-secondary); margin-inline: 4px; margin-bottom: 6px; }
    .chip-row { display: flex; flex-wrap: nowrap; gap: 6px; overflow-x: auto; padding-bottom: 4px; scrollbar-width: thin; }
    .chip-row::-webkit-scrollbar { height: 4px; }
    .chip-row::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.22); border-radius: 999px; }
    .chip { flex-shrink: 0; display: inline-flex; align-items: center; gap: 6px; padding: 4px 10px; font-size: calc(13px * var(--font-scale)); border-radius: var(--radius-pill); border: 1px solid rgba(255, 255, 255, 0.08); background: rgba(17, 61, 143, 0.25); color: var(--text-secondary); text-decoration: none; transition: background var(--transition-fast), color var(--transition-fast), transform 0.1s ease-out, border-color var(--transition-fast); }
    .chip-dot { width: 6px; height: 6px; border-radius: 50%; background: rgba(5, 173, 173, 0.95); box-shadow: 0 0 8px rgba(5, 173, 173, 0.9); }
    .chip:hover { background: rgba(15, 56, 110, 0.7); color: #ffffff; border-color: rgba(255, 255, 255, 0.35); }

    /* GRID LAYOUT */
    .content-grid { display: grid; grid-template-columns: 1fr; gap: 18px; margin-top: 12px; margin-bottom: 18px; }
    @media (min-width: 960px) { .content-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); } .card-span-2 { grid-column: 1 / -1; } }

    /* CARDS */
    .card { padding: 16px 16px 14px; }
    @media (min-width: 768px) { .card { padding: 18px 18px 16px; } }
    .card-header { display: flex; align-items: center; justify-content: space-between; gap: 12px; margin-bottom: 8px; }
    .card-title { font-size: calc(16px * var(--font-scale)); font-weight: 600; display: flex; flex-wrap: wrap; gap: 4px; align-items: baseline; }
    .card-kicker { font-size: calc(13px * var(--font-scale)); color: var(--accent-1); text-transform: uppercase; letter-spacing: 0.08em; }
    .card-body { font-size: calc(14px * var(--font-scale)); color: var(--text-secondary); display: flex; flex-direction: column; gap: 8px; }
    .card-body p { line-height: 1.6; }

    /* Keep bullets inside boxes */
    .usage-list, .checklist-column {
      padding: 14px 18px;
      border-radius: 12px;
      border: none;
      background: rgba(10, 15, 33, 0.9);
      list-style-position: inside;
    }
    .usage-list li,
    .checklist-column li {
      margin-block: 4px;
    }

    .badge-row { display: flex; flex-wrap: wrap; gap: 6px; margin-top: 4px; }
    .badge { font-size: calc(12px * var(--font-scale)); padding: 3px 8px; border-radius: var(--radius-pill); border: 1px solid rgba(255, 255, 255, 0.12); background: radial-gradient(circle at 0 0, rgba(140, 64, 255, 0.45), transparent 60%), rgba(10, 15, 33, 0.9); color: #ffffff; white-space: nowrap; }
    .badge-muted { background: rgba(10, 15, 33, 0.8); color: var(--text-secondary); }

    .btn-row { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 6px; }
    .btn {
      position: relative; display: inline-flex; align-items: center; justify-content: center; gap: 6px;
      border-radius: 999px; font-size: calc(13px * var(--font-scale)); padding: 6px 12px;
      border: 1px solid rgba(255, 255, 255, 0.18);
      background: linear-gradient(135deg, rgba(140, 64, 255, 0.9), rgba(17, 61, 143, 0.95));
      color: #ffffff; text-decoration: none; cursor: pointer;
      transition: box-shadow var(--transition-med), transform 0.1s ease-out, background var(--transition-med), border-color var(--transition-med);
      white-space: nowrap;
    }
    .btn span.icon { font-size: calc(15px * var(--font-scale)); opacity: 0.9; }
    .btn:hover { box-shadow: 0 10px 28px rgba(0, 0, 0, 0.7); transform: translateY(0); }
    .btn:active { transform: translateY(0); box-shadow: 0 6px 18px rgba(0, 0, 0, 0.7); }
    .btn-ghost,
    .btn-outline-accent {
      background: linear-gradient(135deg, rgba(140, 64, 255, 0.9), rgba(17, 61, 143, 0.95));
      border-color: rgba(255, 255, 255, 0.18);
      color: #ffffff;
    }
    .btn-ghost:hover,
    .btn-outline-accent:hover {
      box-shadow: 0 0 0 1px rgba(140, 64, 255, 0.45), 0 0 18px rgba(11, 17, 40, 0.85);
      transform: translateY(-1px);
    }

    ul { padding-inline-start: 18px; }
    body.lang-ar ul { padding-inline-start: 0; padding-inline-end: 18px; }
    li { margin-bottom: 4px; line-height: 1.6; }
    .two-column-list { display: grid; grid-template-columns: 1fr; gap: 8px; }
    @media (min-width: 640px) { .two-column-list { grid-template-columns: 1fr 1fr; } }
    .usage-two-column { gap: 12px; }
    .usage-col { display: flex; flex-direction: column; gap: 6px; }
    .usage-list { margin-top: 2px; width: 100%; }
    .list-label { font-size: calc(13px * var(--font-scale)); font-weight: 600; color: #ffffff; margin-bottom: 2px; }
    .muted { color: var(--text-secondary); font-size: calc(13px * var(--font-scale)); }

    /* Checklist grid two columns */
    .checklist-grid { display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 12px; margin-top: 12px; }

    /* Palette */
    .palette-toggle-wrapper { margin-top: 4px; margin-bottom: 8px; }
    .palette-panel { margin-top: 8px; border-radius: 16px; border: 1px dashed rgba(255, 255, 255, 0.18); background: rgba(1, 4, 18, 0.92); padding: 10px 10px 8px; display: none; }
    .palette-panel.open { display: block; }
    .palette-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px; margin-top: 6px; }
    .palette-item { border-radius: 12px; border: 1px solid rgba(255, 255, 255, 0.08); padding: 8px; background: linear-gradient(135deg, rgba(10, 15, 33, 0.9), rgba(17, 61, 143, 0.8)); display: flex; flex-direction: column; gap: 4px; font-size: calc(13px * var(--font-scale)); }
    .swatch { height: 42px; border-radius: 9px; border: 1px solid rgba(255, 255, 255, 0.25); box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.3); }
    .palette-name { font-weight: 600; color: #ffffff; margin-top: 6px; }
    .palette-desc { font-size: calc(12px * var(--font-scale)); color: var(--text-secondary); }
    .palette-hex-row { display: flex; align-items: center; justify-content: space-between; gap: 8px; margin-top: 2px; }
    .palette-hex { font-family: "Baloo_Bhaijaan", system-ui, sans-serif; font-size: calc(13px * var(--font-scale)); color: var(--text-secondary); }
    .copy-btn { border-radius: 999px; border: none; padding: 4px 9px; font-size: calc(13px * var(--font-scale)); cursor: pointer; background: rgba(5, 173, 173, 0.14); color: #dbfeff; display: inline-flex; align-items: center; gap: 4px; transition: background var(--transition-fast), transform 0.08s ease-out; }
    .copy-btn span.icon { font-size: calc(14px * var(--font-scale)); }

    /* Asset grid */
    .asset-grid { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 6px; }
    .asset-tile, .asset-tile-group {
      flex: 1 1 150px; min-width: 150px; max-width: 100%;
      display: flex; align-items: center; gap: 8px; padding: 8px 9px;
      border-radius: 14px; border: 1px solid rgba(255, 255, 255, 0.14);
      background: rgba(255,255,255,.06) !important;
      cursor: pointer; text-align: start;
      transition: transform 0.1s ease-out, box-shadow var(--transition-med), border-color var(--transition-fast), background var(--transition-fast);
    }
    .asset-tile:hover, .asset-tile-group:hover {
      transform: translateY(-1px);
      box-shadow: 0 12px 26px rgba(0, 0, 0, 0.82);
      border-color: rgba(5, 173, 173, 0.8);
      background: radial-gradient(circle at 0 0, rgba(5, 173, 173, 0.35), transparent 55%), rgba(10, 15, 33, 0.98);
    }
    .asset-icon { width: 32px; height: 32px; border-radius: 10px; background: rgba(0, 0, 0, 0.42); display: flex; align-items: center; justify-content: center; flex-shrink: 0; font-size: 17px; }
    .asset-text { display: flex; flex-direction: column; gap: 2px; min-width: 0; }
    .asset-title { font-size: calc(14px * var(--font-scale)); font-weight: 600; color: #ffffff; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    .asset-meta { font-size: calc(12px * var(--font-scale)); color: var(--text-secondary); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

    /* PREVIEW MODAL */
    .preview-overlay {
      position: fixed;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 16px;
      background: rgba(0, 0, 0, 0.78);
      z-index: 1000;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.2s ease-out;
    }

    .preview-overlay.visible {
      opacity: 1;
      pointer-events: auto;
    }

    .preview-dialog {
      width: min(96vw, 840px);
      max-height: 90vh;
      display: flex;
      flex-direction: column;
      background: rgba(7, 10, 24, 0.98);
      border-radius: 18px;
      border: 1px solid rgba(255, 255, 255, 0.12);
      box-shadow:
        0 28px 60px rgba(0, 0, 0, 0.9),
        0 0 0 1px rgba(5, 173, 173, 0.16);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      padding: 14px 16px 12px;
    }

    .preview-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      margin-bottom: 8px;
    }

    .preview-title-wrap {
      display: flex;
      flex-direction: column;
      gap: 3px;
    }

    .preview-title {
      font-size: calc(16px * var(--font-scale));
      font-weight: 600;
      color: #ffffff;
    }

    .preview-sub {
      font-size: calc(13px * var(--font-scale));
      color: var(--text-secondary);
    }

    .preview-close-btn {
      width: 28px;
      height: 28px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.22);
      background: rgba(10, 15, 33, 0.95);
      color: #ffffff;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: calc(15px * var(--font-scale));
      transition: background var(--transition-fast), transform 0.1s ease-out,
        box-shadow var(--transition-fast);
      flex-shrink: 0;
    }

    .preview-body {
      flex: 1;
      min-height: 220px;
      border-radius: 14px;
      border: 1px solid rgba(255, 255, 255, 0.12);
      background: #050713;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .preview-body.preview-body--group {
      align-items: center;
      justify-content: center;
      padding: 20px 16px;
      overflow-y: auto;
    }

    .preview-group-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 12px;
      width: 100%;
    }

    .preview-group-item {
      border-radius: 16px;
      border: 1px solid rgba(255, 255, 255, 0.14);
      background: radial-gradient(circle at 0 0, rgba(140, 64, 255, 0.4), transparent 55%),
        rgba(10, 15, 33, 0.98);
      padding: 12px 16px;
      display: flex;
      flex-direction: column;
      gap: 8px;
      font-size: calc(14px * var(--font-scale));
    }

    .preview-group-title {
      font-weight: 600;
      color: #ffffff;
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .preview-group-desc {
      font-size: calc(13px * var(--font-scale));
      color: var(--text-secondary);
    }

    .preview-group-buttons {
      margin-top: 8px;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }


    .preview-body img {
      max-width: 100%;
      max-height: 100%;
      display: block;
    }

    .preview-body iframe {
      width: 100%;
      height: 100%;
      border: none;
      background: #050713;
    }

    .preview-actions {
      margin-top: 8px;
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      justify-content: flex-end;
      align-items: center;
    }

    .preview-hint {
      font-size: calc(12px * var(--font-scale));
      color: var(--text-secondary);
      margin-top: 4px;
    }

    /* Slider */
    .slider-wrap { display: flex; flex-direction: column; gap: 12px; width: 100%; }
    .slider-viewport {
      width: 100%;
      min-height: 260px;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      border-radius: 12px;
      border: 1px solid rgba(255, 255, 255, 0.15);
      background: #0a0f21;
    }
    .slider-viewport img { max-width: 100%; max-height: 420px; display: block; }
    .slider-controls { display: flex; gap: 8px; justify-content: center; }
    .slider-bullets { display: flex; gap: 6px; justify-content: center; }
    .slider-bullets button { width: 10px; height: 10px; border-radius: 50%; border: none; background: rgba(255, 255, 255, 0.25); cursor: pointer; }
    .slider-bullets button.active { background: var(--accent-1); }

    /* LANGUAGE HANDLING */
    .tr-ar { display: inline; }
    .tr-en { display: none !important; }
    body.lang-en .tr-ar { display: none !important; }
    body.lang-en .tr-en { display: inline !important; }

    /* FOOTER */
    .site-footer {
      padding: 12px 16px 10px;
      font-size: calc(13px * var(--font-scale));
      color: var(--text-secondary);
      display: flex;
      flex-direction: column;
      gap: 6px;
    }
    .footer-main {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
      width: 100%;
      text-align: center;
    }
    .footer-row {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 8px;
    }
    body.lang-ar .footer-main {
      direction: rtl;
    }
    .footer-dot {
      width: 4px;
      height: 4px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.4);
    }

    /* Voice block boxes */
    .voice-grid {
      display: grid;
      grid-template-columns: minmax(0, 1fr);
      gap: 12px;
      margin-top: 10px;
    }
    @media (min-width: 720px) {
      .voice-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }
    .voice-block {
      background: rgba(10, 15, 33, 0.95);
      border: 1px solid rgba(255, 255, 255, 0.06);
      border-radius: 14px;
      padding: 12px 14px;
    }

/* ============================================================
   Glass Vibe Overlay (aligned with brand-hub-glass look)
   Keeps ALL original content + JS behavior intact.
   ============================================================ */
:root{
  --ts-ink:#0A0F21;
  --ts-navy:#0D295C;
  --ts-plum:#3B1745;
  --ts-teal:#05ADAD;
  --ts-blue:#113D8F;
  --ts-violet:#8C40FF;
  --ts-red:#F0474A;

  --stroke: rgba(255,255,255,.12);
  --stroke-2: rgba(255,255,255,.18);

  --text-primary: rgba(232, 245, 255, .92);
  --text-secondary: rgba(205, 226, 255, .72);
  --text-tertiary: rgba(190, 214, 255, .56);

  --glass-bg: rgba(255,255,255,.06);
  --glass-bg-2: rgba(255,255,255,.08);
  --glass-border: var(--stroke);

  --radius-lg: 22px;
  --radius-md: 18px;
  --radius-sm: 14px;

  --shadow: 0 18px 60px rgba(0,0,0,.35);
  --shadow-soft: 0 10px 30px rgba(0,0,0,.22);

  --blur: 18px;
  --container: 1180px;

  /* Re-bind legacy tokens used in Brand-hub */
  --primary-1: var(--ts-ink);
  --primary-2: var(--ts-plum);
  --primary-3: var(--ts-ink);
  --accent-1: var(--ts-teal);
  --accent-2: var(--ts-red);
  --accent-3: var(--ts-blue);
  --accent-4: var(--ts-red);
}

/* Background */
html, body{
  background:
    radial-gradient(1100px 750px at 18% 12%, rgba(5,173,173,.18) 0%, rgba(5,173,173,0) 60%),
    radial-gradient(900px 650px at 78% 12%, rgba(140,64,255,.16) 0%, rgba(140,64,255,0) 62%),
    radial-gradient(900px 650px at 60% 92%, rgba(240,71,74,.10) 0%, rgba(240,71,74,0) 60%),
    linear-gradient(180deg, rgba(10,15,33,1) 0%, rgba(8,12,28,1) 55%, rgba(6,9,22,1) 100%) !important;
  color: var(--text-primary) !important;
}

/* Layout container */
.page-wrapper{
  width: min(var(--container), calc(100% - 32px)) !important;
  margin: 0 auto !important;
}

/* Header: sticky + premium blur */
.main-header{
  position: sticky;
  top: 12px;
  z-index: 60;
  margin-top: 14px;
}
.main-header::before{
  content:"";
  position:absolute;
  inset: -14px -14px auto -14px;
  height: calc(100% + 24px);
  z-index:-1;
  pointer-events:none;
  background: linear-gradient(180deg, rgba(0,0,0,.22), rgba(0,0,0,0));
  border-radius: calc(var(--radius-lg) + 10px);
  backdrop-filter: blur(18px);
  -webkit-backdrop-filter: blur(18px);
}

/* Glass cards */
.glass-card{
  background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.05)) !important;
  border: 1px solid var(--stroke) !important;
  box-shadow: var(--shadow-soft) !important;
  border-radius: var(--radius-lg) !important;
  backdrop-filter: blur(var(--blur)) saturate(130%) !important;
  -webkit-backdrop-filter: blur(var(--blur)) saturate(130%) !important;
}
.card{
  border-radius: var(--radius-lg) !important;
}
.card:hover{
  transform: translateY(-2px) !important;
  border-color: var(--stroke-2) !important;
  box-shadow: 0 18px 48px rgba(0,0,0,.28) !important;
}

/* Typography & hierarchy */
.header-title{
  letter-spacing: .2px !important;
}
.card-kicker{
  color: var(--ts-teal) !important;
  font-weight: 800 !important;
}
.card-title{
  color: var(--text-primary) !important;
}
.muted, .header-subtitle, .palette-desc, .palette-name + .palette-desc{
  color: var(--text-secondary) !important;
}

/* Chips / quick nav */
.chip{
  border: 1px solid var(--stroke) !important;
  background: rgba(255,255,255,.05) !important;
  box-shadow: 0 10px 26px rgba(0,0,0,.12) !important;
}
.chip:hover{
  background: rgba(255,255,255,.08) !important;
  border-color: var(--stroke-2) !important;
}

/* Buttons */
.btn{
  border: 1px solid var(--stroke) !important;
  background: rgba(255,255,255,.06) !important;
  color: var(--text-primary) !important;
  border-radius: 14px !important;
  box-shadow: 0 10px 26px rgba(0,0,0,.12) !important;
  transition: transform .18s ease, background .18s ease, border-color .18s ease, box-shadow .18s ease !important;
}
.btn:hover{
  transform: translateY(-1px) !important;
  background: rgba(255,255,255,.08) !important;
  border-color: var(--stroke-2) !important;
}
.btn:active{transform: translateY(0) !important;}
.btn:focus{
  outline: none !important;
  box-shadow: 0 0 0 4px rgba(5,173,173,.22), 0 10px 26px rgba(0,0,0,.18) !important;
}
.btn-ghost{
  background: transparent !important;
  box-shadow: none !important;
}
.copy-btn{
  border: 1px solid var(--stroke) !important;
  background: rgba(255,255,255,.06) !important;
  color: var(--text-primary) !important;
  border-radius: 12px !important;
}
.copy-btn:hover{
  background: rgba(255,255,255,.08) !important;
  border-color: var(--stroke-2) !important;
}

/* Palette swatches & code */
.palette-hex{
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace !important;
  color: var(--text-primary) !important;
}

/* Overlay dialogs */
.preview-overlay .preview-dialog{
  background: rgba(0,0,0,.35) !important;
  border: 1px solid var(--stroke) !important;
  box-shadow: 0 18px 60px rgba(0,0,0,.35) !important;
  backdrop-filter: blur(16px) saturate(130%) !important;
  -webkit-backdrop-filter: blur(16px) saturate(130%) !important;
}
.preview-close-btn{
  border-color: var(--stroke) !important;
}

/* Subtle separators */
hr, .divider, .card-header{
  border-color: rgba(255,255,255,.08) !important;
}

/* Reduce overly-bright whites while keeping readability */
code{
  background: rgba(255,255,255,.06) !important;
  border: 1px solid rgba(255,255,255,.10) !important;
  color: rgba(232,245,255,.92) !important;
}

/* Print keeps original print rules (if any) + improves contrast */
@media print{
  .main-header::before{display:none !important;}
  html, body{background:#fff !important; color:#111 !important;}
  .glass-card{background:#fff !important; color:#111 !important; box-shadow:none !important; border:1px solid rgba(0,0,0,.12) !important;}
  .chip, .btn, .copy-btn{display:none !important;}
}



/* ========== Icon system (aligned with Glass UI) ========== */
.icon{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width: 18px;
  height: 18px;
  color: rgba(5,173,173,.92);
  opacity: 1;
}
.icon svg{ width:18px; height:18px; }

.asset-icon{
  background: linear-gradient(135deg, rgba(5,173,173,.18), rgba(140,64,255,.10));
  border: 1px solid rgba(255,255,255,.14);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.10);
  color: rgba(255,255,255,.92);
}
.asset-icon svg{ width:18px; height:18px; opacity: .98; }
.asset-icon svg.is-dot{ stroke: none; }
.asset-icon svg.is-dot circle{ fill: currentColor; }

    /* ===============================
       Icon color harmony (fix "shouting" icons)
       =============================== */
    .btn, .pill, .seg-btn, .chip-btn, .download-btn, .asset-btn{
      color: rgba(255,255,255,.86);
    }
    .btn .icon, .btn .btn-ic, .btn svg, .pill svg, .seg-btn svg, .chip-btn svg, .download-btn svg, .asset-btn svg{
      color: rgba(255,255,255,.82);
    }
    .btn svg, .pill svg, .seg-btn svg, .chip-btn svg, .download-btn svg, .asset-btn svg{
      width: 18px;
      height: 18px;
      stroke: currentColor;
      fill: none;
      stroke-width: 2;
      stroke-linecap: round;
      stroke-linejoin: round;
      opacity: .92;
      transition: color .18s ease, opacity .18s ease, transform .18s ease;
    }
    /* Small icon square / trailing icon containers */
    .btn .ic, .btn .icon-box, .btn .btn-icon, .btn .icon-wrap, .btn .mini-ic{
      color: rgba(255,255,255,.82);
      border-color: rgba(255,255,255,.16);
      background: rgba(255,255,255,.05);
    }
    /* Hover: gentle teal, not neon */
    .btn:hover svg, .pill:hover svg, .seg-btn:hover svg, .chip-btn:hover svg, .download-btn:hover svg, .asset-btn:hover svg{
      color: rgba(5,173,173,.90);
      opacity: 1;
      transform: translateY(-.5px);
    }
    /* Active/selected states keep readable */
    .btn.primary svg, .btn.primary .ic, .btn.primary .btn-icon, .btn.primary .icon-wrap{
      color: rgba(255,255,255,.92);
      opacity: .95;
    }


    .btn svg [fill="currentColor"],
    .pill svg [fill="currentColor"],
    .seg-btn svg [fill="currentColor"],
    .chip-btn svg [fill="currentColor"],
    .download-btn svg [fill="currentColor"],
    .asset-btn svg [fill="currentColor"]{
      fill: none;
    }


    /* ===============================
       Unified button styling (match "Icon Pack (ZIP)" button)
       =============================== */
    /* Treat these as buttons visually */
    .asset-tile, .asset-tile-group,
    .copy-btn, .font-size-btn, .lang-pill,
    .preview-close-btn,
    a.asset-tile, a.asset-tile-group {
      border: 1px solid var(--stroke) !important;
      background: rgba(255,255,255,.06) !important;
      color: var(--text-primary) !important;
      border-radius: 14px !important;
      box-shadow: 0 10px 26px rgba(0,0,0,.12) !important;
      transition: transform .18s ease, background .18s ease, border-color .18s ease, box-shadow .18s ease !important;
      backdrop-filter: blur(14px) !important;
      -webkit-backdrop-filter: blur(14px) !important;
    }

    /* Make "ghost" buttons look the same (per request) */
    .btn-ghost{
      border: 1px solid var(--stroke) !important;
      background: rgba(255,255,255,.06) !important;
      box-shadow: 0 10px 26px rgba(0,0,0,.12) !important;
    }

    .asset-tile:hover, .asset-tile-group:hover,
    .copy-btn:hover, .font-size-btn:hover, .lang-pill:hover,
    .preview-close-btn:hover,
    a.asset-tile:hover, a.asset-tile-group:hover {
      transform: translateY(-1px) !important;
      border-color: rgba(5,173,173,.55) !important;
      background: rgba(255,255,255,.08) !important;
      box-shadow: 0 14px 34px rgba(0,0,0,.18) !important;
    }

    .asset-tile:active, .asset-tile-group:active,
    .copy-btn:active, .font-size-btn:active, .lang-pill:active,
    .preview-close-btn:active,
    a.asset-tile:active, a.asset-tile-group:active {
      transform: translateY(0) scale(.99) !important;
    }

    /* Ensure consistent inner icon box look */
    .asset-icon{
      background: rgba(255,255,255,.05) !important;
      border: 1px solid rgba(255,255,255,.16) !important;
      box-shadow: inset 0 1px 0 rgba(255,255,255,.10) !important;
      color: rgba(255,255,255,.82) !important;
    }
    .asset-tile:hover .asset-icon,
    .asset-tile-group:hover .asset-icon{
      border-color: rgba(5,173,173,.35) !important;
      color: rgba(5,173,173,.90) !important;
    }

    /* Align spacing so they read like pill buttons */
    .asset-grid { gap: 10px !important; }
    .asset-tile, .asset-tile-group{
      padding: 10px 12px !important;
      min-height: 44px !important;
    }
    .asset-text .muted, .asset-meta .muted { opacity: .78 !important; }


    /* =========================================================
       Requested refinements (Glassy Palette + Gradient Suggestions + Glassy Controls + Glassy Modals)
       ========================================================= */

    /* Make palette toggle row accommodate 2 buttons nicely */
    .palette-toggle-wrapper{
      display:flex !important;
      flex-wrap:wrap;
      gap: 10px;
      align-items:center;
    }

    /* Palette panel + items = true glass (remove any "black box" feeling) */
    .palette-panel{
      border: 1px solid rgba(255,255,255,.12) !important;
      background:
        radial-gradient(820px 260px at 12% 0%, rgba(140,64,255,.12), transparent 60%),
        radial-gradient(820px 260px at 86% 0%, rgba(5,173,173,.10), transparent 62%),
        rgba(255,255,255,.045) !important;
      box-shadow: 0 18px 44px rgba(0,0,0,.22) !important;
      backdrop-filter: blur(18px) saturate(120%) !important;
      -webkit-backdrop-filter: blur(18px) saturate(120%) !important;
      padding: 12px !important;
    }
    .palette-grid{ gap: 12px !important; }
    .palette-item{
      border: 1px solid rgba(255,255,255,.12) !important;
      background: linear-gradient(135deg, rgba(255,255,255,.06), rgba(255,255,255,.03)) !important;
      box-shadow: 0 14px 30px rgba(0,0,0,.16) !important;
      border-radius: 16px !important;
      padding: 12px !important;
      backdrop-filter: blur(14px) !important;
      -webkit-backdrop-filter: blur(14px) !important;
      transition: transform .18s ease, border-color .18s ease, background .18s ease;
    }
    .palette-item:hover{ transform: translateY(-1px); border-color: rgba(5,173,173,.42) !important; background: rgba(255,255,255,.07) !important; }
    .palette-item .swatch{
      height: 44px !important;
      border-radius: 12px !important;
      border: 1px solid rgba(255,255,255,.18) !important;
      box-shadow: inset 0 1px 0 rgba(255,255,255,.10) !important;
      overflow:hidden;
      position:relative;
    }
    .palette-item .swatch:after{
      content:"";
      position:absolute; inset:0;
      background: radial-gradient(520px 120px at 20% 0%, rgba(255,255,255,.16), transparent 55%);
      pointer-events:none;
    }
    .palette-name{ font-weight: 920 !important; letter-spacing: .2px; margin-top: 6px !important; }
    .palette-hex-row{ margin-top: 8px !important; gap: 10px !important; align-items:center !important; }
    .palette-hex{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace !important;
      background: rgba(255,255,255,.06) !important;
      border: 1px solid rgba(255,255,255,.12) !important;
      padding: 6px 10px !important;
      border-radius: 999px !important;
      color: rgba(255,255,255,.88) !important;
    }

    /* Buttons in palette panel */
    .copy-btn{
      border: 1px solid rgba(255,255,255,.14) !important;
      background: rgba(255,255,255,.06) !important;
      border-radius: 999px !important;
      box-shadow: 0 10px 26px rgba(0,0,0,.10) !important;
      backdrop-filter: blur(14px) !important;
      -webkit-backdrop-filter: blur(14px) !important;
      transition: transform .18s ease, border-color .18s ease, background .18s ease;
    }
    .copy-btn:hover{ transform: translateY(-1px); border-color: rgba(5,173,173,.45) !important; background: rgba(255,255,255,.08) !important; }

    /* Language control = glass */
    .lang-toggle{
      border: 1px solid rgba(255,255,255,.12) !important;
      background:
        radial-gradient(520px 160px at 20% 0%, rgba(140,64,255,.10), transparent 60%),
        radial-gradient(520px 160px at 80% 0%, rgba(5,173,173,.09), transparent 60%),
        rgba(255,255,255,.05) !important;
      box-shadow: 0 16px 34px rgba(0,0,0,.18) !important;
      backdrop-filter: blur(16px) saturate(120%) !important;
      -webkit-backdrop-filter: blur(16px) saturate(120%) !important;
      padding: 6px 8px 6px 6px !important;
      gap: 8px !important;
      border-radius: 999px !important;
    }
    .lang-pill{
      border: 1px solid rgba(255,255,255,.14) !important;
      background: rgba(255,255,255,.04) !important;
      color: rgba(255,255,255,.86) !important;
      padding: 6px 12px !important;
      font-weight: 800 !important;
      border-radius: 999px !important;
      transition: transform .18s ease, border-color .18s ease, background .18s ease;
    }
    .lang-pill:hover{ transform: translateY(-1px); border-color: rgba(5,173,173,.45) !important; }
    .lang-pill.active{
      border-color: rgba(5,173,173,.55) !important;
      background: rgba(5,173,173,.14) !important;
      color: rgba(255,255,255,.94) !important;
    }

    /* Font size control = glass */
    .font-size-control{
      border: 1px solid rgba(255,255,255,.12) !important;
      background:
        radial-gradient(520px 160px at 20% 0%, rgba(140,64,255,.10), transparent 60%),
        radial-gradient(520px 160px at 80% 0%, rgba(5,173,173,.09), transparent 60%),
        rgba(255,255,255,.05) !important;
      box-shadow: 0 16px 34px rgba(0,0,0,.18) !important;
      backdrop-filter: blur(16px) saturate(120%) !important;
      -webkit-backdrop-filter: blur(16px) saturate(120%) !important;
      padding: 8px 10px !important;
      border-radius: 999px !important;
    }
    .font-size-btn{
      border: 1px solid rgba(255,255,255,.14) !important;
      background: rgba(255,255,255,.05) !important;
      color: rgba(255,255,255,.88) !important;
      height: 28px !important;
      min-width: 34px !important;
      border-radius: 999px !important;
      box-shadow: 0 10px 26px rgba(0,0,0,.10) !important;
      transition: transform .18s ease, border-color .18s ease, background .18s ease;
    }
    .font-size-btn:hover{ transform: translateY(-1px); border-color: rgba(5,173,173,.45) !important; background: rgba(255,255,255,.08) !important; }

    /* Icons: inherit button color by default (avoid "shouty teal") */
    .icon{ color: rgba(255,255,255,.82) !important; }
    .btn:hover .icon{ color: rgba(5,173,173,.90) !important; }
    .btn svg{ stroke: currentColor !important; fill: none !important; }

    /* Gradients modal: use the same glass dialog */
    #gradients-overlay.preview-overlay{ background: rgba(0,0,0,.62) !important; backdrop-filter: blur(8px) !important; -webkit-backdrop-filter: blur(8px) !important; }
    #gradients-overlay .preview-dialog{
      background:
        radial-gradient(900px 320px at 20% 0%, rgba(140,64,255,.14), transparent 60%),
        radial-gradient(900px 320px at 85% 0%, rgba(5,173,173,.12), transparent 60%),
        rgba(255,255,255,.045) !important;
      border: 1px solid rgba(255,255,255,.12) !important;
      box-shadow: 0 28px 70px rgba(0,0,0,.55) !important;
      backdrop-filter: blur(20px) saturate(120%) !important;
      -webkit-backdrop-filter: blur(20px) saturate(120%) !important;
    }

    .gradient-card{
      border: 1px solid rgba(255,255,255,.12);
      background: linear-gradient(135deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border-radius: 16px;
      box-shadow: 0 16px 34px rgba(0,0,0,.18);
      overflow:hidden;
    }
    .gradient-preview{
      height: 54px;
      border-bottom: 1px solid rgba(255,255,255,.10);
      position: relative;
    }
    .gradient-preview:after{
      content:"";
      position:absolute; inset:0;
      background: radial-gradient(520px 120px at 20% 0%, rgba(255,255,255,.14), transparent 60%);
      pointer-events:none;
    }
    .gradient-meta{
      padding: 10px 12px;
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 10px;
    }
    .gradient-name{ font-weight: 920; font-size: 13px; color: rgba(255,255,255,.90); }
    .gradient-css{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 11px;
      color: rgba(255,255,255,.72);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      max-width: 48ch;
      direction:ltr;
      unicode-bidi:isolate;
    }


    /* ===============================
       Modal download buttons: match site button style
       =============================== */
    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap: 10px;
      padding: 10px 14px;
      min-height: 42px;
      border-radius: 14px;
      font-weight: 850;
      letter-spacing: .15px;
    }
    .btn.btn-mini{ min-height: 36px; padding: 8px 12px; border-radius: 12px; }
    .btn-ic{
      width: 30px;
      height: 30px;
      display:grid;
      place-items:center;
      border-radius: 10px;
      background: rgba(255,255,255,.05);
      border: 1px solid rgba(255,255,255,.14);
      box-shadow: inset 0 1px 0 rgba(255,255,255,.10);
      color: rgba(255,255,255,.86);
      flex: 0 0 auto;
    }
    .btn-ic svg{
      width: 18px;
      height: 18px;
      stroke: currentColor;
      fill: none;
      opacity: .95;
    }
    .btn:hover .btn-ic{
      border-color: rgba(5,173,173,.45);
      color: rgba(5,173,173,.92);
    }
    /* Ensure buttons inside modals don't look "different" */
    .preview-dialog .btn, .preview-dialog .btn-ghost{
      border: 1px solid rgba(255,255,255,.14) !important;
      background: rgba(255,255,255,.06) !important;
      box-shadow: 0 12px 28px rgba(0,0,0,.14) !important;
      backdrop-filter: blur(16px) !important;
      -webkit-backdrop-filter: blur(16px) !important;
    }
    .preview-dialog .btn:hover, .preview-dialog .btn-ghost:hover{
      border-color: rgba(5,173,173,.45) !important;
      background: rgba(255,255,255,.08) !important;
      transform: translateY(-1px);
    }
    .preview-dialog .btn:active, .preview-dialog .btn-ghost:active{
      transform: translateY(0) scale(.99);
    }


    /* ===============================
       Modal boxes: make inner cards glassy (remove purple-heavy look)
       =============================== */
    .preview-dialog{
      background:
        radial-gradient(1000px 360px at 20% 0%, rgba(140,64,255,.14), transparent 62%),
        radial-gradient(1000px 360px at 86% 0%, rgba(5,173,173,.12), transparent 62%),
        rgba(255,255,255,.045) !important;
      border: 1px solid rgba(255,255,255,.12) !important;
      box-shadow: 0 28px 70px rgba(0,0,0,.55) !important;
      backdrop-filter: blur(20px) saturate(120%) !important;
      -webkit-backdrop-filter: blur(20px) saturate(120%) !important;
    }

    .preview-group-item{
      border: 1px solid rgba(255,255,255,.12) !important;
      background:
        radial-gradient(560px 220px at 18% 0%, rgba(140,64,255,.12), transparent 60%),
        radial-gradient(560px 220px at 86% 0%, rgba(5,173,173,.10), transparent 62%),
        linear-gradient(135deg, rgba(255,255,255,.06), rgba(255,255,255,.03)) !important;
      box-shadow: 0 16px 34px rgba(0,0,0,.18) !important;
      backdrop-filter: blur(16px) saturate(120%) !important;
      -webkit-backdrop-filter: blur(16px) saturate(120%) !important;
    }

    .preview-body{
      background:
        radial-gradient(700px 240px at 20% 0%, rgba(140,64,255,.12), transparent 60%),
        radial-gradient(700px 240px at 85% 0%, rgba(5,173,173,.10), transparent 60%),
        rgba(10,15,33,.60) !important;
      border: 1px solid rgba(255,255,255,.12) !important;
      box-shadow: inset 0 1px 0 rgba(255,255,255,.10) !important;
    }

    /* Keep the preview area clean and consistent */
    .preview-body img{
      border-radius: 12px;
      box-shadow: 0 18px 44px rgba(0,0,0,.35);
    }


    /* ===============================
       Palette inline note (fills empty area without changing card size)
       =============================== */
    article#colors{ position: relative; }
    #colors .palette-note{
      position: absolute;
      inset-inline: 16px;
      bottom: 18px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.035);
      border-radius: 16px;
      padding: 12px 14px;
      box-shadow: inset 0 1px 0 rgba(255,255,255,.08);
      backdrop-filter: blur(14px) saturate(120%);
      -webkit-backdrop-filter: blur(14px) saturate(120%);
    }
    #colors .palette-note-title{
      font-weight: 920;
      font-size: calc(13px * var(--font-scale));
      color: rgba(255,255,255,.92);
      margin-bottom: 6px;
      letter-spacing: .2px;
    }
    #colors .palette-note-text{
      font-size: calc(12px * var(--font-scale));
      color: rgba(255,255,255,.78);
      line-height: 1.55;
    }
    #colors .palette-note .mono{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-weight: 850;
      padding: 2px 8px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.05);
      color: rgba(255,255,255,.90);
      display: inline-block;
      transform: translateY(-1px);
      margin-inline: 4px;
    }
    #colors .ltr{ direction:ltr; unicode-bidi:isolate; }


    /* ===============================
       Fix overlap: reserve space for palette-note
       =============================== */
    #colors .palette-toggle-wrapper{
      margin-bottom: 96px !important; /* creates breathing room for the absolute note */
      gap: 10px !important;
    }
    #colors .palette-note{
      bottom: 14px !important;
      padding: 10px 12px !important;
    }
    #colors .palette-note-text{
      line-height: 1.5 !important;
    }
    #colors .palette-note .mono{
      margin-inline: 3px !important;
      padding: 2px 7px !important;
    }
    @media (max-width: 560px){
      #colors .palette-toggle-wrapper{ margin-bottom: 112px !important; }
    }


    /* ===============================
       Remove inner text block backgrounds (keep main card glass)
       =============================== */
    .checklist-column,
    .usage-list{
      background: transparent !important;
      border: none !important;
      box-shadow: none !important;
      padding: 0 !important;
    }

    /* Keep bullets readable without the inner box */
    .checklist-column ul,
    .usage-list ul{
      margin: 0 !important;
      padding-inline-start: 18px !important;
    }

    /* If the section uses these wrappers, ensure they stay spaced */
    .checklist-grid,
    .usage-grid{
      gap: 16px !important;
    }


    /* ===============================
       Header subtitle: force clean 2-line rhythm
       =============================== */
    .header-subtitle{
      max-width: 920px;
      margin: 10px auto 0;
      line-height: 1.6;
    }
    .header-subtitle br{ content:""; }


    /* ===============================
       Palette display: use modal like gradients (hide inline panel)
       =============================== */
    .palette-panel{ display:none !important; }


    /* ===============================
       Palette modal layout (same rhythm as gradients)
       =============================== */
    #palette-overlay .preview-content{
      padding: 14px 16px 18px !important;
    }
    .palette-modal-grid{
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 12px;
    }
    @media (max-width: 960px){
      .palette-modal-grid{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
    }
    @media (max-width: 540px){
      .palette-modal-grid{ grid-template-columns: 1fr; }
    }

    .palette-modal-item{
      border: 1px solid rgba(255,255,255,.12);
      background:
        radial-gradient(520px 180px at 20% 0%, rgba(140,64,255,.10), transparent 60%),
        radial-gradient(520px 180px at 85% 0%, rgba(5,173,173,.08), transparent 62%),
        linear-gradient(135deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
      border-radius: 16px;
      box-shadow: 0 16px 34px rgba(0,0,0,.18);
      padding: 12px;
      backdrop-filter: blur(16px) saturate(120%);
      -webkit-backdrop-filter: blur(16px) saturate(120%);
      transition: transform .18s ease, border-color .18s ease, background .18s ease;
      overflow: hidden;
    }
    .palette-modal-item:hover{
      transform: translateY(-1px);
      border-color: rgba(5,173,173,.42);
      background: rgba(255,255,255,.07);
    }
    .palette-modal-swatch{
      height: 56px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.18);
      box-shadow: inset 0 1px 0 rgba(255,255,255,.10);
      position: relative;
      overflow: hidden;
    }
    .palette-modal-swatch:after{
      content:"";
      position:absolute; inset:0;
      background: radial-gradient(520px 120px at 20% 0%, rgba(255,255,255,.18), transparent 60%);
      pointer-events:none;
    }
    .palette-modal-meta{
      margin-top: 10px;
      display:flex;
      align-items:flex-start;
      justify-content: space-between;
      gap: 10px;
    }
    .palette-modal-name{
      font-weight: 920;
      font-size: calc(13px * var(--font-scale));
      color: rgba(255,255,255,.92);
      line-height: 1.2;
    }
    .palette-modal-desc{
      margin-top: 6px;
      font-size: calc(12px * var(--font-scale));
      color: rgba(255,255,255,.74);
      line-height: 1.45;
    }
    .palette-modal-code{
      margin-top: 10px;
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 10px;
    }
    .palette-modal-hex{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-weight: 850;
      font-size: calc(12px * var(--font-scale));
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      color: rgba(255,255,255,.90);
      direction:ltr;
      unicode-bidi:isolate;
      white-space: nowrap;
    }


    /* ===============================
       Palette note: keep visible (palette is now modal)
       =============================== */
    #colors .palette-note{ display: block !important; }


    /* ===============================
       Disable sticky/moving header (requested)
       =============================== */
    .main-header{
      position: static !important;
      top: auto !important;
      z-index: auto !important;
    }


    /* ===============================
       Toast notifications (copied/download)
       =============================== */
    .toast-stack{
      position: fixed;
      inset-inline-end: 18px;
      bottom: 18px;
      display: grid;
      gap: 10px;
      z-index: 9999;
      pointer-events: none;
    }
    .toast{
      pointer-events: none;
      border: 1px solid rgba(255,255,255,.12);
      background:
        radial-gradient(520px 160px at 20% 0%, rgba(140,64,255,.12), transparent 60%),
        radial-gradient(520px 160px at 80% 0%, rgba(5,173,173,.10), transparent 62%),
        rgba(255,255,255,.055);
      box-shadow: 0 18px 44px rgba(0,0,0,.28);
      backdrop-filter: blur(18px) saturate(120%);
      -webkit-backdrop-filter: blur(18px) saturate(120%);
      border-radius: 14px;
      padding: 10px 12px;
      display: flex;
      align-items: center;
      gap: 10px;
      min-width: 220px;
      max-width: min(360px, calc(100vw - 36px));
      transform: translateY(10px);
      opacity: 0;
      transition: transform .22s ease, opacity .22s ease;
    }
    .toast.show{ transform: translateY(0); opacity: 1; }
    .toast-ic{
      width: 30px; height: 30px;
      border-radius: 10px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.05);
      display: grid; place-items: center;
      color: rgba(5,173,173,.92);
      box-shadow: inset 0 1px 0 rgba(255,255,255,.10);
      flex: 0 0 auto;
    }
    .toast-ic svg{ width: 18px; height: 18px; stroke: currentColor; fill:none; }
    .toast-msg{
      font-weight: 820;
      font-size: calc(12.5px * var(--font-scale));
      color: rgba(255,255,255,.92);
      line-height: 1.35;
    }
    @media (max-width: 560px){
      .toast-stack{ inset-inline: 14px; bottom: 14px; }
      .toast{ min-width: 0; width: 100%; }
    }


    /* ===============================
       Make language + font-size controls more compact (requested)
       =============================== */
    .lang-toggle{
      padding: 4px 6px 4px 4px !important;
      gap: 6px !important;
      border-radius: 999px !important;
      transform: translateY(-1px);
    }
    .lang-pill{
      padding: 5px 10px !important;
      font-size: calc(12px * var(--font-scale)) !important;
      line-height: 1 !important;
    }
    .lang-label{
      font-size: calc(12px * var(--font-scale)) !important;
      opacity: .72;
    }

    .font-size-control{
      padding: 6px 8px !important;
      border-radius: 999px !important;
      gap: 6px !important;
      transform: translateY(-1px);
    }
    .font-size-btn{
      height: 26px !important;
      min-width: 30px !important;
      font-size: calc(12px * var(--font-scale)) !important;
      padding: 0 8px !important;
      border-radius: 999px !important;
    }
    .font-size-label{
      font-size: calc(12px * var(--font-scale)) !important;
      opacity: .78;
      margin-inline-start: 6px !important;
    }

    @media (max-width: 560px){
      .lang-pill{ padding: 5px 9px !important; }
      .font-size-btn{ min-width: 28px !important; }
    }


    /* ===============================
       Header declutter: tighter controls + remove redundant labels
       =============================== */
    .header-top{
      gap: 16px !important;
      padding: 16px 18px !important;
    }
    .hub-tag{
      display: inline-flex !important;
      padding: 6px 10px !important;
      border-radius: 999px !important;
      font-size: calc(12px * var(--font-scale)) !important;
      opacity: .92;
      margin-bottom: 10px !important;
    }
    .header-lang-nav{
      width: auto !important;
      margin-top: 12px !important;
      display: flex !important;
      flex-wrap: wrap !important;
      justify-content: flex-start !important;
      gap: 10px !important;
    }
    body.lang-en .header-lang-nav{ justify-content: flex-start !important; }
    body.lang-ar .header-lang-nav{ justify-content: flex-start !important; }

    /* Remove the extra text labels (makes header less busy) */
    .main-header .lang-label,
    .main-header .font-size-control-label{
      display: none !important;
    }

    /* Make both controls compact, aligned, and consistent */
    .main-header .lang-toggle{
      padding: 4px 6px !important;
      gap: 6px !important;
      border-radius: 999px !important;
      background: rgba(255,255,255,.05) !important;
      border: 1px solid rgba(255,255,255,.12) !important;
      box-shadow: 0 12px 28px rgba(0,0,0,.14) !important;
      backdrop-filter: blur(16px) saturate(120%) !important;
      -webkit-backdrop-filter: blur(16px) saturate(120%) !important;
    }
    .main-header .lang-pill{
      padding: 5px 10px !important;
      font-size: calc(12px * var(--font-scale)) !important;
      border-radius: 999px !important;
    }

    .main-header .font-size-control{
      padding: 6px 8px !important;
      gap: 6px !important;
      border-radius: 999px !important;
      background: rgba(255,255,255,.05) !important;
      border: 1px solid rgba(255,255,255,.12) !important;
      box-shadow: 0 12px 28px rgba(0,0,0,.14) !important;
      backdrop-filter: blur(16px) saturate(120%) !important;
      -webkit-backdrop-filter: blur(16px) saturate(120%) !important;
    }
    .main-header .font-size-btn{
      height: 26px !important;
      min-width: 30px !important;
      font-size: calc(12px * var(--font-scale)) !important;
      padding: 0 8px !important;
      border-radius: 999px !important;
    }

    /* On desktop: keep controls on one clean line */
    @media (min-width: 768px){
      .header-lang-nav{
        flex-direction: row !important;
        align-items: center !important;
      }
    }


    /* ===============================
       Header controls: move to LEFT and stack vertically
       =============================== */
    .header-top{ position: relative !important; }
    .header-lang-nav{
      position: absolute !important;
      left: 18px !important;
      right: auto !important;
      top: 16px !important;
      margin: 0 !important;
      display: flex !important;
      flex-direction: column !important;
      align-items: flex-start !important;
      justify-content: flex-start !important;
      gap: 10px !important;
      width: auto !important;
      z-index: 2 !important;
    }
    /* Reserve breathing room so controls don't collide with the title area */
    .header-top{
      padding-left: 190px !important;
    }
    @media (max-width: 720px){
      .header-top{ padding-left: 18px !important; }
      .header-lang-nav{
        position: static !important;
        flex-direction: row !important;
        align-items: center !important;
        gap: 10px !important;
        margin-top: 10px !important;
      }
    }


    /* Toast must be above modals */
    .toast-stack{ z-index: 20000 !important; }


    /* ===============================
       Header layout: prevent EN clutter (controls pinned left, logo pinned right)
       =============================== */
    .header-top{ position: relative; }
    .header-top .logo-box{
      position: absolute;
      top: 16px;
      inset-inline-end: 16px;
      inset-inline-start: auto;
      z-index: 2;
    }
    .header-top .header-lang-nav{
      position: absolute;
      top: 16px;
      inset-inline-start: 16px;
      inset-inline-end: auto;
      width: auto !important;
      margin: 0 !important;
      display: flex !important;
      flex-direction: column !important;
      align-items: flex-start !important;
      justify-content: flex-start !important;
      gap: 10px !important;
      z-index: 2;
    }
    .header-top .header-text{
      width: 100%;
      padding-top: 42px;
      padding-inline-start: 190px;
      padding-inline-end: 96px;
    }
    .header-title{
      max-width: 920px;
    }
    body.lang-en .header-title{
      max-width: 860px;
      font-size: calc(20px * var(--font-scale));
      line-height: 1.3;
    }
    body.lang-en .header-subtitle{
      max-width: 820px;
    }

    @media (max-width: 820px){
      .header-top .header-text{
        padding-inline-start: 18px;
        padding-inline-end: 18px;
        padding-top: 76px;
      }
      .header-top .header-lang-nav{
        flex-direction: row !important;
        align-items: center !important;
      }
    }
    @media (max-width: 560px){
      .header-top{ padding-top: 12px; }
      .header-top .logo-box{ position: static; }
      .header-top .header-lang-nav{ position: static; flex-direction: row !important; width: 100% !important; }
      .header-top .header-text{ padding-top: 0; }
    }


    /* ===============================
       Header layout overhaul (fix overlap in AR/EN)
       =============================== */
    .header-grid{
      display: grid;
      grid-template-columns: 170px 1fr 78px;
      gap: 16px;
      align-items: start;
    }
    .header-controls{ grid-column: 1; }
    .header-logo{ grid-column: 3; justify-self: end; }
    .header-text{ grid-column: 2; }

    .header-controls .header-lang-nav{
      display: flex !important;
      flex-direction: column !important;
      gap: 10px !important;
      align-items: flex-start !important;
      justify-content: flex-start !important;
    }

    /* Neutralize any legacy absolute positioning */
    .header-controls .header-lang-nav,
    .header-logo .logo-box{
      position: static !important;
      inset: auto !important;
      top: auto !important;
      left: auto !important;
      right: auto !important;
      margin: 0 !important;
    }

    /* Keep header tidy */
    .hub-tag{ margin-bottom: 10px !important; }
    .header-title{ margin: 0 0 8px 0 !important; }
    .header-subtitle{ margin: 0 !important; max-width: 920px; }

    body.lang-en .header-title{
      max-width: 920px;
      font-size: calc(20px * var(--font-scale));
      line-height: 1.3;
    }
    body.lang-en .header-subtitle{ max-width: 860px; }

    /* Responsive: stack nicely */
    @media (max-width: 900px){
      .header-grid{
        grid-template-columns: 1fr;
        gap: 12px;
      }
      .header-logo{ justify-self: end; }
      .header-controls .header-lang-nav{
        flex-direction: row !important;
        flex-wrap: wrap;
      }
    }


    /* ===============================
       Header simplification + moved controls
       =============================== */
    .header-simple{
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
    }
    .header-simple .header-text{
      flex: 1 1 auto;
      min-width: 0;
    }
    .header-simple .header-logo{ flex: 0 0 auto; }

    /* Utility bar layout */
    .utility-wrap{
      max-width: var(--wrap, 1200px);
      margin: 12px auto 0;
      padding: 0 16px;
    }
    .utility-bar{
      padding: 14px 14px;
    }
    .utility-controls .header-lang-nav{
      display: flex !important;
      flex-direction: row !important;
      flex-wrap: wrap;
      gap: 10px !important;
      align-items: center !important;
      justify-content: flex-start !important;
    }
    .utility-subtitle .header-subtitle{
      margin: 10px 0 0 !important;
      max-width: 980px;
      opacity: .95;
    }
    .utility-subtitle .header-subtitle span{
      display: inline;
    }

    /* Remove any legacy header grid rules that cause overlap */
    .header-grid, .header-controls, .header-logo, .header-text{
      position: static;
    }


    /* ===============================
       Display settings dropdown (replaces header controls)
       =============================== */
    .display-settings{ position: relative; display: inline-flex; }
    .display-settings-btn{
      padding: 9px 12px !important;
      border-radius: 999px !important;
      gap: 10px !important;
    }
    .display-settings-btn .btn-ic{
      width: 34px; height: 34px;
      border-radius: 12px;
      display: grid; place-items: center;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.05);
      box-shadow: inset 0 1px 0 rgba(255,255,255,.10);
    }
    .display-settings-btn .btn-ic svg{ width: 18px; height: 18px; stroke: currentColor; }

    .display-menu{
      position: absolute;
      top: calc(100% + 10px);
      inset-inline-start: 0;
      min-width: 260px;
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,.12);
      background:
        radial-gradient(520px 180px at 20% 0%, rgba(140,64,255,.14), transparent 60%),
        radial-gradient(520px 180px at 85% 0%, rgba(5,173,173,.10), transparent 62%),
        rgba(255,255,255,.05);
      box-shadow: 0 22px 60px rgba(0,0,0,.30);
      backdrop-filter: blur(18px) saturate(120%);
      -webkit-backdrop-filter: blur(18px) saturate(120%);
      padding: 12px;
      display: none;
      z-index: 12000;
    }
    .display-settings.open .display-menu{ display: block; }

    .display-group{ padding: 8px 8px; }
    .display-group-title{
      font-weight: 920;
      font-size: calc(12.5px * var(--font-scale));
      color: rgba(255,255,255,.92);
      margin-bottom: 10px;
      opacity: .92;
    }
    .display-row{ display:flex; gap: 8px; align-items:center; }
    .chip-btn{
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.05);
      border-radius: 999px;
      padding: 8px 12px;
      font-weight: 900;
      font-size: calc(12px * var(--font-scale));
      color: rgba(255,255,255,.90);
      cursor: pointer;
      transition: transform .16s ease, border-color .16s ease, background .16s ease;
    }
    .chip-btn:hover{ transform: translateY(-1px); border-color: rgba(5,173,173,.45); background: rgba(255,255,255,.07); }
    .chip-btn.active{
      border-color: rgba(5,173,173,.65);
      background: rgba(5,173,173,.12);
      color: rgba(255,255,255,.95);
    }
    .display-divider{
      height: 1px;
      background: rgba(255,255,255,.10);
      margin: 6px 6px;
    }

    @media (max-width: 560px){
      .display-menu{
        min-width: min(320px, calc(100vw - 40px));
      }
    }


    /* ===============================
       Gradients modal: more spacing + mobile-friendly
       =============================== */
    .gradient-grid{ gap: 14px !important; }
    .gradient-card{ padding: 14px !important; border-radius: 18px !important; }
    .gradient-preview{ height: 74px !important; border-radius: 16px !important; }
    .gradient-actions{ gap: 10px !important; margin-top: 12px !important; }

    @media (max-width: 560px){
      .preview-dialog{ width: min(96vw, 560px) !important; }
      .gradient-grid{ grid-template-columns: 1fr !important; gap: 12px !important; }
      .gradient-preview{ height: 86px !important; }
      .gradient-actions{ flex-wrap: wrap; }
    }


    /* Hide legacy header controls if any remain */
    .header-lang-nav.legacy-hide{ display:none !important; }


    /* ===============================
       Header: minimal (logo + title + tag) + display button positioned by language
       =============================== */
    .header-top{ overflow: visible !important; padding: 22px 22px !important; margin-bottom: 18px !important; }
    .header-brand{ display:flex; justify-content: center; }
    .brand-cluster{
      display:flex;
      align-items:center;
      gap: 14px;
      max-width: 980px;
      width: 100%;
      justify-content: center;
    }
    .brand-text{ min-width: 0; }
    .brand-text .hub-tag{ margin: 0 0 10px 0 !important; }
    .brand-text .header-title{ margin: 0 !important; }
    /* AR: logo right + title next to it */
    body.lang-ar .brand-cluster{ flex-direction: row-reverse; justify-content: flex-end; }
    body.lang-ar .brand-text{ text-align: right; }
    /* EN: logo left + title next to it */
    body.lang-en .brand-cluster{ flex-direction: row; justify-content: flex-start; }
    body.lang-en .brand-text{ text-align: left; }

    /* Display settings button placement */
    .display-settings{ position: absolute; top: 16px; z-index: 14000; }
    body.lang-ar .display-settings{ left: 18px; right: auto; }
    body.lang-en .display-settings{ right: 18px; left: auto; }

    /* Prevent menu clipping + make it overlay the page */
    .display-menu{ position: fixed !important; display: none; }
    .display-settings.open .display-menu{ display:block; }

    /* Utility spacing under header */
    .utility-wrap{ margin-top: 18px !important; }
    main{ padding-top: 14px !important; }

    @media (max-width: 720px){
      .header-top{ padding: 18px 16px !important; }
      .brand-cluster{ justify-content: center !important; }
      body.lang-ar .brand-cluster, body.lang-en .brand-cluster{ justify-content: center !important; }
      .display-settings{ position: static; margin-bottom: 10px; }
      body.lang-ar .display-settings, body.lang-en .display-settings{ left:auto; right:auto; }
    }


    /* ===============================
       Utility area spacing (prevent cards looking nested/overlapped)
       =============================== */
    .utility-wrap{
      display: grid !important;
      gap: 14px !important;
      margin-top: 22px !important; /* extra breathing room under header */
    }
    .utility-bar,
    .quick-nav{
      margin: 0 !important;
    }


    /* ===============================
       Header alignment: logo-right in RTL, logo-left in LTR (robust)
       =============================== */
    .header-top{ position: relative !important; }
    .header-brand{ display:flex; width:100%; }
    .brand-cluster{
      display:flex;
      align-items:center;
      gap: 14px;
      width: 100%;
      max-width: 980px;
    }
    .brand-text{ min-width: 0; }
    .brand-text .hub-tag{ margin: 0 0 10px 0 !important; }
    .brand-text .header-title{ margin: 0 !important; }

    html[dir="rtl"] .header-brand{ justify-content: flex-end; }
    html[dir="rtl"] .brand-cluster{ flex-direction: row-reverse; justify-content: flex-end; }
    html[dir="rtl"] .brand-text{ text-align: right; }

    html[dir="ltr"] .header-brand{ justify-content: flex-start; }
    html[dir="ltr"] .brand-cluster{ flex-direction: row; justify-content: flex-start; }
    html[dir="ltr"] .brand-text{ text-align: left; }

    /* Give the settings button room so it never overlaps the brand cluster */
    .header-top{ padding-top: 24px !important; }

    @media (max-width: 720px){
      .brand-cluster{ justify-content: center !important; }
      html[dir="rtl"] .header-brand, html[dir="ltr"] .header-brand{ justify-content: center !important; }
      html[dir="rtl"] .brand-text, html[dir="ltr"] .brand-text{ text-align: center !important; }
    }


    /* Display settings placement + open state */
    .display-settings{ position:absolute; top: 16px; z-index: 15000; }
    html[dir="rtl"] .display-settings{ left: 18px; right: auto; }
    html[dir="ltr"] .display-settings{ right: 18px; left: auto; }

    .display-settings.open .display-settings-btn{
      background: rgba(0,0,0,.32) !important;
      border-color: rgba(5,173,173,.38) !important;
      box-shadow: 0 22px 60px rgba(0,0,0,.38), inset 0 1px 0 rgba(255,255,255,.10) !important;
    }
    .display-settings.open .display-settings-btn .btn-ic{
      background: rgba(0,0,0,.22) !important;
      border-color: rgba(5,173,173,.42) !important;
    }


    /* ===============================
       Header grid: reserve space for settings so it never overlaps logo/title
       =============================== */
    .header-top{
      display: grid !important;
      grid-template-columns: auto 1fr auto !important;
      align-items: center !important;
      gap: 14px !important;
    }
    .header-top .display-settings{ position: static !important; }
    .header-top .header-brand{ grid-column: 2; }
    .header-top .header-brand{ display:flex; width:100%; }
    .header-top .header-logo{ display:none; } /* safety if legacy exists */

    html[dir="rtl"] .header-top .display-settings{ grid-column: 1; justify-self: start; }
    html[dir="ltr"] .header-top .display-settings{ grid-column: 3; justify-self: end; }

    html[dir="rtl"] .header-top .header-brand{ justify-content: flex-end; }
    html[dir="ltr"] .header-top .header-brand{ justify-content: flex-start; }

    .brand-cluster{ max-width: 980px; width: 100%; }

    /* Stronger open state for clarity */
    .display-settings.open .display-settings-btn{
      background: rgba(0,0,0,.46) !important;
      border-color: rgba(5,173,173,.50) !important;
      box-shadow: 0 24px 70px rgba(0,0,0,.46), inset 0 1px 0 rgba(255,255,255,.12) !important;
    }

    /* Menu positioning relative to viewport (but anchored to button rect in JS) */
    .display-menu{
      position: fixed !important;
      z-index: 20000 !important;
    }

    @media (max-width: 720px){
      .header-top{
        grid-template-columns: 1fr !important;
        justify-items: center;
      }
      .header-top .display-settings{ justify-self: center !important; }
      html[dir="rtl"] .header-top .header-brand,
      html[dir="ltr"] .header-top .header-brand{ justify-content: center !important; }
      .brand-cluster{ justify-content: center !important; }
    }


    /* ===============================
       Swap: logo in corner, settings next to title (AR/EN)
       =============================== */
    .header-top{
      display: grid !important;
      grid-template-columns: auto 1fr auto !important;
      align-items: center !important;
      gap: 14px !important;
    }
    .corner-logo{ grid-column: 1; justify-self: start; }
    html[dir="rtl"] .corner-logo{ grid-column: 1; justify-self: start; }
    html[dir="ltr"] .corner-logo{ grid-column: 3; justify-self: end; }

    .header-brand{ grid-column: 2; width: 100%; }
    .brand-cluster{
      justify-content: center;
    }
    /* Settings now lives in brand-cluster */
    .brand-cluster .display-settings{
      position: static !important;
      z-index: 1;
    }
    html[dir="rtl"] .brand-cluster{ flex-direction: row-reverse; justify-content: flex-end; }
    html[dir="ltr"] .brand-cluster{ flex-direction: row; justify-content: flex-start; }

    /* Make settings button slightly smaller inside the title line */
    .brand-cluster .display-settings-btn{
      padding: 8px 10px !important;
    }
    .brand-cluster .display-settings-btn .btn-ic{
      width: 30px; height: 30px;
      border-radius: 11px;
    }

    @media (max-width: 720px){
      .header-top{
        grid-template-columns: 1fr !important;
        justify-items: center;
      }
      .corner-logo{ grid-column: 1 !important; justify-self: center !important; margin-bottom: 8px; }
      .header-brand{ grid-column: 1 !important; }
      .brand-cluster{ justify-content: center !important; flex-wrap: wrap; }
    }


    /* ===============================
       Header tidy layout (swapped positions, aligned)
       =============================== */
    .header-top{
      position: relative !important;
      display:flex !important;
      align-items: center !important;
      justify-content: center !important;
      padding: 20px 22px !important;
      gap: 14px !important;
    }

    /* Corner control: opposite side depending on dir */
    .corner-control{
      position: absolute;
      top: 16px;
      z-index: 16000;
    }
    html[dir="rtl"] .corner-control{ left: 18px; right: auto; }
    html[dir="ltr"] .corner-control{ right: 18px; left: auto; }

    /* Brand cluster: logo next to title (dir-aware) */
    .header-brand{ width: 100%; max-width: 980px; }
    .brand-cluster{
      display:flex;
      align-items: center;
      gap: 14px;
      width: 100%;
    }
    html[dir="rtl"] .brand-cluster{ flex-direction: row-reverse; justify-content: flex-end; }
    html[dir="ltr"] .brand-cluster{ flex-direction: row; justify-content: flex-start; }

    .brand-text{ min-width: 0; }
    html[dir="rtl"] .brand-text{ text-align: right; }
    html[dir="ltr"] .brand-text{ text-align: left; }

    .brand-text .hub-tag{ margin: 0 0 10px 0 !important; }
    .brand-text .header-title{ margin: 0 !important; }

    /* Display button compact, clear open state */
    .corner-control .display-settings{ position: static !important; }
    .corner-control .display-settings-btn{ padding: 9px 12px !important; }
    .corner-control .display-settings.open .display-settings-btn{
      background: rgba(0,0,0,.50) !important;
      border-color: rgba(5,173,173,.55) !important;
    }

    /* Responsive */
    @media (max-width: 720px){
      .header-top{ padding: 18px 16px !important; }
      .corner-control{ position: static; align-self: flex-start; }
      html[dir="rtl"] .corner-control, html[dir="ltr"] .corner-control{ left:auto; right:auto; }
      .brand-cluster{ justify-content: center !important; flex-direction: column; text-align: center; }
      .brand-text{ text-align: center !important; }
    }


    /* ===============================
       Reserve corner space for settings (no overlap with logo/title)
       =============================== */
    html[dir="rtl"] .header-top{ padding-left: 120px !important; }
    html[dir="ltr"] .header-top{ padding-right: 120px !important; }

    .corner-control{ z-index: 22000 !important; }

    @media (max-width: 720px){
      html[dir="rtl"] .header-top,
      html[dir="ltr"] .header-top{ padding-left: 16px !important; padding-right: 16px !important; }
    }


    /* ===============================
       Fix brand alignment: logo next to title (RTL logo on right, LTR logo on left)
       =============================== */
    .logo-box{ position: static !important; inset:auto !important; margin: 0 !important; }

    /* Ensure header content aligns away from the corner control */
    .header-top{
      justify-content: flex-start !important; /* override centering that causes overlap */
    }
    .header-brand{
      display: flex !important;
      width: 100% !important;
      max-width: 980px !important;
      margin: 0 auto !important;
    }

    html[dir="rtl"] .header-brand{ justify-content: flex-end !important; }
    html[dir="ltr"] .header-brand{ justify-content: flex-start !important; }

    html[dir="rtl"] .brand-cluster{
      flex-direction: row-reverse !important; /* makes logo appear on the right */
      justify-content: flex-end !important;
    }
    html[dir="ltr"] .brand-cluster{
      flex-direction: row !important; /* makes logo appear on the left */
      justify-content: flex-start !important;
    }

    /* Keep text alignment consistent */
    html[dir="rtl"] .brand-text{ text-align: right !important; }
    html[dir="ltr"] .brand-text{ text-align: left !important; }

    @media (max-width: 720px){
      .header-top{ justify-content: center !important; }
      .header-brand{ justify-content: center !important; }
      .brand-cluster{ justify-content: center !important; }
    }


    /* ===============================
       RTL: place logo on the RIGHT of the title (logo-first on the right edge)
       =============================== */
    html[dir="rtl"] .brand-cluster{
      direction: rtl !important;
      flex-direction: row !important;
      justify-content: flex-end !important;
    }
    html[dir="rtl"] .brand-cluster .logo-box{ order: 0 !important; }
    html[dir="rtl"] .brand-cluster .brand-text{ order: 1 !important; }

    /* LTR stays logo-left */
    html[dir="ltr"] .brand-cluster{
      direction: ltr !important;
      flex-direction: row !important;
      justify-content: flex-start !important;
    }


    /* ===============================
       RTL: move brand cluster to the RIGHT edge of the header
       =============================== */
    html[dir="rtl"] .header-top{ justify-content: flex-end !important; }
    html[dir="rtl"] .header-brand{
      margin-left: 0 !important;
      margin-right: 0 !important;
      max-width: 100% !important;
      justify-content: flex-end !important;
    }
    html[dir="rtl"] .brand-cluster{
      width: auto !important;
      max-width: 100% !important;
      justify-content: flex-end !important;
    }
    /* Keep some space from settings button area on the left */
    html[dir="rtl"] .header-brand{ padding-left: 120px !important; }
    @media (max-width: 720px){
      html[dir="rtl"] .header-brand{ padding-left: 0 !important; }
    }


    /* ===============================
       FINAL RTL HEADER OVERRIDES: snap brand to right edge + logo on right of title
       =============================== */
    html[dir="rtl"] .header-top{
      justify-content: flex-end !important;
    }
    html[dir="rtl"] .header-brand{
      width: 100% !important;
      max-width: 100% !important;
      margin: 0 !important;
      padding-left: 132px !important; /* keep clear of settings on the left */
      justify-content: flex-end !important;
    }
    html[dir="rtl"] .brand-cluster{
      width: 100% !important;
      max-width: 100% !important;
      justify-content: flex-end !important;
      flex-direction: row !important;
      direction: rtl !important;
      gap: 14px !important;
    }
    html[dir="rtl"] .brand-cluster .logo-box{ order: 0 !important; }
    html[dir="rtl"] .brand-cluster .brand-text{ order: 1 !important; }

    /* Ensure EN stays clean */
    html[dir="ltr"] .header-top{ justify-content: flex-start !important; }
    html[dir="ltr"] .header-brand{
      width: 100% !important;
      max-width: 100% !important;
      margin: 0 !important;
      padding-right: 132px !important; /* clear of settings on the right */
      justify-content: flex-start !important;
    }
    html[dir="ltr"] .brand-cluster{
      width: 100% !important;
      justify-content: flex-start !important;
      flex-direction: row !important;
      direction: ltr !important;
    }

    @media (max-width: 720px){
      html[dir="rtl"] .header-brand{ padding-left: 0 !important; }
      html[dir="ltr"] .header-brand{ padding-right: 0 !important; }
      html[dir="rtl"] .brand-cluster,
      html[dir="ltr"] .brand-cluster{
        justify-content: center !important;
        width: 100% !important;
      }
    }


    /* ===============================
       FIX: Snap header content to edge using CSS Grid (RTL right / LTR left)
       =============================== */
    .header-top{
      display: grid !important;
      align-items: center !important;
      gap: 14px !important;
      justify-content: stretch !important;
    }

    /* RTL layout: [settings on left] [brand on right] */
    html[dir="rtl"] .header-top{
      grid-template-columns: auto 1fr !important;
    }
    html[dir="rtl"] .corner-control{
      grid-column: 1 !important;
      position: static !important;
      justify-self: start !important;
      align-self: center !important;
    }
    html[dir="rtl"] .header-brand{
      grid-column: 2 !important;
      justify-self: end !important;
      width: auto !important;
      max-width: none !important;
      margin: 0 !important;
      padding: 0 !important;
    }
    html[dir="rtl"] .brand-cluster{
      width: auto !important;
      justify-content: flex-end !important;
    }

    /* LTR layout: [brand on left] [settings on right] */
    html[dir="ltr"] .header-top{
      grid-template-columns: 1fr auto !important;
    }
    html[dir="ltr"] .corner-control{
      grid-column: 2 !important;
      position: static !important;
      justify-self: end !important;
      align-self: center !important;
    }
    html[dir="ltr"] .header-brand{
      grid-column: 1 !important;
      justify-self: start !important;
      width: auto !important;
      max-width: none !important;
      margin: 0 !important;
      padding: 0 !important;
    }
    html[dir="ltr"] .brand-cluster{
      width: auto !important;
      justify-content: flex-start !important;
    }

    /* Keep some breathing room from edges */
    .header-top{ padding: 20px 22px !important; }

    /* Mobile: stack neatly */
    @media (max-width: 720px){
      .header-top{
        grid-template-columns: 1fr !important;
        justify-items: center !important;
      }
      .corner-control{ justify-self: center !important; }
      .header-brand{ justify-self: center !important; }
      .brand-cluster{ justify-content: center !important; }
    }


    /* ===============================
       FINAL HEADER LAYOUT: RTL brand to RIGHT edge, settings to LEFT (and vice-versa for EN)
       =============================== */
    .header-top{
      display: grid !important;
      align-items: center !important;
      gap: 14px !important;
      justify-items: stretch !important;
    }

    /* Arabic (RTL): [settings | spacer | brand] */
    html[dir="rtl"] .header-top{
      grid-template-columns: auto 1fr auto !important;
    }
    html[dir="rtl"] .corner-control{
      grid-column: 1 !important;
      position: static !important;
      justify-self: start !important;
    }
    html[dir="rtl"] .header-brand{
      grid-column: 3 !important;
      justify-self: end !important;
      width: auto !important;
      max-width: none !important;
      margin: 0 !important;
      padding: 0 !important;
    }

    /* English (LTR): [brand | spacer | settings] */
    html[dir="ltr"] .header-top{
      grid-template-columns: auto 1fr auto !important;
    }
    html[dir="ltr"] .header-brand{
      grid-column: 1 !important;
      justify-self: start !important;
      width: auto !important;
      max-width: none !important;
      margin: 0 !important;
      padding: 0 !important;
    }
    html[dir="ltr"] .corner-control{
      grid-column: 3 !important;
      position: static !important;
      justify-self: end !important;
    }

    /* Brand cluster hugs content so it won't appear centered */
    .brand-cluster{
      display: inline-flex !important;
      width: fit-content !important;
      max-width: none !important;
      justify-content: flex-start !important;
    }
    html[dir="rtl"] .brand-cluster{
      direction: rtl !important;
      flex-direction: row !important; /* logo on the right side visually */
      justify-content: flex-end !important;
    }
    html[dir="ltr"] .brand-cluster{
      direction: ltr !important;
      flex-direction: row !important;
      justify-content: flex-start !important;
    }

    /* Text alignment */
    html[dir="rtl"] .brand-text{ text-align: right !important; }
    html[dir="ltr"] .brand-text{ text-align: left !important; }

    /* Mobile: stack and center */
    @media (max-width: 720px){
      .header-top{
        grid-template-columns: 1fr !important;
        justify-items: center !important;
      }
      .corner-control{ grid-column: 1 !important; justify-self: center !important; }
      .header-brand{ grid-column: 1 !important; justify-self: center !important; }
      .brand-cluster{ width: auto !important; justify-content: center !important; }
      .brand-text{ text-align: center !important; }
    }


    /* ===============================
       Safety: header layout follows language classes (prevents RTL/LTR mismatch)
       =============================== */
    body.lang-ar .header-top{ grid-template-columns: auto 1fr auto !important; }
    body.lang-ar .corner-control{ grid-column: 1 !important; justify-self: start !important; }
    body.lang-ar .header-brand{ grid-column: 3 !important; justify-self: end !important; }
    body.lang-ar .brand-cluster{ direction: rtl !important; justify-content: flex-end !important; }

    body.lang-en .header-top{ grid-template-columns: auto 1fr auto !important; }
    body.lang-en .header-brand{ grid-column: 1 !important; justify-self: start !important; }
    body.lang-en .corner-control{ grid-column: 3 !important; justify-self: end !important; }
    body.lang-en .brand-cluster{ direction: ltr !important; justify-content: flex-start !important; }


    
    /* ===============================
       SWAPPED PER REQUEST:
       - English page uses AR layout: brand RIGHT, settings LEFT
       - Arabic page uses EN layout: brand LEFT, settings RIGHT
       =============================== */

    /* Arabic page (lang-ar): brand LEFT, settings RIGHT */
    body.lang-ar .header-top{
      grid-template-columns: auto 1fr auto !important; /* brand | spacer | settings */
    }
    body.lang-ar .header-brand{
      grid-column: 1 !important;
      justify-self: start !important;
    }
    body.lang-ar .corner-control{
      grid-column: 3 !important;
      justify-self: end !important;
    }
    body.lang-ar .brand-cluster{
      justify-content: flex-start !important;
    }

    /* English page (lang-en): brand RIGHT, settings LEFT */
    body.lang-en .header-top{
      grid-template-columns: auto 1fr auto !important; /* settings | spacer | brand */
    }
    body.lang-en .corner-control{
      grid-column: 1 !important;
      justify-self: start !important;
    }
    body.lang-en .header-brand{
      grid-column: 3 !important;
      justify-self: end !important;
    }
    body.lang-en .brand-cluster{
      justify-content: flex-end !important;
    }
    body.lang-en .header-top{
      grid-template-columns: auto 1fr auto !important; /* brand | spacer | settings */
    }
    body.lang-en .header-brand{
      grid-column: 1 !important;
      justify-self: start !important;
    }
    body.lang-en .corner-control{
      grid-column: 3 !important;
      justify-self: end !important;
    }


    /* ===============================
       Header height tuning (reduce vertical space)
       =============================== */
    .main-header{ margin-bottom: 16px !important; }
    .header-top{
      padding: 14px 18px !important;
      min-height: 88px !important;
      align-items: center !important;
    }
    .brand-text .hub-tag{ margin: 0 0 6px 0 !important; }
    .brand-text .header-title{ line-height: 1.1 !important; }

    /* tighten logo box a bit */
    .logo-box{
      transform: none !important;
      width: 52px !important;
      height: 52px !important;
      border-radius: 16px !important;
    }

    /* keep settings compact */
    .corner-control .display-settings-btn{
      padding: 8px 10px !important;
    }

    @media (max-width: 720px){
      .header-top{
        padding: 14px 14px !important;
        min-height: auto !important;
      }
      .logo-box{ width: 48px !important; height: 48px !important; }
    }


    /* ===============================
       Header compact: make header height match logo/settings height
       =============================== */
    .header-top{
      min-height: 72px !important;
      padding: 10px 16px !important;
    }
    .brand-text .hub-tag{
      font-size: 12px !important;
      padding: 6px 12px !important;
      margin-bottom: 4px !important;
    }
    .brand-text .header-title{
      font-size: clamp(18px, 2.2vw, 26px) !important;
    }
    .logo-box{
      width: 48px !important;
      height: 48px !important;
      border-radius: 15px !important;
    }
    .corner-control .display-settings-btn{
      padding: 8px 10px !important;
      border-radius: 16px !important;
    }
    .corner-control .display-settings-btn .btn-ic{
      width: 30px !important;
      height: 30px !important;
      border-radius: 12px !important;
    }
    /* Prevent subtitle/nav utility area from visually attaching to header */
    .utility-wrap{ margin-top: 14px !important; }

    @media (max-width: 720px){
      .header-top{
        min-height: auto !important;
        padding: 12px 12px !important;
      }
      .brand-text .hub-tag{ margin-bottom: 6px !important; }
    }


    
    /* Arabic: left side */
    body.lang-en /* English: right side */

    .display-dock .corner-control{
      position: static !important;
      top: auto !important;
      left: auto !important;
      right: auto !important;
      z-index: 12000 !important;
    }
    .display-dock .display-menu{
      position: absolute !important; /* anchor near button */
      z-index: 20000 !important;
    }

    /* ensure header isn't reserving space for settings anymore */
    html[dir="rtl"] .header-top{ padding-left: 16px !important; }
    html[dir="ltr"] .header-top{ padding-right: 16px !important; }



    /* ===============================
       Compact site navbar (settings lives here)
       =============================== */
    .site-nav{
      margin: 12px 0 14px;
      padding: 10px 12px;
      border-radius: 18px;
    }
    .nav-inner{
      display:flex;
      align-items:center;
      justify-content:flex-start;
      gap: 10px;
      min-height: 44px;
    }
    body.lang-en .nav-inner{ justify-content:flex-end; }
    body.lang-ar .nav-inner{ justify-content:flex-start; }

    /* Ensure the settings wrap behaves inside nav */
    .site-nav .corner-control{ position: static !important; }
    .site-nav .display-settings{ position: relative; }

    /* Dropdown: fixed to viewport + high z-index (prevents "hang" / clipping) */
    .display-menu{
      position: fixed !important;
      z-index: 30000 !important;
    }

    @media (max-width: 720px){
      .site-nav{ padding: 10px 10px; border-radius: 16px; }
      .nav-inner{ justify-content: center; }
      body.lang-en .nav-inner, body.lang-ar .nav-inner{ justify-content: center; }
    }


    /* ===============================
       Top controls navbar (icons only) - above header
       =============================== */
    .top-controls{
      margin: 10px 0 14px;
      padding: 8px 10px;
      border-radius: 18px;
    }
    .top-controls-inner{
      display:flex;
      align-items:center;
      gap: 8px;
      min-height: 40px;
      justify-content: flex-start;
    }
    body.lang-en .top-controls-inner{ justify-content: flex-end; }

    .icon-btn{
      width: 40px;
      height: 40px;
      display:grid;
      place-items:center;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.05);
      box-shadow: inset 0 1px 0 rgba(255,255,255,.10);
      color: rgba(255,255,255,.92);
      cursor: pointer;
      transition: transform .16s ease, border-color .16s ease, background .16s ease;
    }
    .icon-btn:hover{
      transform: translateY(-1px);
      border-color: rgba(5,173,173,.45);
      background: rgba(255,255,255,.07);
    }
    .icon-btn:active{ transform: translateY(0px) scale(.98); }
    .icon-btn svg{ width: 18px; height: 18px; }

    .top-controls-sep{
      width: 1px;
      height: 22px;
      background: rgba(255,255,255,.12);
      margin: 0 2px;
      border-radius: 999px;
    }

    @media (max-width: 720px){
      .top-controls{ padding: 8px; border-radius: 16px; }
      .top-controls-inner{
        justify-content: center !important;
      }
    }


    /* ===============================
       Subtitle moved under header title (remove utility subtitle box)
       =============================== */
    .header-subtitle{
      margin-top: 8px;
      margin-bottom: 0;
      opacity: .9;
      font-size: 14px;
      line-height: 1.55;
      color: rgba(255,255,255,.82);
    }
    .brand-text{ display:flex; flex-direction:column; gap: 6px; }
    .utility-subtitle{ display:none !important; }
    .utility-bar{ display:none !important; }


    /* ===============================
       Quick Nav Search (inside " ")
       =============================== */
    .quick-search{
      margin-top: 10px;
      display:flex;
      align-items:center;
      gap: 10px;
      padding: 10px 12px;
      border-radius: 16px;
      background: rgba(255,255,255,.05);
      border: 1px solid rgba(255,255,255,.10);
      box-shadow: inset 0 1px 0 rgba(255,255,255,.08);
      color: rgba(255,255,255,.9);
    }
    .quick-search-ic{
      width: 18px; height: 18px;
      display:grid; place-items:center;
      opacity: .9;
    }
    .quick-search-ic svg{ width:18px; height:18px; }
    .quick-search-input{
      flex: 1;
      border: 0;
      outline: none;
      background: transparent;
      color: rgba(255,255,255,.92);
      font-size: 14px;
      letter-spacing: .2px;
    }
    .quick-search-input::placeholder{ color: rgba(255,255,255,.55); }
    .quick-search-clear{
      width: 34px; height: 34px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      color: rgba(255,255,255,.85);
      cursor:pointer;
      display:grid; place-items:center;
      transition: transform .16s ease, background .16s ease, border-color .16s ease;
    }
    .quick-search-clear:hover{
      transform: translateY(-1px);
      background: rgba(255,255,255,.06);
      border-color: rgba(5,173,173,.40);
    }
    .quick-search-clear svg{ width:16px; height:16px; }
    #quickSearchClear{ display:none; }

    .chip.is-hidden{ display:none !important; }
    main section.is-hidden,
    main .glass-card.is-hidden{ display:none !important; }

    @media (max-width: 720px){
      .quick-search{ padding: 10px; border-radius: 14px; }
      .quick-search-input{ font-size: 13px; }
    }


    /* ===============================
       Quick Nav icon controls (font + language)
       =============================== */
    .quick-nav-title{
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 12px;
    }
    .quick-controls{
      display:flex;
      align-items:center;
      gap: 8px;
      flex: 0 0 auto;
    }
    .qic-btn{
      width: 36px;
      height: 36px;
      display:grid;
      place-items:center;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.05);
      box-shadow: inset 0 1px 0 rgba(255,255,255,.08);
      color: rgba(255,255,255,.92);
      cursor: pointer;
      transition: transform .16s ease, border-color .16s ease, background .16s ease;
    }
    .qic-btn:hover{
      transform: translateY(-1px);
      border-color: rgba(5,173,173,.45);
      background: rgba(255,255,255,.07);
    }
    .qic-btn:active{ transform: translateY(0px) scale(.98); }
    .qic-btn svg{ width: 18px; height: 18px; }
    .qic-sep{
      width: 1px;
      height: 20px;
      background: rgba(255,255,255,.12);
      border-radius: 999px;
      margin: 0 2px;
    }

    /* RTL: controls on left, title on right */
    body.lang-ar .quick-nav-title{ flex-direction: row-reverse; }
    body.lang-ar .quick-controls{ flex-direction: row; }

    @media (max-width: 720px){
      .quick-nav-title{ flex-wrap: wrap; }
    }


    /* ===============================
       Quick Nav spacing improvements (search vs chips + RTL title/control separation)
       =============================== */
    /* Space between search bar and chips row */
    .quick-search{ margin-bottom: 10px !important; }
    .quick-nav .chip-row,
    .quick-nav .chips,
    .quick-nav .quick-chips{
      margin-top: 8px !important;
    }

    /* If chips are directly after quick-search without a wrapper */
    .quick-search + *{ margin-top: 10px !important; }

    /* Arabic: add breathing room between "  " and controls group */
    body.lang-ar .quick-nav-title{
      gap: 16px !important;
    }
    body.lang-ar .quick-controls{
      margin-inline-start: 10px !important;
    }

    /* Keep controls visually detached on small widths */
    @media (max-width: 720px){
      .quick-search{ margin-bottom: 12px !important; }
      .quick-search + *{ margin-top: 12px !important; }
      body.lang-ar .quick-nav-title{ gap: 14px !important; }
    }


    /* ===============================
       Layout width tuning (wider cards + quick-nav equal width)
       =============================== */
    :root{
      --container-max: 1280px; /* was narrower */
      --container-pad: 18px;
    }

    .container{
      max-width: var(--container-max) !important;
      padding-left: var(--container-pad) !important;
      padding-right: var(--container-pad) !important;
    }

    /* Ensure all top-level blocks use the same width rhythm */
    .main-header,
    .quick-nav,
    main,
    footer{
      width: 100% !important;
    }

    /* If any block had its own max-width, normalize it */
    .main-header,
    .quick-nav,
    .utility-wrap,
    .section,
    .section-wrap,
    .footer-inner{
      max-width: var(--container-max) !important;
      margin-left: auto !important;
      margin-right: auto !important;
    }

    /* Slightly widen grid cards and reduce excessive gaps */
    .grid,
    .cards-grid{
      gap: 14px !important;
    }
    @media (min-width: 980px){
      .grid,
      .cards-grid{
        grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
      }
    }

    /* Quick-nav card: match the same outer spacing as section cards */
    .quick-nav{
      margin-top: 16px !important;
      margin-bottom: 16px !important;
    }


    /* ===============================
       Width enforcement (some builds don't use .container)
       =============================== */
    :root{
      --container-max: 1280px;
      --container-pad: 18px;
    }
    .container, .wrap, .shell, .page, .site, .app{
      max-width: var(--container-max) !important;
      margin-left: auto !important;
      margin-right: auto !important;
      padding-left: var(--container-pad) !important;
      padding-right: var(--container-pad) !important;
    }
    /* If sections/cards are constrained individually */
    main, header, footer{
      max-width: var(--container-max) !important;
      margin-left: auto !important;
      margin-right: auto !important;
      padding-left: var(--container-pad) !important;
      padding-right: var(--container-pad) !important;
    }

    .quick-nav{
      width: 100% !important;
      max-width: none !important;
    }

    /* ===============================
       Jump highlight (after quick-nav navigation)
       =============================== */
    .jump-highlight{
      position: relative;
      outline: 1px solid rgba(5,173,173,.55);
      box-shadow:
        0 0 0 4px rgba(5,173,173,.10),
        0 18px 50px rgba(140,64,255,.18);
      transform: translateY(-2px);
      transition: box-shadow .28s ease, outline-color .28s ease, transform .28s ease;
    }

    /* ===============================
       Page sizing aligned to reference layout (Eid page)
       =============================== */
    .page-wrapper{
      width: 100%;
      max-width: 1200px;
      padding: 24px 16px 32px;
      margin: 0 auto;
    }
    @media (min-width: 768px){
      .page-wrapper{ padding: 32px 24px 40px; }
    }

    /* Cards: keep same rhythm and avoid over-wide quick blocks */
    .glass-card{ border-radius: var(--radius-lg); }
    .main-header{ margin-bottom: 18px; }
    .quick-nav{ width: 100%; margin-top: 14px; margin-bottom: 18px; }

    /* Grid: 1 column on mobile, 2 on desktop */
    .grid, .cards-grid{
      display: grid;
      grid-template-columns: 1fr;
      gap: 14px;
    }
    @media (min-width: 980px){
      .grid, .cards-grid{ grid-template-columns: repeat(2, minmax(0,1fr)); }
    }


    /* ===============================
       Mobile modal scrolling + gradients list fix
       - Allow scrolling inside Palette/Gradients overlays on mobile
       - Prevent "cards inside each other" feel by removing extra padding override
       =============================== */

    /* Overlays should allow scroll if dialog is taller than viewport (mobile) */
    .preview-overlay{
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
    }
    @media (max-width: 640px){
      .preview-overlay{
        align-items: flex-start;
        justify-content: center;
        padding: 12px;
      }
      .preview-dialog{
        margin: 10px auto 16px;
        max-height: calc(100vh - 28px);
      }
    }

    /* Make dialog a true flex column with scrollable content area */
    .preview-dialog{
      overflow: hidden;
    }
    .preview-content{
      flex: 1 1 auto;
      min-height: 0;
      overflow: auto;
      -webkit-overflow-scrolling: touch;
      touch-action: pan-y;
      padding-bottom: 14px;
    }

    /* Ensure gradients/palette content uses a grid with proper gap */
    #gradients-content,
    #palette-modal-content{
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 14px;
      align-content: start;
    }
    @media (max-width: 560px){
      #gradients-content,
      #palette-modal-content{
        grid-template-columns: 1fr;
        gap: 12px;
      }
    }

    /* Gradients cards: remove the extra padding override that makes "box within box" */
    .gradient-card{
      padding: 0 !important;
      border-radius: 18px !important;
      overflow: hidden;
    }
    .gradient-preview{
      border-radius: 0 !important;
    }


    /* ===============================
       Fix Palette modal layout + Gradients layout (undo wrong grid on containers)
       =============================== */

    /* IMPORTANT: palette content is injected and already contains .palette-modal-grid.
       Do NOT make #palette-modal-content itself a grid, it breaks alignment. */
    #palette-modal-content{
      display: block !important;
      gap: 0 !important;
    }
    .palette-modal-grid{
      width: 100%;
      max-width: 100%;
      justify-items: stretch;
      align-items: stretch;
    }
    .palette-modal-item{ width: 100%; }

    /* Gradients: keep a clean vertical list (no container grid) with proper spacing */
    #gradients-content{
      display: block !important;
    }
    #gradients-content.preview-body--group{
      display: flex !important;
      flex-direction: column !important;
      align-items: stretch !important;
      justify-content: flex-start !important;
      gap: 12px !important;
      padding: 16px 14px !important;
    }
    @media (max-width: 560px){
      #gradients-content.preview-body--group{
        padding: 14px 12px !important;
        gap: 10px !important;
      }
    }


    /* ===============================
       MOBILE RESPONSIVE + PALETTE/GRADIENTS MODALS HARD FIX
       - Make modals scrollable on mobile (no page lock feeling)
       - Fix palette layout to fill width and stack cleanly
       - Fix gradients cards so they don't look nested/overlapped
       =============================== */

    /* 1) Modal overlay & dialog sizing for mobile */
    .preview-overlay.visible{
      opacity: 1;
      pointer-events: auto;
    }
    .preview-overlay{
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
      touch-action: pan-y;
    }
    @media (max-width: 720px){
      .preview-overlay{
        align-items: flex-start !important;
        justify-content: center !important;
        padding: 12px !important;
      }
      .preview-dialog{
        width: 100% !important;
        max-width: 720px !important;
        margin: 10px auto 18px !important;
        max-height: calc(100vh - 28px) !important;
        padding: 12px 12px 10px !important;
      }
      .preview-header{
        position: sticky;
        top: 0;
        z-index: 2;
        background: rgba(7, 10, 24, 0.96);
        border-radius: 14px;
        padding: 10px 10px 8px;
        margin-bottom: 10px;
        box-shadow: 0 10px 24px rgba(0,0,0,.35);
      }
      .preview-content{
        max-height: calc(100vh - 170px) !important;
        overflow: auto !important;
        -webkit-overflow-scrolling: touch;
        padding: 10px 8px 14px !important;
      }
    }

    /* 2) Palette modal: fill width + responsive grid */
    #palette-modal-content{
      display: block !important;
    }
    .palette-modal-grid{
      width: 100% !important;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 12px !important;
      align-items: stretch;
      justify-items: stretch;
    }
    @media (max-width: 900px){
      .palette-modal-grid{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
    }
    @media (max-width: 520px){
      .palette-modal-grid{ grid-template-columns: 1fr; gap: 10px !important; }
    }
    .palette-modal-item{
      min-width: 0;
    }
    .palette-modal-swatch{
      border-radius: 14px !important;
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.10), 0 16px 26px rgba(0,0,0,.22);
    }
    .palette-modal-code{
      margin-top: 10px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
      flex-wrap: nowrap;
    }
    .palette-modal-code .btn{
      flex: 0 0 auto;
    }
    .palette-modal-code .chip{
      max-width: 100%;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    /* 3) Gradients modal: clean vertical list + non-nested card look */
    #gradients-content{
      display: block !important;
    }
    #gradients-content.preview-body--group{
      display: flex !important;
      flex-direction: column !important;
      align-items: stretch !important;
      justify-content: flex-start !important;
      gap: 12px !important;
      padding: 12px 10px 14px !important;
    }

    .gradient-card{
      padding: 12px !important;
      border-radius: 18px !important;
      overflow: hidden;
    }
    .gradient-preview{
      height: 68px !important;
      border-radius: 16px !important;
      border: 1px solid rgba(255,255,255,.12) !important;
      box-shadow: 0 18px 34px rgba(0,0,0,.22);
      margin-bottom: 10px;
    }
    .gradient-meta{
      padding: 0 !important;
      background: transparent !important;
      border: 0 !important;
    }
    .gradient-css{
      margin-top: 8px;
      padding: 10px 12px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      overflow: hidden;
      text-overflow: ellipsis;
    }

    @media (max-width: 520px){
      .gradient-preview{ height: 76px !important; }
      .gradient-actions{ display: flex; flex-wrap: wrap; gap: 10px !important; }
      .gradient-actions .btn{ flex: 1 1 140px; }
    }

    /* 4) General mobile responsiveness: ensure chips wrap and cards fit */
    @media (max-width: 720px){
      .chips, .chip-row, .quick-chips{
        flex-wrap: wrap !important;
        gap: 10px !important;
      }
      .chip{
        white-space: nowrap;
      }
      .glass-card{
        border-radius: 18px;
      }
    }


    /* ===============================
       Gradients info visibility fix (restore readable metadata)
       =============================== */
    /* Make the CSS line readable (no ellipsis), wrap on mobile, keep LTR */
    .gradient-css{
      white-space: normal !important;
      overflow: visible !important;
      text-overflow: clip !important;
      word-break: break-word !important;
      direction: ltr !important;
      text-align: left !important;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace !important;
      font-size: 12px !important;
      line-height: 1.35 !important;
    }
    /* Ensure meta section has enough padding and doesn't get clipped */
    .gradient-meta{
      padding: 10px 12px !important;
      align-items: flex-start !important;
      gap: 12px !important;
    }
    .gradient-name{
      font-size: 13px !important;
      line-height: 1.25 !important;
    }
    @media (max-width: 520px){
      .gradient-meta{
        flex-direction: column !important;
        align-items: stretch !important;
      }
      .gradient-meta > div:last-child{
        width: 100% !important;
        justify-content: flex-start !important;
      }
      .copy-btn{
        width: 100% !important;
        justify-content: center !important;
      }
    }


    .gradient-desc{
      margin-top: 6px;
      font-size: 12px;
      line-height: 1.45;
      color: rgba(255,255,255,.72);
      max-width: 58ch;
    }


    /* ===============================
       Gradients cards sizing boost (better readability)
       =============================== */
    .gradient-card{
      padding: 16px !important;
      border-radius: 20px !important;
    }
    .gradient-preview{
      height: 92px !important;
      border-radius: 18px !important;
      margin-bottom: 12px !important;
    }
    .gradient-meta{
      padding: 12px 12px !important;
      gap: 12px !important;
    }
    .gradient-name{
      font-size: 14px !important;
      letter-spacing: .2px;
    }
    .gradient-desc{
      font-size: 12.5px !important;
      line-height: 1.5 !important;
      color: rgba(255,255,255,.76) !important;
    }
    .gradient-css{
      margin-top: 10px !important;
      padding: 12px 12px !important;
      border-radius: 14px !important;
      font-size: 12.5px !important;
      line-height: 1.45 !important;
    }
    .gradient-actions{
      gap: 10px !important;
    }
    .gradient-actions .btn,
    .gradient-actions .copy-btn{
      height: 38px !important;
      padding: 0 14px !important;
      border-radius: 12px !important;
      font-size: 12.5px !important;
    }

    @media (min-width: 980px){
      .gradient-preview{ height: 104px !important; }
      #gradients-content.preview-body--group{ gap: 14px !important; }
      .gradient-card{ padding: 18px !important; }
    }

    @media (max-width: 520px){
      .gradient-preview{ height: 96px !important; }
      .gradient-actions{ display: flex !important; flex-wrap: wrap !important; }
      .gradient-actions .btn,
      .gradient-actions .copy-btn{ flex: 1 1 160px !important; }
    }

</style>

<style id="tsg-curation-style">
  /* Curated toolbar + favorites UI */
  .tsg-toolbar{
    display:flex;
    flex-direction:column;
    gap:10px;
    margin: 6px 0 14px;
  }
  .tsg-chips{
    display:flex;
    flex-wrap:wrap;
    gap:8px;
  }
  .tsg-searchWrap{
    display:flex;
    gap:10px;
    align-items:center;
  }
  .tsg-search{
    flex:1;
    min-width: 140px;
    padding: 10px 12px;
    border-radius: 14px;
    border: 1px solid rgba(255,255,255,.12);
    background: rgba(255,255,255,.06);
    color: inherit;
    outline: none;
  }
  .tsg-chip{
    border-radius: 999px;
    padding: 8px 12px;
    border: 1px solid rgba(255,255,255,.12);
    background: rgba(255,255,255,.06);
    color: inherit;
    cursor:pointer;
    user-select:none;
  }
  .tsg-chip.is-active{
    border-color: rgba(5,173,173,.65);
    box-shadow: 0 0 0 3px rgba(5,173,173,.18);
  }
  .tsg-sectionTitle{
    margin: 14px 0 10px;
    font-weight: 700;
    opacity:.95;
    letter-spacing: .2px;
  }
  .tsg-swatch{
    position: relative;
  }
  #tsg-favs-toggle.is-active{
    border-color: rgba(140,64,255,.7);
    box-shadow: 0 0 0 3px rgba(140,64,255,.18);
  }
</style>

<style id="tsg-gapfix-style">
  /* Remove the big empty space inside the gradients modal */
  #tsg-overlay .tsg-dialog{ padding-top: 14px !important; }
  #tsg-overlay .tsg-head{ margin-bottom: 10px !important; }
  #tsg-overlay .tsg-toolbar{ margin: 0 0 10px !important; }
  #tsg-overlay .tsg-searchWrap{ margin-top: 0 !important; }
  #tsg-overlay #tsg-grid{ margin-top: 0 !important; padding-top: 0 !important; }
  #tsg-overlay .tsg-sectionTitle{ margin: 10px 0 8px !important; }
</style>

<style id="tsg-tight-no-search">
  /* Hide search row if any remains and remove its space */
  #tsg-overlay .tsg-searchWrap,
  #tsg-overlay .tsg-search,
  #tsg-overlay #tsg-search,
  #tsg-overlay #tsg-search2{ display:none !important; }

  /* Reduce internal gaps */
  #tsg-overlay .tsg-tools{ margin: 0 !important; padding: 0 !important; }
  #tsg-overlay .tsg-toolbar{ margin: 0 0 8px !important; padding: 8px 0 0 !important; }
  #tsg-overlay .tsg-head{ padding-bottom: 10px !important; }
  #tsg-overlay .tsg-body{ padding-top: 6px !important; }
  #tsg-overlay #tsg-grid{ margin-top: 0 !important; padding-top: 0 !important; }
</style>

<style id="tsg-section-gap-fix">
  /* Make section headers span the full grid width (prevents empty column gap) */
  #tsg-overlay .tsg-sectionTitle{
    grid-column: 1 / -1 !important;
    width: 100% !important;
    text-align: start;
    margin: 8px 0 8px !important;
    padding: 0 4px;
  }
  /* Slightly tighten grid gap so sections feel continuous */
  #tsg-overlay #tsg-grid{
    row-gap: 14px !important;
  }
</style>

<style id="tsg-two-upgrades">
  /* Bigger preview */
  #tsg-overlay .tsg-swatch{ height: 138px !important; }
  @media (min-width: 900px){
    #tsg-overlay .tsg-swatch{ height: 154px !important; }
  }

  /* Full CSS drawer */
  #tsg-overlay .tsg-full{
    display:none;
    margin-top: 10px;
    padding: 10px 12px;
    border-radius: 16px;
    border: 1px solid rgba(255,255,255,.12);
    background: rgba(255,255,255,.05);
  }
  #tsg-overlay .tsg-card.is-open .tsg-full{ display:block; }

  #tsg-overlay .tsg-fullCode{
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    font-size: 12px;
    color: rgba(255,255,255,.92);
    white-space: pre-wrap;
    word-break: break-word;
    line-height: 1.45;
  }
  #tsg-overlay .tsg-fullActions{
    display:flex;
    justify-content: flex-end;
    margin-top: 10px;
  }
  #tsg-overlay .tsg-btn--tiny{
    padding: 7px 10px;
    font-size: 12px;
  }
</style>



<style id="ts-modal-unify-style">
  /* =========================================
     Unified Modal System  match "Gradients" design
     Applies to: Palette / Design Preview / Asset Preview
     ========================================= */

  /* Closed by default (avoid click-capture bugs) */
  .preview-overlay,
  #asset-preview-overlay,
  #palette-overlay,
  #design-overlay,
  #preview-overlay{
    display: none !important;
    pointer-events: none !important;
  }

  /* Open states (support multiple open mechanisms) */
  .preview-overlay.visible,
  .preview-overlay.is-open,
  .preview-overlay.open,
  .preview-overlay[data-open="true"],
  #asset-preview-overlay.visible,
  #asset-preview-overlay.is-open,
  #palette-overlay.visible,
  #palette-overlay.is-open,
  #design-overlay.visible,
  #design-overlay.is-open,
  #preview-overlay[aria-hidden="false"],
  #preview-overlay.visible,
  #preview-overlay.is-open{
    display: grid !important;
    pointer-events: auto !important;
    position: fixed !important;
    inset: 0 !important;
    z-index: 9998 !important;
    place-items: center !important;
    padding: 20px !important;
    background: rgba(0,0,0,.45) !important;
    backdrop-filter: blur(10px) !important;
    -webkit-backdrop-filter: blur(10px) !important;
  }

  /* Dialog: same feel as .tsg-dialog */
  .preview-overlay.visible .preview-dialog,
  .preview-overlay.is-open .preview-dialog,
  .preview-overlay.open .preview-dialog,
  .preview-overlay[data-open="true"] .preview-dialog,
  #asset-preview-overlay.visible .preview-dialog,
  #asset-preview-overlay.is-open .preview-dialog,
  #palette-overlay.visible .preview-dialog,
  #palette-overlay.is-open .preview-dialog,
  #design-overlay.visible .preview-dialog,
  #design-overlay.is-open .preview-dialog,
  #preview-overlay[aria-hidden="false"] .preview-dialog,
  #preview-overlay.visible .preview-dialog,
  #preview-overlay.is-open .preview-dialog{
    width: min(980px, calc(100vw - 28px)) !important;
    max-height: min(88vh, 860px) !important;
    overflow: hidden !important;
    border-radius: 26px !important;
    border: 1px solid rgba(255,255,255,.14) !important;
    background:
      radial-gradient(900px 420px at 15% 0%, rgba(5,173,173,.18) 0%, rgba(5,173,173,0) 60%),
      radial-gradient(900px 520px at 85% 0%, rgba(140,64,255,.16) 0%, rgba(140,64,255,0) 62%),
      rgba(10,15,33,.92) !important;
    box-shadow:
      0 20px 70px rgba(0,0,0,.55),
      inset 0 1px 0 rgba(255,255,255,.10) !important;
  }

  /* Header: same as gradients head */
  .preview-header{
    position: sticky !important;
    top: 0 !important;
    z-index: 2 !important;
    display:flex !important;
    align-items: flex-start !important;
    justify-content: space-between !important;
    gap: 12px !important;
    padding: 16px 18px !important;
    border-bottom: 1px solid rgba(255,255,255,.10) !important;
    background: linear-gradient(135deg, rgba(5,173,173,.14) 0%, rgba(140,64,255,.12) 60%, rgba(13,41,92,.14) 100%) !important;
    backdrop-filter: blur(12px) !important;
    -webkit-backdrop-filter: blur(12px) !important;
    border-top-left-radius: 26px !important;
    border-top-right-radius: 26px !important;
  }

  .preview-title-wrap{
    display:flex !important;
    flex-direction: column !important;
    gap: 6px !important;
    min-width: 0 !important;
  }

  .preview-title{
    font-weight: 900 !important;
    font-size: 18px !important;
    letter-spacing: .2px !important;
    line-height: 1.2 !important;
    opacity: .98 !important;
  }
  .preview-sub{
    font-size: 12px !important;
    opacity: .82 !important;
    line-height: 1.35 !important;
    max-width: 64ch !important;
  }

  /* Close button: match gradients icon button */
  .preview-close-btn,
  #design-close{
    width: 40px !important;
    height: 40px !important;
    border-radius: 16px !important;
    border: 1px solid rgba(255,255,255,.16) !important;
    background: rgba(255,255,255,.06) !important;
    color: rgba(255,255,255,.92) !important;
    cursor:pointer !important;
    box-shadow: inset 0 1px 0 rgba(255,255,255,.10) !important;
    transition: transform .16s ease, border-color .16s ease, background .16s ease !important;
    padding: 0 !important;
    margin: 0 !important;
  }
  .preview-close-btn:hover,
  #design-close:hover{
    transform: translateY(-1px) !important;
    border-color: rgba(255,255,255,.24) !important;
    background: rgba(255,255,255,.08) !important;
  }
  .preview-close-btn:active,
  #design-close:active{
    transform: translateY(0) !important;
  }

  /* Any "ghost" buttons inside modal header -> match gradients buttons */
  .preview-header .btn,
  .preview-header .btn-ghost,
  .preview-header .btn-mini,
  .preview-header button{
    border: 1px solid rgba(255,255,255,.16) !important;
    background: rgba(255,255,255,.06) !important;
    color: rgba(255,255,255,.92) !important;
    border-radius: 14px !important;
    padding: 10px 12px !important;
    font-weight: 900 !important;
    font-size: 12px !important;
    box-shadow: inset 0 1px 0 rgba(255,255,255,.10) !important;
  }
  .preview-header .btn:hover,
  .preview-header .btn-ghost:hover,
  .preview-header .btn-mini:hover,
  .preview-header button:hover{
    background: rgba(255,255,255,.08) !important;
    border-color: rgba(255,255,255,.24) !important;
  }

  /* Body layout */
  .preview-body,
  .preview-content{
    padding: 16px 18px 18px !important;
    overflow: auto !important;
    max-height: calc(min(88vh, 860px) - 76px) !important;
  }

  /* Actions area */
  .preview-actions{
    padding: 0 18px 18px !important;
  }

  /* Ensure modal content cards keep the same glassy look */
  .preview-body .glass-card,
  .preview-body .glass-panel,
  .preview-body .asset-card{
    border-radius: 20px !important;
  }

  @media (max-width: 720px){
    .preview-overlay.visible,
    .preview-overlay.is-open,
    #asset-preview-overlay.visible,
    #asset-preview-overlay.is-open,
    #palette-overlay.visible,
    #palette-overlay.is-open,
    #design-overlay.visible,
    #design-overlay.is-open,
    #preview-overlay[aria-hidden="false"]{
      padding: 12px !important;
    }
    .preview-title{ font-size: 16px !important; }
    .preview-dialog{
      width: min(980px, calc(100vw - 16px)) !important;
      border-radius: 22px !important;
    }
    .preview-header{
      padding: 14px 14px !important;
      border-top-left-radius: 22px !important;
      border-top-right-radius: 22px !important;
    }
    .preview-body,
    .preview-content{ padding: 14px 14px 16px !important; }
  }
</style>

<style id="ts-top-controls-safe">
  /* ===== Top controls (LANG / + / -)  extracted from header safely ===== */
  .top-controls-bar{
    position: fixed;
    top: 12px;
    left: 12px;
    z-index: 9999;
    padding: 8px 10px;
    border-radius: 16px;
    border: 1px solid rgba(255,255,255,.14);
    background: rgba(255,255,255,.06);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    box-shadow: inset 0 1px 0 rgba(255,255,255,.10);
    display: inline-flex;
    align-items: center;
    direction: ltr; /* keep order stable */
  }

  .top-controls-bar .quick-controls{
    display:flex !important;
    align-items:center !important;
    gap:8px !important;
    padding: 0 !important;
    margin: 0 !important;
    border: 0 !important;
    background: transparent !important;
    box-shadow: none !important;
  }
  .top-controls-bar .qic-sep{ display:none !important; }

  .top-controls-bar .qic-btn{
    width: 30px !important;
    height: 30px !important;
    border-radius: 12px !important;
  }
  .top-controls-bar .qic-btn svg{
    width: 14px !important;
    height: 14px !important;
  }

  /* Reserve space so header doesn't collide with fixed bar */
  html.has-topbar header.main-header{ margin-top: 64px !important; }
  @media (max-width: 720px){
    html.has-topbar header.main-header{ margin-top: 58px !important; }
    .top-controls-bar{ top: 10px; left: 10px; padding: 7px 9px; }
    .top-controls-bar .qic-btn{ width: 28px !important; height: 28px !important; }
  }

  /* Hide hub search + tags row (no breaking markup) */
  .quick-search, .chip-row, .quick-nav-title{ display:none !important; }
</style>

<style id="ts-hide-hub-tag-dot">
  .hub-tag-dot{ display:none !important; }
</style>

<style id="ts-hide-chip-row">
  .chip-row{ display:none !important; }
  .chip-dot{ display:none !important; }
</style>

<style id="ts-hide-utility-quicknav">
  .utility-wrap,.quick-nav{ display:none !important; }
</style>

<style id="ts-top-controls">
  .top-controls-bar{
    position: fixed;
    top: 14px;
    left: 14px;
    z-index: 9999;
    display: flex;
    align-items: center;
    gap: 8px;
    direction: ltr; /* keep order stable */
    background: rgba(255,255,255,.06);
    border: 1px solid rgba(255,255,255,.14);
    box-shadow: inset 0 1px 0 rgba(255,255,255,.10);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    padding: 8px;
    border-radius: 16px;
  }
  .top-controls-bar .tcb-btn{
    width: 34px;
    height: 34px;
    border-radius: 14px;
    border: 1px solid rgba(255,255,255,.14);
    background: rgba(255,255,255,.07);
    color: inherit;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
  }
  .top-controls-bar .tcb-btn:hover{
    background: rgba(255,255,255,.10);
  }
  .top-controls-bar .tcb-btn svg{
    width: 16px;
    height: 16px;
    fill: currentColor;
    opacity: .95;
  }
  /* keep content clear from the fixed bar */
  body{ padding-top: 0 !important; }
  @media (max-width: 720px){
    .top-controls-bar{ top: 10px; left: 10px; padding: 7px; }
    .top-controls-bar .tcb-btn{ width: 32px; height: 32px; }
  }
</style>

<style id="ts-remove-stars">
  .tsg-fav, #tsg-favs-toggle, .tsg-chip[data-tag="Top"]{ display:none !important; }
</style>

<style id="ts-footer-layout-v2">
  .site-footer{
    padding: 14px 18px 14px;
    font-size: calc(13px * var(--font-scale));
    color: var(--text-secondary);
  }
  .footer-grid{
    display:flex;
    justify-content: space-between;
    align-items: flex-end;
    gap: 14px;
    width: 100%;
  }
  /* Ensure the "right" block stays on the right in both languages */
  body.lang-ar .footer-grid{ direction: rtl; }
  body.lang-en .footer-grid{ direction: ltr; }

  .footer-right{
    display:flex;
    flex-direction: column;
    gap: 6px;
    text-align: right;
  }
  .footer-left{
    text-align: left;
    opacity: .9;
    font-weight: 800;
    letter-spacing: .2px;
  }

  .footer-meta{
    display:flex;
    flex-direction: column;
    gap: 2px;
    line-height: 1.25;
  }
  .footer-strong{
    color: rgba(255,255,255,.92);
    font-weight: 900;
    letter-spacing: .2px;
  }
  .footer-date{
    color: rgba(255,255,255,.78);
    font-weight: 800;
  }

  @media (max-width: 720px){
    .footer-grid{
      flex-direction: column;
      align-items: stretch;
      gap: 10px;
    }
    .footer-right{ text-align: right; }
    .footer-left{ text-align: right; } /* stacked: keep neat for ar */
    body.lang-en .footer-left{ text-align: left; }
  }
</style>
</head>
<body class="lang-ar">

<!-- TOP CONTROLS (Language + Font size) -->
<div class="top-controls-bar" id="top-controls-bar" aria-label="Controls">
  <button class="tcb-btn" id="top-lang-toggle" type="button" aria-label="  / Change language" title="  / Change language">
    <!-- Globe -->
    <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M12 2a10 10 0 1 0 .001 20.001A10 10 0 0 0 12 2Zm7.93 9h-3.17a15.7 15.7 0 0 0-1.18-5.02A8.02 8.02 0 0 1 19.93 11ZM12 4c.9 0 2.33 2.06 3.02 7H8.98C9.67 6.06 11.1 4 12 4Zm-7.58 7a8.02 8.02 0 0 1 4.35-5.02A15.7 15.7 0 0 0 7.59 11H4.42ZM4.07 13h3.17c.22 1.86.67 3.55 1.18 5.02A8.02 8.02 0 0 1 4.07 13Zm7.93 7c-.9 0-2.33-2.06-3.02-7h6.04c-.69 4.94-2.12 7-3.02 7Zm3.23-1.98c.51-1.47.96-3.16 1.18-5.02h3.17a8.02 8.02 0 0 1-4.35 5.02Z"/></svg>
  </button>

  <button class="tcb-btn" id="top-font-inc" type="button" aria-label=" " title=" ">
    <!-- Plus -->
    <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M19 11H13V5a1 1 0 1 0-2 0v6H5a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2Z"/></svg>
  </button>

  <button class="tcb-btn" id="top-font-dec" type="button" aria-label=" " title=" ">
    <!-- Minus -->
    <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M19 11H5a1 1 0 1 0 0 2h14a1 1 0 1 0 0-2Z"/></svg>
  </button>
</div>
<div class="page-wrapper">
<!-- HEADER -->
<header class="main-header">
  <div class="header-top glass-card">
    

    <div class="header-brand">
      <div class="brand-cluster">
        <button class="logo-box asset-group-trigger" data-asset-group="logos" type="button">
<img alt="T&amp;S Logo" src="assets/logos/ts-logo-mark.svg"/>
</button>
        <div class="brand-text">
          <div class="hub-tag">

<span>T&amp;S Brand Hub</span>
</div>
          <h1 class="header-title">
  <span class="tr-ar">    T&amp;S</span>
  <span class="tr-en">Brand assets and templates for consistent T&amp;S output.</span>
</h1>

          <p class="header-subtitle">
            <span class="tr-ar">         .</span>
            <span class="tr-en">A quick reference for logos, colors, typography, and approved templatesready to use.</span>
          </p>
        </div>
      </div>
    </div>
  </div>
</header>


<main class="content-grid">
<!-- Row 1: Logo + Colors -->
<article class="card glass-card" id="logos">
<header class="card-header">
<div>
<div class="card-kicker tr-ar"> </div>
<div class="card-kicker tr-en">Primary Logo</div>
<h2 class="card-title">
<span class="tr-ar"> &amp;  </span>
<span class="tr-en">Logo &amp; Core Usage</span>
</h2>
</div>
</header>
<div class="card-body">
<p>
<span class="tr-ar">
                  T&amp;S      
              <strong>   </strong>.   
                (Clear Space)       
                 .
            </span>
<span class="tr-en">
              Always use the official T&amp;S logo as provided, with
              <strong>no changes to colors, proportions, or structure</strong>.
              Keep a clear space around the logo and avoid placing it on
              cluttered or low-contrast backgrounds that reduce legibility.
            </span>
</p>
<div class="asset-grid">
<button class="asset-tile asset-group-trigger" data-asset-group="logoLight" type="button">
<div aria-hidden="true" class="asset-icon"><svg aria-hidden="true" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8" viewbox="0 0 24 24"><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2M12 20v2M4 12H2M22 12h-2M5 5l1.4 1.4M17.6 17.6 19 19M19 5l-1.4 1.4M6.4 17.6 5 19"></path></svg></div>
<div class="asset-text">
<div class="asset-title tr-ar"> </div>
<div class="asset-title tr-en">Light Logo</div>
<div class="asset-meta tr-ar">    / .</div>
<div class="asset-meta tr-en">Use on dark / purple backgrounds.</div>
</div>
</button>
<button class="asset-tile asset-group-trigger" data-asset-group="logoDark" type="button">
<div aria-hidden="true" class="asset-icon"><svg aria-hidden="true" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8" viewbox="0 0 24 24"><path d="M21 14.5A8 8 0 1 1 9.5 3a6.5 6.5 0 0 0 11.5 11.5z"></path></svg></div>
<div class="asset-text">
<div class="asset-title tr-ar"> </div>
<div class="asset-title tr-en">Dark Logo</div>
<div class="asset-meta tr-ar">     .</div>
<div class="asset-meta tr-en">Use on white or light backgrounds.</div>
</div>
</button>
<button class="asset-tile asset-group-trigger" data-asset-group="faviconLight" type="button">
<div aria-hidden="true" class="asset-icon"><svg aria-hidden="true" class="is-dot" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8" viewbox="0 0 24 24"><circle cx="12" cy="12" r="7"></circle></svg></div>
<div class="asset-text">
<div class="asset-title tr-ar">  ()</div>
<div class="asset-title tr-en">Favicon (Light)</div>
<div class="asset-meta tr-ar">SVG / PNG</div>
<div class="asset-meta tr-en">SVG / PNG</div>
</div>
</button>
<button class="asset-tile asset-group-trigger" data-asset-group="faviconDark" type="button">
<div aria-hidden="true" class="asset-icon"><svg aria-hidden="true" class="is-dot" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8" viewbox="0 0 24 24"><circle cx="12" cy="12" r="7"></circle></svg></div>
<div class="asset-text">
<div class="asset-title tr-ar">  ()</div>
<div class="asset-title tr-en">Favicon (Dark)</div>
<div class="asset-meta tr-ar">SVG / PNG</div>
<div class="asset-meta tr-en">SVG / PNG</div>
</div>
</button>
</div>
</div>
</article>
<article class="card glass-card" id="colors">
<header class="card-header">
<div>
<div class="card-kicker tr-ar"> </div>
<div class="card-kicker tr-en">Official Colors</div>
<h2 class="card-title">
<span class="tr-ar">   Color Palette</span>
<span class="tr-en">Color Palette  Brand Core</span>
</h2>
</div>
</header>
<div class="card-body">
<p>
<span class="tr-ar">
                      
              <strong>Accent</strong>   .  
                   .
            </span>
<span class="tr-en">
              The identity uses a modern dark palette with vibrant
              <strong>accent colors</strong> to highlight key elements. Always
              use these exact HEX values in your designs.
            </span>
</p>
<div class="palette-toggle-wrapper">
<button class="btn btn-ghost" id="palette-toggle" type="button">
<span aria-hidden="true" class="icon"><svg aria-hidden="true" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8" viewbox="0 0 24 24"><path d="M12 3c-4.97 0-9 3.58-9 8 0 3.31 2.69 6 6 6h2.25c.97 0 1.75.78 1.75 1.75 0 .83-.67 1.5-1.5 1.5H10a1 1 0 0 0 0 2h2.5c2.49 0 4.5-2.01 4.5-4.5 0-1.93-1.57-3.5-3.5-3.5H9c-2.21 0-4-1.79-4-4 0-3.31 3.13-6 7-6 3.87 0 7 2.24 7 5 0 1.93-1.57 3.5-3.5 3.5H15a1 1 0 1 0 0 2h.5c3.04 0 5.5-2.46 5.5-5.5 0-3.87-4.03-7-9-7z"></path><circle cx="7.5" cy="10" r="1"></circle><circle cx="11" cy="8.5" r="1"></circle><circle cx="14.5" cy="10" r="1"></circle></svg></span>
<span class="tr-ar">
<span class="text-when-closed">  </span>
<span class="text-when-open" style="display: none;">
                    
                </span>
</span>
<span class="tr-en">
<span class="text-when-closed">Show Color Palette</span>
<span class="text-when-open" style="display: none;">
                  Show Color Palette
                </span>
</span>
</button>
<button class="btn btn-ghost" id="gradients-toggle" type="button" onclick="event.preventDefault(); (window.__tsgOpen||window.__tsgOpenFallback) && (window.__tsgOpen||window.__tsgOpenFallback)();">
  <span aria-hidden="true" class="icon">
    <svg aria-hidden="true" fill="none" viewBox="0 0 24 24">
      <path d="M4 17c3-6 5-10 8-10s5 4 8 10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      <path d="M5 17h14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      <path d="M8 14a2 2 0 1 0 0 4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      <path d="M16 14a2 2 0 1 1 0 4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
    </svg>
  </span>
  <span class="tr-ar"> </span>
  <span class="tr-en">Gradient Suggestions</span>
</button>
</div>
<div class="palette-note" id="palette-note">
  <div class="palette-note-title">
    <span class="tr-ar">  </span>
    <span class="tr-en">Quick Usage Note</span>
  </div>
  <div class="palette-note-text">
    <span class="tr-ar"> :     <span class="mono ltr">#F5F5FF</span>    <span class="mono ltr">#C0C4D6</span>.   <span class="mono ltr">#05ADAD</span>   CTA .</span>
    <span class="tr-en">For best contrast: use <span class="mono ltr">#F5F5FF</span> for primary text and <span class="mono ltr">#C0C4D6</span> for secondary text. Reserve <span class="mono ltr">#05ADAD</span> for links and CTAs.</span>
  </div>
</div>
<div class="palette-panel" id="palette-panel">
<div class="palette-grid">
<div class="palette-item">
<div class="swatch" style="background:#0A0F21;"></div>
<div class="palette-name">Primary</div>
<div class="palette-desc tr-ar">  </div>
<div class="palette-desc tr-en">Primary page color</div>
<div class="palette-hex-row">
<span class="palette-hex">#0A0F21</span>
<button class="copy-btn" data-hex="#0A0F21" type="button">
<span aria-hidden="true" class="icon"><svg aria-hidden="true" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8" viewbox="0 0 24 24"><path d="M9 3h6l1 2h3v16H5V5h3z"></path><path d="M9 3v4h6V3"></path><path d="M8 11h8M8 15h8"></path></svg></span>
<span class="copy-label tr-ar"></span>
<span class="copy-label tr-en">Copy</span>
</button>
</div>
</div>
<div class="palette-item">
<div class="swatch" style="background:#3B1745;"></div>
<div class="palette-name">Second Primary</div>
<div class="palette-desc tr-ar">  </div>
<div class="palette-desc tr-en">Supporting primary</div>
<div class="palette-hex-row">
<span class="palette-hex">#3B1745</span>
<button class="copy-btn" data-hex="#3B1745" type="button">
<span aria-hidden="true" class="icon"><svg aria-hidden="true" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8" viewbox="0 0 24 24"><path d="M9 3h6l1 2h3v16H5V5h3z"></path><path d="M9 3v4h6V3"></path><path d="M8 11h8M8 15h8"></path></svg></span>
<span class="copy-label tr-ar"></span>
<span class="copy-label tr-en">Copy</span>
</button>
</div>
</div>
<div class="palette-item">
<div class="swatch" style="background:#05ADAD;"></div>
<div class="palette-name">Secondary 1</div>
<div class="palette-desc tr-ar"> </div>
<div class="palette-desc tr-en">Highlights/links</div>
<div class="palette-hex-row">
<span class="palette-hex">#05ADAD</span>
<button class="copy-btn" data-hex="#05ADAD" type="button">
<span aria-hidden="true" class="icon"><svg aria-hidden="true" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8" viewbox="0 0 24 24"><path d="M9 3h6l1 2h3v16H5V5h3z"></path><path d="M9 3v4h6V3"></path><path d="M8 11h8M8 15h8"></path></svg></span>
<span class="copy-label tr-ar"></span>
<span class="copy-label tr-en">Copy</span>
</button>
</div>
</div>
<div class="palette-item">
<div class="swatch" style="background:#F0474A;"></div>
<div class="palette-name">Secondary 2</div>
<div class="palette-desc tr-ar"></div>
<div class="palette-desc tr-en">Alerts</div>
<div class="palette-hex-row">
<span class="palette-hex">#F0474A</span>
<button class="copy-btn" data-hex="#F0474A" type="button">
<span aria-hidden="true" class="icon"><svg aria-hidden="true" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8" viewbox="0 0 24 24"><path d="M9 3h6l1 2h3v16H5V5h3z"></path><path d="M9 3v4h6V3"></path><path d="M8 11h8M8 15h8"></path></svg></span>
<span class="copy-label tr-ar"></span>
<span class="copy-label tr-en">Copy</span>
</button>
</div>
</div>
<div class="palette-item">
<div class="swatch" style="background:#113D8F;"></div>
<div class="palette-name">Secondary 3</div>
<div class="palette-desc tr-ar">  </div>
<div class="palette-desc tr-en">Info / secondary links</div>
<div class="palette-hex-row">
<span class="palette-hex">#113D8F</span>
<button class="copy-btn" data-hex="#113D8F" type="button">
<span aria-hidden="true" class="icon"><svg aria-hidden="true" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8" viewbox="0 0 24 24"><path d="M9 3h6l1 2h3v16H5V5h3z"></path><path d="M9 3v4h6V3"></path><path d="M8 11h8M8 15h8"></path></svg></span>
<span class="copy-label tr-ar"></span>
<span class="copy-label tr-en">Copy</span>
</button>
</div>
</div>
</div>
<p class="muted" style="margin-top: 10px;">
<span class="tr-ar">
                :    <code>#F5F5FF</code>   <code>#C0C4D6</code>.
              </span>
<span class="tr-en">
                Reminder: primary text uses <code>#F5F5FF</code> and secondary text uses <code>#C0C4D6</code>.
              </span>
</p>
</div>
</div>
</article>
<!-- Row 2: Usage + Typography -->
<article class="card glass-card">
<header class="card-header">
<div>
<div class="card-kicker tr-ar"></div>
<div class="card-kicker tr-en">Usage Rules</div>
<h2 class="card-title">
<span class="tr-ar">  </span>
<span class="tr-en">Allowed &amp; Forbidden Usage</span>
</h2>
</div>
</header>
<div class="card-body">
<div class="two-column-list usage-two-column">
<div class="usage-col">
<div class="list-label">
<span class="tr-ar"> </span>
<span class="tr-en">Allowed </span>
</div>
<ul class="usage-list">
<li>
<span class="tr-ar">
                               .
                  </span>
<span class="tr-en">
                    Use the logo only in its official colors on backgrounds with strong contrast.
                  </span>
</li>
<li>
<span class="tr-ar">
                                 .
                  </span>
<span class="tr-en">
                    Always keep sufficient clear space around the logo with no other elements touching it.
                  </span>
</li>
<li>
<span class="tr-ar">
                                .
                  </span>
<span class="tr-en">
                    Use the monochrome version when printing with limited colors or on lower-quality materials.
                  </span>
</li>
<li>
<span class="tr-ar">
                               .
                  </span>
<span class="tr-en">
                    Ensure the logo stays clear and readable at small sizes, especially in decks, documents, and signatures.
                  </span>
</li>
<li>
<span class="tr-ar">
                                 .
                  </span>
<span class="tr-en">
                    Only use approved logo files from this hub or the official asset library.
                  </span>
</li>
</ul>
</div>
<div class="usage-col">
<div class="list-label">
<span class="tr-ar"> </span>
<span class="tr-en">Not Allowed </span>
</div>
<ul class="usage-list">
<li>
<span class="tr-ar">
                          (   )     .
                  </span>
<span class="tr-en">
                    Changing logo colors or adding unapproved effects such as heavy glow, strong shadows, or patterns.
                  </span>
</li>
<li>
<span class="tr-ar">
                               .
                  </span>
<span class="tr-en">
                    Stretching, squashing, or otherwise distorting the logo proportions.
                  </span>
</li>
<li>
<span class="tr-ar">
                                .
                  </span>
<span class="tr-en">
                    Using the logo as part of a sentence or replacing letters with the logo mark.
                  </span>
</li>
<li>
<span class="tr-ar">
                              .
                  </span>
<span class="tr-en">
                    Rotating or flipping the logo at unusual angles in layouts.
                  </span>
</li>
<li>
<span class="tr-ar">
                                 .
                  </span>
<span class="tr-en">
                    Cropping the logo or hiding parts of it behind frames or overlapping elements.
                  </span>
</li>
</ul>
</div>
</div>
<div class="asset-grid">
<button class="asset-tile" data-download-src="assets/logos/ts-logo-usage-guide.pdf" data-preview-src="assets/logos/ts-logo-usage-guide.pdf" data-preview-type="pdf" data-title-ar="   (PDF)" data-title-en="Logo Usage Guide (PDF)" type="button">
<div aria-hidden="true" class="asset-icon"><svg aria-hidden="true" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8" viewbox="0 0 24 24"><path d="M4 6a3 3 0 0 1 3-3h12v16H7a3 3 0 0 0-3 3z"></path><path d="M19 3v16H7a3 3 0 0 0-3 3"></path><path d="M8 7h7"></path></svg></div>
<div class="asset-text">
<div class="asset-title tr-ar">   (PDF)</div>
<div class="asset-title tr-en">Logo Usage Guide (PDF)</div>
<div class="asset-meta tr-ar">    .</div>
<div class="asset-meta tr-en">Detailed explanations of allowed and forbidden logo usage.</div>
</div>
</button>
</div>
</div>
</article>
<article class="card glass-card">
<header class="card-header">
<div>
<div class="card-kicker tr-ar"></div>
<div class="card-kicker tr-en">Typography</div>
<h2 class="card-title">
<span class="tr-ar">  Typography</span>
<span class="tr-en">Typography &amp; Brand Fonts</span>
</h2>
</div>
</header>
<div class="card-body">
<p>
<span class="tr-ar">
                  
              <strong>Baloo_Bhaijaan (EN_AR)</strong>  
              <strong></strong>  T&amp;S:   
                  .              .
            </span>
<span class="tr-en">
              The only official T&amp;S font is
              <strong>Baloo_Bhaijaan (EN_AR)</strong>. It is used across
              <strong>all</strong> T&amp;S materials: decks, documents, marketing
              creatives, and digital/print banners. Stick to it to keep layouts consistent and avoid gaps or mismatches when sharing files.
            </span>
</p>
<div class="two-column-list" style="margin-top: 6px;">
<div>
<div class="list-label tr-ar">  Baloo_Bhaijaan</div>
<div class="list-label tr-en">How to use Baloo_Bhaijaan</div>
<ul>
<li class="tr-ar">
                     (Semi-Bold / Bold)     .
                </li>
<li class="tr-en">
                  Use a stronger weight (Semi-Bold / Bold) for main titles and
                  headlines in slides and designs.
                </li>
<li class="tr-ar">
                     (Regular / Medium)   .
                </li>
<li class="tr-en">
                  Use lighter weights (Regular / Medium) for body copy and bullets.
                </li>
<li class="tr-ar">
                          
                     RTL LTR.
                </li>
<li class="tr-en">
                  In bilingual layouts, use the same font for Arabic and English
                  with proper RTL / LTR direction.
                </li>
</ul>
</div>
<div>
<div class="list-label tr-ar">  </div>
<div class="list-label tr-en">Readability tips</div>
<ul>
<li class="tr-ar">
                        <strong> </strong>  .
                </li>
<li class="tr-en">
                  Keep each slide to around <strong>35 bullets</strong>.
                </li>
<li class="tr-ar">
                        .
                </li>
<li class="tr-en">
                  Use comfortable line spacing; avoid cramped text.
                </li>
<li class="tr-ar">
                            ( pt  ).
                </li>
<li class="tr-en">
                  Keep font sizes readable (around 1214pt minimum in docs).
                </li>
</ul>
</div>
</div>
<div style="margin-top: 10px;">
<div class="list-label tr-ar"> </div>
<div class="list-label tr-en">Quick guidelines</div>
<ul>
<li class="tr-ar">
                      T&amp;S 
                <strong>Baloo_Bhaijaan</strong>    .
              </li>
<li class="tr-en">
                Dont introduce extra fonts in T&amp;S files; use
                <strong>Baloo_Bhaijaan</strong> only for official materials.
              </li>
<li class="tr-ar">
                          .
              </li>
<li class="tr-en">
                Use different weights of the same font to create hierarchy
                instead of changing fonts.
              </li>
</ul>
</div>
<div class="btn-row" style="margin-top: 10px;">
<a class="btn" download="" href="assets/fonts/Baloo_Bhaijaan(EN_AR).zip">
<span aria-hidden="true" class="icon"><svg aria-hidden="true" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8" viewbox="0 0 24 24"><path d="M12 3v10"></path><path d="M8 9l4 4 4-4"></path><path d="M4 17v3h16v-3"></path></svg></span>
<span class="tr-ar">    (ZIP)</span>
<span class="tr-en">Download official font pack (ZIP)</span>
</a>
</div>
<p class="muted">
<span class="tr-ar">
                       T&amp;S  
                    .
            </span>
<span class="tr-en">
              Install the font locally before working on T&amp;S templates to
              ensure layouts look the same when shared with colleagues.
            </span>
</p>
</div>
</article>
<!-- Row 3: Templates + Email Signature -->
<article class="card glass-card" id="templates">
<header class="card-header">
<div>
<div class="card-kicker tr-ar"> </div>
<div class="card-kicker tr-en">Branded Templates</div>
<h2 class="card-title">
<span class="tr-ar">   Branded Templates</span>
<span class="tr-en">Ready-to-use Branded Templates</span>
</h2>
</div>
</header>
<div class="card-body">
<p>
<span class="tr-ar">
                     
              <strong>     
                 </strong>.
            </span>
<span class="tr-en">
              A full set of official templates is available for
              <strong>presentations, documents, email signatures, and social
                media</strong>.
            </span>
</p>
<div class="asset-grid">
<button class="asset-tile-group asset-group-trigger" data-asset-group="pptTemplates" type="button">
<div aria-hidden="true" class="asset-icon"><svg aria-hidden="true" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8" viewbox="0 0 24 24"><rect height="12" rx="2" width="14" x="3" y="6"></rect><path d="M17 10l4-2v8l-4-2z"></path></svg></div>
<div class="asset-text">
<div class="asset-title tr-ar">   (PowerPoint)</div>
<div class="asset-title tr-en">Presentation Templates (PowerPoint)</div>
<div class="asset-meta tr-ar">    </div>
<div class="asset-meta tr-en">View all official deck templates</div>
</div>
</button>
<button class="asset-tile-group asset-group-trigger" data-asset-group="wordTemplates" type="button">
<div aria-hidden="true" class="asset-icon"><svg aria-hidden="true" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8" viewbox="0 0 24 24"><path d="M14 2H7a3 3 0 0 0-3 3v14a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V8z"></path><path d="M14 2v6h6"></path><path d="M8 13h8M8 17h8"></path></svg></div>
<div class="asset-text">
<div class="asset-title tr-ar">   (Word)</div>
<div class="asset-title tr-en">Letterhead &amp; Docs (Word)</div>
<div class="asset-meta tr-ar">    </div>
<div class="asset-meta tr-en">View all official document templates</div>
</div>
</button>
</div>
</div>
</article>
<!--       -->
<article class="card glass-card" id="email-signature">
<header class="card-header">
<div>
<div class="card-kicker tr-ar"> </div>
<div class="card-kicker tr-en">Email Signature</div>
<h2 class="card-title">
<span class="tr-ar">  </span>
<span class="tr-en">Email Signature Generator</span>
</h2>
</div>
</header>
<div class="card-body">
<p>
<span class="tr-ar">
                     T&amp;S   .     (  )      .
            </span>
<span class="tr-en">
              Build a professional email signature aligned with T&amp;S, then download it. Update your details (name, title, phone) before export to keep communications accurate.
            </span>
</p>
<div class="asset-grid">
<button class="asset-tile" onclick="window.open('https://toolsandsolution.github.io/ts-email-signature/', '_blank')" type="button">
<div aria-hidden="true" class="asset-icon"><svg aria-hidden="true" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8" viewbox="0 0 24 24"><path d="M4 6h16v12H4z"></path><path d="M4 7l8 6 8-6"></path></svg></div>
<div class="asset-text">
<div class="asset-title tr-ar">  </div>
<div class="asset-title tr-en">Email Signature generator</div>
<div class="asset-meta tr-ar">  + </div>
<div class="asset-meta tr-en">Visual preview + download</div>
</div>
</button>
</div>
</div>
</article>
<!-- Row 4: Extra assets + Brand Book -->
<article class="card glass-card" id="files">
<header class="card-header">
<div>
<div class="card-kicker tr-ar"> </div>
<div class="card-kicker tr-en">Brand Assets</div>
<h2 class="card-title">
<span class="tr-ar">   Extra Assets</span>
<span class="tr-en">Additional Brand Assets</span>
</h2>
</div>
</header>
<div class="card-body">
<p>
<span class="tr-ar">
                 <strong>    Mockups</strong>
                    .
            </span>
<span class="tr-en">
              These packages include official <strong>icons, photography, backgrounds, and mockups</strong>
              for presentations, social media, and client reports.
            </span>
</p>
<div class="btn-row">
<a class="btn" download="" href="assets/icons/ts-icon-pack.zip">
<span aria-hidden="true" class="icon"><svg aria-hidden="true" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8" viewbox="0 0 24 24"><path d="M12 3v10"></path><path d="M8 9l4 4 4-4"></path><path d="M4 17v3h16v-3"></path></svg></span>
<span class="tr-ar">  (ZIP)</span>
<span class="tr-en">Icon Pack (ZIP)</span>
</a>
<a class="btn btn-ghost" download="" href="assets/photos/ts-official-photos-kit.zip">
<span aria-hidden="true" class="icon"><svg aria-hidden="true" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8" viewbox="0 0 24 24"><path d="M12 3v10"></path><path d="M8 9l4 4 4-4"></path><path d="M4 17v3h16v-3"></path></svg></span>
<span class="tr-ar">   (ZIP)</span>
<span class="tr-en">Official Photos Kit (ZIP)</span>
</a>
</div>
<div class="asset-grid">
<button class="asset-tile" data-download-src="assets/company-profile/ts-company-profile.pdf" data-preview-src="assets/company-profile/ts-company-profile.pdf" data-preview-type="pdf" data-title-ar="    PDF" data-title-en="T&amp;S Company Profile  PDF" type="button">
<div aria-hidden="true" class="asset-icon"><svg aria-hidden="true" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8" viewbox="0 0 24 24"><path d="M4 6a3 3 0 0 1 3-3h12v16H7a3 3 0 0 0-3 3z"></path><path d="M19 3v16H7a3 3 0 0 0-3 3"></path><path d="M8 7h7"></path></svg></div>
<div class="asset-text">
<div class="asset-title tr-ar">   (PDF)</div>
<div class="asset-title tr-en">Official Company Profile (PDF)</div>
<div class="asset-meta tr-ar">  + </div>
<div class="asset-meta tr-en">Full preview + download</div>
</div>
</button>
</div>
</div>
</article>
<article class="card glass-card">
<header class="card-header">
<div>
<div class="card-kicker tr-ar"> </div>
<div class="card-kicker tr-en">Brand Book</div>
<h2 class="card-title">
<span class="tr-ar">    Brand Book</span>
<span class="tr-en">Visual Identity Brand Book</span>
</h2>
</div>
</header>
<div class="card-body">
<p>
<span class="tr-ar">
                   :              .            .
            </span>
<span class="tr-en">
              This book consolidates core identity elementslogos, colors, typography, and concise applicationsplus practical guidance to keep every channel consistent. Use it as a quick reference when preparing decks and marketing materials to maintain a unified, professional look.
            </span>
</p>
<div class="asset-grid">
<button class="asset-tile" data-download-src="assets/brand-book/ts-brand-book.pdf" data-preview-src="assets/brand-book/ts-brand-book.pdf" data-preview-type="pdf" data-title-ar="    Brand Book" data-title-en="Visual Identity Brand Book" type="button">
<div aria-hidden="true" class="asset-icon"><svg aria-hidden="true" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8" viewbox="0 0 24 24"><path d="M4 6a3 3 0 0 1 3-3h12v16H7a3 3 0 0 0-3 3z"></path><path d="M19 3v16H7a3 3 0 0 0-3 3"></path><path d="M8 7h7"></path></svg></div>
<div class="asset-text">
<div class="asset-title tr-ar">  (PDF)</div>
<div class="asset-title tr-en">Brand Book (PDF)</div>
<div class="asset-meta tr-ar">  + </div>
<div class="asset-meta tr-en">Preview pages + download</div>
</div>
</button>
</div>
</div>
</article>
<!-- Row 5: Social examples + Voice -->
<article class="card glass-card" id="social">
<header class="card-header">
<div>
<div class="card-kicker tr-ar"> </div>
<div class="card-kicker tr-en">Design Examples</div>
<h2 class="card-title">
<span class="tr-ar">   Social &amp; Events</span>
<span class="tr-en">Design Examples  Social &amp; Events</span>
</h2>
</div>
</header>
<div class="card-body">
<p>
<span class="tr-ar">
                        
                  .
            </span>
<span class="tr-en">
              These examples showcase social media posts, roll-ups, and event
              banners that demonstrate how to apply the visual identity.
            </span>
</p>
<p>
<span class="tr-ar">
             :
            <strong>Instagram</strong> (: &amp; :)
            <strong>LinkedIn</strong> ( )
            <strong>Roll-up</strong> (    ).
          </span>
<span class="tr-en">
            Recommended sizes:
            <strong>Instagram</strong> (1:1 &amp; 4:5),
            <strong>LinkedIn</strong> (12001200 &amp; 1200628),
            <strong>Roll-up</strong> (85200 cm or as required).
          </span>
</p>
<div class="asset-grid">
<button class="asset-tile design-trigger" data-design="social" type="button">
<div aria-hidden="true" class="asset-icon"><svg aria-hidden="true" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8" viewbox="0 0 24 24"><path d="M8 2h8a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2z"></path><path d="M10 19h4"></path></svg></div>
<div class="asset-text">
<div class="asset-title tr-ar"> </div>
<div class="asset-title tr-en">Social Media</div>
</div>
</button>
<button class="asset-tile design-trigger" data-design="gallery" type="button">
<div aria-hidden="true" class="asset-icon"><svg aria-hidden="true" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8" viewbox="0 0 24 24"><rect height="14" rx="2" width="16" x="4" y="5"></rect><path d="M8 13l2-2 3 3 2-2 3 3"></path><circle cx="9" cy="9" r="1"></circle></svg></div>
<div class="asset-text">
<div class="asset-title tr-ar"></div>
<div class="asset-title tr-en">Gallery</div>
</div>
</button>
<button class="asset-tile design-trigger" data-design="rollup" type="button">
<div aria-hidden="true" class="asset-icon"><svg aria-hidden="true" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8" viewbox="0 0 24 24"><path d="M6 2h12v20l-2-1-2 1-2-1-2 1-2-1-2 1z"></path><path d="M8 7h8M8 11h8M8 15h6"></path></svg></div>
<div class="asset-text">
<div class="asset-title tr-ar"> </div>
<div class="asset-title tr-en">Roll-up</div>
</div>
</button>
<button class="asset-tile design-trigger" data-design="official" type="button">
<div aria-hidden="true" class="asset-icon"><svg aria-hidden="true" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8" viewbox="0 0 24 24"><path d="M4 7h4l2-2h4l2 2h4v12H4z"></path><circle cx="12" cy="13" r="3"></circle></svg></div>
<div class="asset-text">
<div class="asset-title tr-ar">  </div>
<div class="asset-title tr-en">Official Image Collection</div>
</div>
</button>
</div>
</div>
</article>
<article class="card glass-card" id="voice">
<header class="card-header">
<div>
<div class="card-kicker tr-ar"> </div>
<div class="card-kicker tr-en">Voice &amp; Tone</div>
<h2 class="card-title">
<span class="tr-ar">    Brand Voice</span>
<span class="tr-en">Brand Voice &amp; Tone</span>
</h2>
</div>
</header>
<div class="card-body">
<p>
<span class="tr-ar">
               T&amp;S      . 
                  .
            </span>
<span class="tr-en">
              The T&amp;S voice is professional, simple, approachable, and
              value-driven, with clear language and no hype.
            </span>
</p>
<div class="voice-grid">
<div class="voice-block good" style="border-color: rgba(5, 173, 173, 0.7); background: rgba(5, 173, 173, 0.05);">
<div class="voice-label good tr-ar">  </div>
<div class="voice-label good tr-en">Preferred Style </div>
<p class="tr-ar">
                "         
                   ."
              </p>
<p class="tr-en">
                "We help organizations build practical digital solutions that
                teams can actually use and benefit from."
              </p>
</div>
<div class="voice-block bad" style="border-color: rgba(240, 71, 74, 0.8); background: rgba(240, 71, 74, 0.05);">
<div class="voice-label bad tr-ar">  </div>
<div class="voice-label bad tr-en">Not Recommended </div>
<p class="tr-ar">
                "        
                 ."
              </p>
<p class="tr-en">
                "We deliver the most powerful digital solutions ever that
                completely redefine the future."
              </p>
</div>
</div>
<p class="muted">
<span class="tr-ar">
                        
                .
            </span>
<span class="tr-en">
              When in doubt, share your copy with the Marketing team for a
              quick review before publishing.
            </span>
</p>
</div>
</article>
<!-- Row 6: Brand checklist full width -->
<article class="card glass-card card-span-2" id="contact">
<header class="card-header">
<div>
<div class="card-kicker tr-ar">   </div>
<div class="card-kicker tr-en">Before You Share Any Design</div>
<h2 class="card-title">
<span class="tr-ar">    Brand Checklist</span>
<span class="tr-en">Quick Brand Checklist</span>
</h2>
</div>
</header>
<div class="card-body">
<p>
<span class="tr-ar">
                            .
            </span>
<span class="tr-en">
              Make sure you review the following points before sending any deck, post, or file to clients or for internal publishing.
            </span>
</p>
<div class="checklist-grid">
<ul class="checklist-column">
<li>
<span class="tr-ar">    (  )   .</span>
<span class="tr-en">You used the correct logo version (light or dark) for the background.</span>
</li>
<li>
<span class="tr-ar">      .</span>
<span class="tr-en">All colors are taken from the approved color palette.</span>
</li>
<li>
<span class="tr-ar">   Baloo_Bhaijaan (EN_AR)    .</span>
<span class="tr-en">Baloo_Bhaijaan (EN_AR) is used for main titles and key text.</span>
</li>
</ul>
<ul class="checklist-column">
<li>
<span class="tr-ar">        .</span>
<span class="tr-en">Image and file resolution is suitable for print or screen.</span>
</li>
<li>
<span class="tr-ar">      .</span>
<span class="tr-en">All numbers, client names, and logos were double-checked.</span>
</li>
<li>
<span class="tr-ar">    T&amp;S     .</span>
<span class="tr-en">The design reflects T&amp;S tone and identity without off-brand personal tweaks.</span>
</li>
</ul>
</div>
<p class="muted">
<span class="tr-ar">
                           .
            </span>
<span class="tr-en">
              For special or exceptional cases, you can still coordinate with the Brand team to find the best solution.
            </span>
</p>
</div>
</article>
</main>
<footer class="site-footer glass-card">
  <div class="footer-grid">
    <!-- RIGHT: Version + Last update -->
    <div class="footer-right">
      <div class="footer-meta">
        <span class="tr-ar">: <strong class="footer-strong" id="hub-version">v1.0</strong></span>
        <span class="tr-en">Version: <strong class="footer-strong" id="hub-version-en">v1.0</strong></span>
      </div>
      <div class="footer-meta">
        <span class="tr-ar"> : <span class="footer-date" id="hub-updated">22 / 12 / 2025</span></span>
        <span class="tr-en">Last update: <span class="footer-date" id="hub-updated-en">22 / 12 / 2025</span></span>
      </div>
    </div>

    <!-- LEFT: Made by -->
    <div class="footer-left">
      <span class="tr-ar">   T&amp;S</span>
      <span class="tr-en">Made with  at T&amp;S</span>
    </div>
  </div>
</footer>
</div>
<!-- ASSET PREVIEW MODAL -->
<div aria-hidden="true" class="preview-overlay" id="asset-preview-overlay">
<div aria-modal="true" class="preview-dialog" role="dialog">
<div class="preview-header">
<div class="preview-title-wrap">
<div class="preview-title">
<span class="tr-ar" id="asset-preview-title-ar"></span>
<span class="tr-en" id="asset-preview-title-en"></span>
</div>
<div class="preview-sub">
<span class="tr-ar">    .</span>
<span class="tr-en">Visual preview of the asset before downloading.</span>
</div>
</div>
<button aria-label="Close preview" class="preview-close-btn" id="asset-preview-close" type="button">
          
        </button>
</div>
<div class="preview-body" id="asset-preview-content">
</div>
<div class="preview-actions">
<p class="preview-hint">
<span class="tr-ar">
                       .
          </span>
<span class="tr-en">
            You can download the file directly or open it in a new tab for full-size viewing.
          </span>
</p>
<div class="btn-row">
<a class="btn btn-ghost" href="#" id="asset-preview-open-link" rel="noopener" target="_blank">
<span aria-hidden="true" class="icon"><svg aria-hidden="true" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8" viewbox="0 0 24 24"><path d="M14 3h7v7"></path><path d="M21 3l-9 9"></path><path d="M10 7H7a4 4 0 0 0-4 4v6a4 4 0 0 0 4 4h6a4 4 0 0 0 4-4v-3"></path></svg></span>
<span class="tr-ar">   </span>
<span class="tr-en">Open in new tab</span>
</a>
<a class="btn" download="" href="#" id="asset-preview-download-link">
<span aria-hidden="true" class="icon"><svg aria-hidden="true" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8" viewbox="0 0 24 24"><path d="M12 3v10"></path><path d="M8 9l4 4 4-4"></path><path d="M4 17v3h16v-3"></path></svg></span>
<span class="tr-ar"> </span>
<span class="tr-en">Download file</span>
</a>
</div>
</div>
</div>
</div>
<!-- DESIGN EXAMPLE MODAL -->
<div aria-hidden="true" class="preview-overlay" id="design-overlay">
<div class="preview-dialog">
<div class="preview-header" style="display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:8px;">
<div class="preview-title-wrap">
<div class="preview-title" id="design-title-ar"></div>
<div class="preview-title tr-en" id="design-title-en"></div>
</div>
<button class="btn-ghost" id="design-close" style="width:32px;height:32px;display:flex;align-items:center;justify-content:center;" type="button"></button>
</div>
<div class="preview-body preview-body--group">
<div class="slider-wrap">
<div class="slider-viewport">
<img alt="preview" id="design-slider-image" src=""/>
</div>
<div class="slider-controls">
<button class="btn btn-ghost" id="slide-prev"></button>
<button class="btn btn-ghost" id="slide-next"></button>
</div>
<div class="slider-bullets" id="slider-bullets"></div>
<div class="btn-row" style="justify-content:flex-end;">
<a class="btn" download="" id="design-download">
<span aria-hidden="true" class="icon"><svg aria-hidden="true" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.8" viewbox="0 0 24 24"><path d="M12 3v10"></path><path d="M8 9l4 4 4-4"></path><path d="M4 17v3h16v-3"></path></svg></span>
<span class="tr-ar">  </span>
<span class="tr-en">Download current</span>
</a>
</div>
</div>
</div>
</div>
</div>
<script>
    (function () {
      const htmlEl = document.documentElement;
      const bodyEl = document.body;
      const langButtons = document.querySelectorAll(".lang-pill");
      const paletteToggle = document.getElementById("palette-toggle");
      const palettePanel = document.getElementById("palette-panel");
      const paletteNote = document.getElementById("palette-note");
      const copyButtons = document.querySelectorAll(".copy-btn");

      const assetTiles = document.querySelectorAll(".asset-tile");
      const overlay = document.getElementById("asset-preview-overlay");
      const overlayContent = document.getElementById("asset-preview-content");
      const overlayTitleAr = document.getElementById("asset-preview-title-ar");
      const overlayTitleEn = document.getElementById("asset-preview-title-en");
      const overlayCloseBtn = document.getElementById("asset-preview-close");
      const overlayOpenLink = document.getElementById("asset-preview-open-link");
      const overlayDownloadLink = document.getElementById("asset-preview-download-link");
      const overlayHint = document.querySelector(".preview-hint");

      const assetGroupTriggers = document.querySelectorAll("[data-asset-group]");

      const assetGroups = {
        logos: {
          titleAr: "  ",
          titleEn: "Official Logo Assets",
          items: [
            {
              titleAr: "    ",
              titleEn: "Light logo  for dark backgrounds",
              descAr: "      / .",
              descEn: "Use on dark, purple, or blue backgrounds.",
              previewImg: "https://raw.githubusercontent.com/toolsAndsolution/ts-brand-hub/refs/heads/main/assets/logos/ts-logo-light.png",
              downloads: [
                {
                  href: "assets/logos/ts-logo-light.svg",
                  labelAr: " SVG",
                  labelEn: "Download SVG"
                },
                {
                  href: "https://raw.githubusercontent.com/toolsAndsolution/ts-brand-hub/refs/heads/main/assets/logos/ts-logo-light.png",
                  labelAr: " PNG",
                  labelEn: "Download PNG"
                }
              ]
            },
            {
              titleAr: "    ",
              titleEn: "Dark logo  for light backgrounds",
              descAr: "     .",
              descEn: "Use on white or light backgrounds.",
              previewImg: "https://raw.githubusercontent.com/toolsAndsolution/ts-brand-hub/refs/heads/main/assets/logos/ts-logo-dark.png",
              downloads: [
                {
                  href: "https://raw.githubusercontent.com/toolsAndsolution/ts-brand-hub/refs/heads/main/assets/logos/ts-logo-dark.svg",
                  labelAr: " SVG",
                  labelEn: "Download SVG"
                },
                {
                  href: "https://raw.githubusercontent.com/toolsAndsolution/ts-brand-hub/refs/heads/main/assets/logos/ts-logo-dark.png",
                  labelAr: " PNG",
                  labelEn: "Download PNG"
                }
              ]
            }
          ]
        },
        logoLight: {
          titleAr: " ",
          titleEn: "Light Logo",
          items: [
            {
              titleAr: " ",
              titleEn: "Light Logo",
              previewImg: "https://raw.githubusercontent.com/toolsAndsolution/ts-brand-hub/refs/heads/main/assets/logos/ts-logo-light.png",
              downloads: [
                {
                  href: "assets/logos/ts-logo-light.svg",
                  labelAr: " SVG",
                  labelEn: "Download SVG"
                },
                {
                  href: "https://raw.githubusercontent.com/toolsAndsolution/ts-brand-hub/refs/heads/main/assets/logos/ts-logo-light.png",
                  labelAr: " PNG",
                  labelEn: "Download PNG"
                }
              ]
            }
          ]
        },
        logoDark: {
          titleAr: " ",
          titleEn: "Dark Logo",
          items: [
            {
              titleAr: " ",
              titleEn: "Dark Logo",
              previewImg: "https://raw.githubusercontent.com/toolsAndsolution/ts-brand-hub/refs/heads/main/assets/logos/ts-logo-dark.png",
              downloads: [
                {
                  href: "https://raw.githubusercontent.com/toolsAndsolution/ts-brand-hub/refs/heads/main/assets/logos/ts-logo-dark.svg",
                  labelAr: " SVG",
                  labelEn: "Download SVG"
                },
                {
                  href: "https://raw.githubusercontent.com/toolsAndsolution/ts-brand-hub/refs/heads/main/assets/logos/ts-logo-dark.png",
                  labelAr: " PNG",
                  labelEn: "Download PNG"
                }
              ]
            }
          ]
        },
        faviconLight: {
          titleAr: "  ()",
          titleEn: "Favicon (Light)",
          items: [
            {
              titleAr: "  ",
              titleEn: "Favicon Light",
              previewImg: "https://raw.githubusercontent.com/toolsAndsolution/ts-brand-hub/refs/heads/main/assets/icons/ts-favicon.png",
              downloads: [
                { href: "assets/icons/ts-favicon.svg", labelAr: " SVG", labelEn: "Download SVG" },
                { href: "https://raw.githubusercontent.com/toolsAndsolution/ts-brand-hub/refs/heads/main/assets/icons/ts-favicon.png", labelAr: " PNG", labelEn: "Download PNG" }
              ]
            }
          ]
        },
        faviconDark: {
          titleAr: "  ()",
          titleEn: "Favicon (Dark)",
          items: [
            {
              titleAr: "  ",
              titleEn: "Favicon Dark",
              previewImg: "assets/icons/ts-favicon-dark.png",
              downloads: [
                { href: "https://raw.githubusercontent.com/toolsAndsolution/ts-brand-hub/refs/heads/main/assets/icons/ts-favicon-dark.svg", labelAr: " SVG", labelEn: "Download SVG" },
                { href: "assets/icons/ts-favicon-dark.png", labelAr: " PNG", labelEn: "Download PNG" }
              ]
            }
          ]
        },
        wordTemplates: {
          titleAr: "    (Word)",
          titleEn: "Official Word Letterhead & Documents",
          items: [
            {
              id: "word-ar",
              titleAr: "   ",
              titleEn: "Letterhead  Arabic",
              descAr: "   .",
              descEn: "For Arabic formal correspondence.",
              downloads: [
                {
                  href: "assets/templates/word-letterhead-ar.docx",
                  labelAr: " .docx",
                  labelEn: "Download .docx"
                }
              ]
            },
            {
              id: "word-en",
              titleAr: "   ",
              titleEn: "Letterhead  English",
              descAr: "   .",
              descEn: "For English formal correspondence.",
              downloads: [
                {
                  href: "assets/templates/word-letterhead-en.docx",
                  labelAr: " .docx",
                  labelEn: "Download .docx"
                }
              ]
            },
            {
              id: "word-bilingual",
              titleAr: "    ",
              titleEn: "Letterhead  Bilingual",
              descAr: "     .",
              descEn: "Unified layout for bilingual letters.",
              downloads: [
                {
                  href: "assets/templates/word-letterhead-bilingual.docx",
                  labelAr: " .docx",
                  labelEn: "Download .docx"
                }
              ]
            },
            {
              id: "word-report",
              titleAr: "  / ",
              titleEn: "Report / Memo Template",
              descAr: "  .",
              descEn: "For internal reports and memos.",
              downloads: [
                {
                  href: "assets/templates/word-report-template.docx",
                  labelAr: " .docx",
                  labelEn: "Download .docx"
                }
              ]
            }
          ]
        },
        pptTemplates: {
          titleAr: "   (PowerPoint)",
          titleEn: "Presentation Templates (PowerPoint)",
          items: [
            {
              id: "ppt-main",
              titleAr: "  ",
              titleEn: "Main Presentation Template",
              descAr: "    .",
              descEn: "General-purpose deck for most presentations.",
              downloads: [
                {
                  href: "assets/templates/ts-ppt-main-template.pptx",
                  labelAr: " .pptx",
                  labelEn: "Download .pptx"
                }
              ]
            },
            {
              id: "ppt-verticals",
              titleAr: "    / ",
              titleEn: "Solutions / Verticals Template",
              descAr: "    .",
              descEn: "For solutions, verticals, and offering-specific decks.",
              downloads: [
                {
                  href: "assets/templates/ts-ppt-verticals-template.pptx",
                  labelAr: " .pptx",
                  labelEn: "Download .pptx"
                }
              ]
            }
          ]
        }
      };

      let defaultHintAr = "";
      let defaultHintEn = "";
      if (overlayHint) {
        const arEl = overlayHint.querySelector(".tr-ar");
        const enEl = overlayHint.querySelector(".tr-en");
        defaultHintAr = arEl ? arEl.textContent : "";
        defaultHintEn = enEl ? enEl.textContent : "";
      }


      window.setLanguage = function setLanguage(lang) {
        if (lang === "en") {
          htmlEl.setAttribute("lang", "en");
          htmlEl.setAttribute("dir", "ltr");
          bodyEl.classList.remove("lang-ar");
          bodyEl.classList.add("lang-en");
        } else {
          htmlEl.setAttribute("lang", "ar");
          htmlEl.setAttribute("dir", "rtl");
          bodyEl.classList.remove("lang-en");
          bodyEl.classList.add("lang-ar");
        }

        langButtons.forEach((btn) => {
          btn.classList.toggle("active", btn.dataset.lang === lang);
        });

        resetCopyButtonsLabels();
      }

      function togglePalettePanel() {
        if (!palettePanel || !paletteToggle) return;
        const isOpen = palettePanel.classList.toggle("open");
const arClosed = paletteToggle.querySelector(".tr-ar .text-when-closed");
        const arOpen = paletteToggle.querySelector(".tr-ar .text-when-open");
        const enClosed = paletteToggle.querySelector(".tr-en .text-when-closed");
        const enOpen = paletteToggle.querySelector(".tr-en .text-when-open");

        if (arClosed && arOpen && enClosed && enOpen) {
          if (isOpen) {
            arClosed.style.display = "none";
            enClosed.style.display = "none";
            arOpen.style.display = "inline";
            enOpen.style.display = "inline";
          } else {
            arClosed.style.display = "inline";
            enClosed.style.display = "inline";
            arOpen.style.display = "none";
            enOpen.style.display = "none";
          }
        }
      }

      function resetCopyButtonsLabels() {
        const isAr = bodyEl.classList.contains("lang-ar");
        copyButtons.forEach((btn) => {
          const arLabel = btn.querySelector(".copy-label.tr-ar");
          const enLabel = btn.querySelector(".copy-label.tr-en");
          if (!arLabel || !enLabel) return;

          if (btn.classList.contains("copied")) {
            arLabel.textContent = isAr ? " " : "";
            enLabel.textContent = isAr ? "Copied" : "Copied!";
          } else {
            arLabel.textContent = "";
            enLabel.textContent = "Copy";
          }
        });
      }

      function handleCopyClick(event) {
        const btn = event.currentTarget;
        const hex = btn.dataset.hex;
        if (!hex) return;

        if (navigator.clipboard && navigator.clipboard.writeText) {
          navigator.clipboard.writeText(hex).then(
            () => showCopiedState(btn),
            () => showCopiedState(btn)
          );
        } else {
          const textarea = document.createElement("textarea");
          textarea.value = hex;
          textarea.style.position = "fixed";
          textarea.style.opacity = "0";
          document.body.appendChild(textarea);
          textarea.select();
          try {
            document.execCommand("copy");
          } catch (e) {}
          document.body.removeChild(textarea);
          showCopiedState(btn);
        }
      }

      function showCopiedState(btn) {
        const isAr = bodyEl.classList.contains("lang-ar");
        const arLabel = btn.querySelector(".copy-label.tr-ar");
        const enLabel = btn.querySelector(".copy-label.tr-en");
        if (arLabel && enLabel) {
          arLabel.textContent = isAr ? " " : "";
          enLabel.textContent = isAr ? "Copied" : "Copied!";
        }
        btn.classList.add("copied");
        setTimeout(() => {
          btn.classList.remove("copied");
          resetCopyButtonsLabels();
        }, 1600);
      }

      function openAssetPreview(tile) {
        if (!overlay || !overlayContent || !overlayTitleAr || !overlayTitleEn) return;

        const type = tile.dataset.previewType || "image";
        const src = tile.dataset.previewSrc;
        const downloadSrc = tile.dataset.downloadSrc || src;
        const titleAr = tile.dataset.titleAr || "";
        const titleEn = tile.dataset.titleEn || "";

        if (!src) return;

        overlayTitleAr.textContent = titleAr;
        overlayTitleEn.textContent = titleEn;

        overlayContent.classList.remove("preview-body--group");
        overlayContent.innerHTML = "";
        if (type === "pdf") {
          const iframe = document.createElement("iframe");
          iframe.src = src;
          iframe.title = titleEn || titleAr || "Preview";
          overlayContent.appendChild(iframe);
        } else {
          const img = document.createElement("img");
          img.src = src;
          img.alt = titleEn || titleAr || "Asset preview";
          overlayContent.appendChild(img);
        }

        if (overlayHint && defaultHintAr && defaultHintEn) {
          const arEl = overlayHint.querySelector(".tr-ar");
          const enEl = overlayHint.querySelector(".tr-en");
          if (arEl) arEl.textContent = defaultHintAr;
          if (enEl) enEl.textContent = defaultHintEn;
        }

        if (overlayOpenLink) {
          overlayOpenLink.href = src;
          overlayOpenLink.style.display = "";
        }
        if (overlayDownloadLink) {
          overlayDownloadLink.href = downloadSrc;
          overlayDownloadLink.style.display = "";
        }

        overlay.classList.add("visible");
        overlay.setAttribute("aria-hidden", "false");
      }

      function openAssetGroup(groupId) {
        if (!overlay || !overlayContent || !overlayTitleAr || !overlayTitleEn) return;
        const config = assetGroups[groupId];
        if (!config) return;

        overlayTitleAr.textContent = config.titleAr || "";
        overlayTitleEn.textContent = config.titleEn || "";

        if (!overlayContent) return;
        overlayContent.innerHTML = "";
        overlayContent.classList.add("preview-body--group");

        const grid = document.createElement("div");
        grid.className = "preview-group-grid";

        config.items.forEach((item) => {
          const card = document.createElement("div");
          card.className = "preview-group-item";

          const titleRow = document.createElement("div");
          titleRow.className = "preview-group-title";
          titleRow.innerHTML = `
            <span class="tr-ar">${item.titleAr || ""}</span>
            <span class="tr-en">${item.titleEn || ""}</span>
          `;
          card.appendChild(titleRow);

          if (item.descAr || item.descEn) {
            const desc = document.createElement("div");
            desc.className = "preview-group-desc";
            desc.innerHTML = `
              <span class="tr-ar">${item.descAr || ""}</span>
              <span class="tr-en">${item.descEn || ""}</span>
            `;
            card.appendChild(desc);
          }

          if (item.previewImg) {
            const imgWrap = document.createElement("div");
            imgWrap.style.display = "flex";
            imgWrap.style.justifyContent = "center";
            imgWrap.style.background = "#050713";
            imgWrap.style.border = "1px solid rgba(255,255,255,0.1)";
            imgWrap.style.borderRadius = "10px";
            imgWrap.style.padding = "10px";
            const img = document.createElement("img");
            img.src = item.previewImg;
            img.alt = item.titleEn || item.titleAr || "preview";
            img.style.maxWidth = "100%";
            imgWrap.appendChild(img);
            card.appendChild(imgWrap);
          }

          if (item.downloads && item.downloads.length) {
            const buttons = document.createElement("div");
            buttons.className = "preview-group-buttons";
            item.downloads.forEach((dl, index) => {
              const link = document.createElement("a");
              link.href = dl.href;
              link.setAttribute("download", "");
              link.className = index === 0 ? "btn" : "btn btn-ghost";
              link.innerHTML = `
                <span class="btn-ic" aria-hidden="true">
  <svg viewBox="0 0 24 24" fill="none">
    <path d="M12 3v10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
    <path d="M8 11l4 4 4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M4 19h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
  </svg>
</span>
                <span class="tr-ar">${dl.labelAr || ""}</span>
                <span class="tr-en">${dl.labelEn || ""}</span>
              `;
              buttons.appendChild(link);
            });
            card.appendChild(buttons);
          }

          grid.appendChild(card);
        });

        overlayContent.appendChild(grid);

        if (overlayHint) {
          const arEl = overlayHint.querySelector(".tr-ar");
          const enEl = overlayHint.querySelector(".tr-en");
          if (arEl) arEl.textContent = "    .";
          if (enEl) enEl.textContent = "Select one of the assets below to download.";
        }

        if (overlayOpenLink) {
          overlayOpenLink.style.display = "none";
        }
        if (overlayDownloadLink) {
          overlayDownloadLink.style.display = "none";
        }

        overlay.classList.add("visible");
        overlay.setAttribute("aria-hidden", "false");
      }

      function closeAssetPreview() {
        if (!overlay) return;
        overlay.classList.remove("visible");
        overlay.setAttribute("aria-hidden", "true");
        if (overlayContent) {
          overlayContent.classList.remove("preview-body--group");
          overlayContent.innerHTML = "";
        }
        if (overlayHint && defaultHintAr && defaultHintEn) {
          const arEl = overlayHint.querySelector(".tr-ar");
          const enEl = overlayHint.querySelector(".tr-en");
          if (arEl) arEl.textContent = defaultHintAr;
          if (enEl) enEl.textContent = defaultHintEn;
        }
        if (overlayOpenLink) {
          overlayOpenLink.style.display = "";
        }
        if (overlayDownloadLink) {
          overlayDownloadLink.style.display = "";
        }
      }

      langButtons.forEach((btn) => {
        btn.addEventListener("click", () => setLanguage(btn.dataset.lang || "ar"));
      });

      if (paletteToggle && palettePanel) {
        paletteToggle.addEventListener("click", togglePalettePanel);
      }

      copyButtons.forEach((btn) => {
        btn.addEventListener("click", handleCopyClick);
      });

      assetTiles.forEach((tile) => {
        tile.addEventListener("click", () => {
          const groupId = tile.getAttribute("data-asset-group");
          if (groupId) {
            openAssetGroup(groupId);
          } else {
            openAssetPreview(tile);
          }
        });
      });

      assetGroupTriggers.forEach((trigger) => {
        trigger.addEventListener("click", () => {
          const groupId = trigger.getAttribute("data-asset-group");
          if (groupId) {
            openAssetGroup(groupId);
          }
        });
      });

      if (overlayCloseBtn) {
        overlayCloseBtn.addEventListener("click", closeAssetPreview);
      }

      if (overlay) {
        overlay.addEventListener("click", (event) => {
          if (event.target === overlay) {
            closeAssetPreview();
          }
        });
      }

      document.addEventListener("keydown", (event) => {
        if (event.key === "Escape") {
          if (overlay && overlay.classList.contains("visible")) {
            closeAssetPreview();
          }
        }
      });

      setLanguage("ar");
    })();
  </script>
<script>
    //    ( /ZIP)
    (function() {
      const designOverlay = document.getElementById("design-overlay");
      const designClose = document.getElementById("design-close");
      const designTitleAr = document.getElementById("design-title-ar");
      const designTitleEn = document.getElementById("design-title-en");
      const designImage = document.getElementById("design-slider-image");
      const bullets = document.getElementById("slider-bullets");
      const btnPrev = document.getElementById("slide-prev");
      const btnNext = document.getElementById("slide-next");
      const downloadBtn = document.getElementById("design-download");
      const triggers = document.querySelectorAll(".design-trigger");

      const presets = {
        social: { ar:"  ", en:"Social Media Examples", images:["assets/social/example1.png","assets/social/example2.png","assets/social/example3.png"] },
        gallery:{ ar:" ", en:"Gallery Examples", images:["assets/gallery/example1.png","assets/gallery/example2.png"] },
        rollup: { ar:"  ", en:"Roll-up Examples", images:["assets/events/rollup1.png","assets/events/rollup2.png"] },
        official:{ ar:"  ", en:"Official Image Collection", images:["assets/photos/T&S (2).png","assets/photos/T&S (1).png","assets/photos/T&S (3).png",
             "assets/photos/T&S (4).png","assets/photos/T&S (5).png","assets/photos/T&S (6).png","assets/photos/T&S (7).png"] }
      };

      let currentImages = [];
      let currentIndex = 0;

      function renderSlider() {
        if (!currentImages.length) return;
        designImage.src = currentImages[currentIndex];
        downloadBtn.href = currentImages[currentIndex];
        bullets.innerHTML = "";
        currentImages.forEach((_, idx) => {
          const b = document.createElement("button");
          b.classList.toggle("active", idx === currentIndex);
          b.addEventListener("click", () => {
            currentIndex = idx;
            renderSlider();
          });
          bullets.appendChild(b);
        });
      }

      function openDesign(key) {
        const config = presets[key];
        if (!config) return;
        currentImages = [...config.images];
        currentIndex = 0;
        designTitleAr.textContent = config.ar;
        designTitleEn.textContent = config.en;
        renderSlider();
        designOverlay.classList.add("visible");
        designOverlay.setAttribute("aria-hidden","false");
      }

      function closeDesign() {
        designOverlay.classList.remove("visible");
        designOverlay.setAttribute("aria-hidden","true");
      }

      btnPrev.addEventListener("click", () => {
        if (!currentImages.length) return;
        currentIndex = (currentIndex - 1 + currentImages.length) % currentImages.length;
        renderSlider();
      });
      btnNext.addEventListener("click", () => {
        if (!currentImages.length) return;
        currentIndex = (currentIndex + 1) % currentImages.length;
        renderSlider();
      });

      designClose.addEventListener("click", closeDesign);
      designOverlay.addEventListener("click", (e) => { if (e.target === designOverlay) closeDesign(); });
      document.addEventListener("keydown", (e) => { if (e.key === "Escape" && designOverlay.classList.contains("visible")) closeDesign(); });

      triggers.forEach((btn) => btn.addEventListener("click", () => openDesign(btn.dataset.design)));
    })();
  </script>
<script>
    // Font size control
    (function() {
      var scale = 1.0;
      var minScale = 0.9;
      var maxScale = 1.3;
      var root = document.documentElement;

      function applyScale() {
        root.style.setProperty('--font-scale', scale.toString());
      }

      window.adjustFontScale = function(delta) {
        var next = scale + delta;
        if (next < minScale) next = minScale;
        if (next > maxScale) next = maxScale;
        scale = Math.round(next * 100) / 100;
        applyScale();
      };

      window.resetFontScale = function() {
        scale = 1.0;
        applyScale();
      };
    })();
  </script>

<!-- COLOR PALETTE MODAL -->
<div class="preview-overlay" id="palette-overlay" aria-hidden="true" role="dialog" aria-modal="true">
  <div class="preview-dialog" role="document" tabindex="-1">
    <div class="preview-header">
      <div class="preview-title-wrap">
        <div class="preview-title">
          <span class="tr-ar">  </span>
          <span class="tr-en">Brand Color Palette</span>
        </div>
        <div class="preview-sub">
          <span class="tr-ar">   .       Accent   CTA.</span>
          <span class="tr-en">Copy color codes instantly. Use primary colors for structure, and reserve accents for links and CTAs.</span>
        </div>
      </div>

      <div style="display:flex; gap:10px; align-items:center">
        <button class="btn btn-ghost btn-mini" id="palette-download-json" type="button" aria-label="Download palette JSON">
          <span aria-hidden="true" class="btn-ic">
            <svg viewBox="0 0 24 24" fill="none">
              <path d="M12 3v10" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <path d="M8 11l4 4 4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M4 19h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </span>
          <span class="tr-ar"> JSON</span>
          <span class="tr-en">Download JSON</span>
        </button>

        <button aria-label="Close palette" class="preview-close-btn" id="palette-close" type="button"></button>
      </div>
    </div>

    <div class="preview-content" id="palette-modal-content"></div>
  </div>
</div>
<script>
    (function(){
      const paletteToggle = document.getElementById("palette-toggle");
      const paletteOverlay = document.getElementById("palette-overlay");
      const paletteClose = document.getElementById("palette-close");
      const paletteContent = document.getElementById("palette-modal-content");
      const paletteDownload = document.getElementById("palette-download-json");

      if (!paletteToggle || !paletteOverlay || !paletteClose || !paletteContent) return;

      let lastFocus = null;

      const palette = [
        { key:"ts-ink",    hex:"#0A0F21", ar:"Primary", en:"Primary", arDesc:"  ", enDesc:"Primary page color" },
        { key:"ts-navy",   hex:"#0D295C", ar:"Secondary 3", en:"Secondary 3", arDesc:"  ", enDesc:"Secondary info & links" },
        { key:"ts-plum",   hex:"#3B1745", ar:"Second Primary", en:"Second Primary", arDesc:"  ", enDesc:"Support primary tone" },
        { key:"ts-teal",   hex:"#05ADAD", ar:"Secondary 1", en:"Secondary 1", arDesc:" ", enDesc:"Highlight & links" },
        { key:"ts-blue",   hex:"#113D8F", ar:"Secondary 4", en:"Secondary 4", arDesc:" ", enDesc:"Extra depth" },
        { key:"ts-violet", hex:"#8C40FF", ar:"Accent", en:"Accent", arDesc:" ", enDesc:"Accent touches" },
        { key:"ts-red",    hex:"#F0474A", ar:"Alert", en:"Alert", arDesc:" ", enDesc:"Alerts only" },
        { key:"text-primary", hex:"#F5F5FF", ar:" ", en:"Primary text", arDesc:" ", enDesc:"For UI text" },
        { key:"text-secondary", hex:"#C0C4D6", ar:" ", en:"Secondary text", arDesc:"/", enDesc:"For supporting copy" }
      ];

      function isAr(){
        return document.body.classList.contains("lang-ar") || document.documentElement.getAttribute("dir")==="rtl";
      }

      function toast(msg){
        if (typeof window.showToast === "function") window.showToast(msg);
      }

      function copyText(text){
        try{ navigator.clipboard.writeText(text); }catch(_){}
      }

      function build(){
        paletteContent.innerHTML = "";
        const grid = document.createElement("div");
        grid.className = "palette-modal-grid";

        palette.forEach(c=>{
          const item = document.createElement("div");
          item.className = "palette-modal-item";

          const sw = document.createElement("div");
          sw.className = "palette-modal-swatch";
          sw.style.background = c.hex;

          const meta = document.createElement("div");
          meta.className = "palette-modal-meta";

          const left = document.createElement("div");
          left.style.minWidth = "0";

          const name = document.createElement("div");
          name.className = "palette-modal-name";
          name.textContent = isAr() ? c.ar : c.en;

          const desc = document.createElement("div");
          desc.className = "palette-modal-desc";
          desc.textContent = isAr() ? c.arDesc : c.enDesc;

          left.appendChild(name);
          left.appendChild(desc);

          const codeRow = document.createElement("div");
          codeRow.className = "palette-modal-code";

          const hex = document.createElement("div");
          hex.className = "palette-modal-hex";
          hex.textContent = c.hex;

          const copyBtn = document.createElement("button");
          copyBtn.type = "button";
          copyBtn.className = "copy-btn";
          copyBtn.style.padding = "8px 10px";
          copyBtn.innerHTML = '<span class="copy-label tr-ar"></span><span class="copy-label tr-en">Copy</span>';

          copyBtn.addEventListener("click", ()=>{
            copyText(c.hex);
            toast(isAr() ? "  ." : "Color copied.");
          });

          codeRow.appendChild(hex);
          codeRow.appendChild(copyBtn);

          item.appendChild(sw);
          item.appendChild(meta);
          item.appendChild(codeRow);
          grid.appendChild(item);
        });

        paletteContent.appendChild(grid);
      }

      function open(){
        lastFocus = document.activeElement;
        build();
        paletteOverlay.classList.add("visible");
        paletteOverlay.setAttribute("aria-hidden", "false");
        paletteClose.focus();
      }

      function close(){
        paletteOverlay.classList.remove("visible");
        paletteOverlay.setAttribute("aria-hidden", "true");
        if (lastFocus && typeof lastFocus.focus === "function") lastFocus.focus();
      }

      paletteToggle.addEventListener("click", (e)=>{
        e.preventDefault();
        open();
      });
      paletteClose.addEventListener("click", close);
      paletteOverlay.addEventListener("click", (e)=>{ if (e.target === paletteOverlay) close(); });
      document.addEventListener("keydown", (e)=>{ if (e.key==="Escape" && paletteOverlay.classList.contains("visible")) close(); });

      if (paletteDownload){
        paletteDownload.addEventListener("click", ()=>{
          const payload = palette.map(c=>({ key:c.key, hex:c.hex, name_ar:c.ar, name_en:c.en }));
          const blob = new Blob([JSON.stringify(payload, null, 2)], {type:"application/json"});
          const a = document.createElement("a");
          a.href = URL.createObjectURL(blob);
          a.download = "ts-brand-palette.json";
          document.body.appendChild(a);
          a.click();
          setTimeout(()=>{ URL.revokeObjectURL(a.href); a.remove(); }, 0);
          toast(isAr() ? "   ." : "Palette JSON download started.");
        });
      }
    })();
  </script>
<!-- TOAST -->
<div class="toast-stack" id="toast-stack" aria-live="polite" aria-atomic="true"></div>
<script>
(function(){
  if (typeof window.showToast === "function") return;

  const stack = document.getElementById("toast-stack");

  function iconSvg(){
    return '<svg viewBox="0 0 24 24" aria-hidden="true" fill="none"><path d="M20 6L9 17l-5-5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>';
  }

  window.showToast = function(message){
    if (!stack) return;

    const t = document.createElement("div");
    t.className = "toast";
    t.innerHTML = '<div class="toast-ic">'+iconSvg()+'</div><div class="toast-msg"></div>';
    t.querySelector(".toast-msg").textContent = message;

    stack.appendChild(t);

    requestAnimationFrame(()=> t.classList.add("show"));

    const ttl = 1900;
    setTimeout(()=>{
      t.classList.remove("show");
      setTimeout(()=> t.remove(), 260);
    }, ttl);
  };
})();
</script>
<!-- Language/font robust init (ensures dir + classes on load) -->
<script>
(function(){
  function applyLang(lang){
    lang = (lang==="en") ? "en" : "ar";
    document.documentElement.setAttribute("dir", lang==="ar" ? "rtl" : "ltr");
    document.documentElement.setAttribute("lang", lang);
    document.body.classList.toggle("lang-ar", lang==="ar");
    document.body.classList.toggle("lang-en", lang==="en");
    try{ localStorage.setItem("ts_lang", lang); }catch(e){}
    // ensure any translation toggles run if present
    if(typeof window.updateLanguageUI === "function") window.updateLanguageUI(lang);
  }

  // Ensure window.setLanguage exists
  if(typeof window.setLanguage !== "function"){
    window.setLanguage = applyLang;
  }else{
    const old = window.setLanguage;
    window.setLanguage = function(lang){
      try{ old(lang); }catch(e){ applyLang(lang); }
      // some implementations may not set dir; enforce it
      applyLang(lang);
    };
  }

  // Apply saved language early
  let saved = "ar";
  try{ saved = localStorage.getItem("ts_lang") || "ar"; }catch(e){}
  applyLang(saved);

  // Font scale helpers (ensure dropdown works)
  const root = document.documentElement;
  function clamp(v,min,max){ return Math.max(min, Math.min(max, v)); }
  if(typeof window.adjustFontScale !== "function"){
    window.adjustFontScale = function(delta){
      const cur = parseFloat(getComputedStyle(root).getPropertyValue("--font-scale")) || 1;
      const next = clamp(cur + delta, 0.85, 1.15);
      root.style.setProperty("--font-scale", next);
      try{ localStorage.setItem("ts_font_scale", String(next)); }catch(e){}
    };
  }
  if(typeof window.resetFontScale !== "function"){
    window.resetFontScale = function(){
      root.style.setProperty("--font-scale", 1);
      try{ localStorage.setItem("ts_font_scale", "1"); }catch(e){}
    };
  }
  // Restore saved scale
  try{
    const s = parseFloat(localStorage.getItem("ts_font_scale") || "1");
    if(!Number.isNaN(s)) root.style.setProperty("--font-scale", clamp(s,0.85,1.15));
  }catch(e){}
})();
</script>
<!-- Language normalization guard (safe, no observers) -->
<script>
(function(){
  const htmlEl = document.documentElement;
  const body = document.body;

  function getSavedLang(){
    try{ return localStorage.getItem("ts_lang") || ""; }catch(e){ return ""; }
  }

  function applyLang(lang){
    lang = (lang === "en") ? "en" : "ar";
    const dir = (lang === "ar") ? "rtl" : "ltr";

    // Only write when different (prevents loops / hangs)
    if((htmlEl.getAttribute("lang") || "") !== lang) htmlEl.setAttribute("lang", lang);
    if((htmlEl.getAttribute("dir") || "") !== dir) htmlEl.setAttribute("dir", dir);

    const arOn = body.classList.contains("lang-ar");
    const enOn = body.classList.contains("lang-en");
    if(lang === "ar"){
      if(!arOn) body.classList.add("lang-ar");
      if(enOn) body.classList.remove("lang-en");
    }else{
      if(!enOn) body.classList.add("lang-en");
      if(arOn) body.classList.remove("lang-ar");
    }

    try{ localStorage.setItem("ts_lang", lang); }catch(e){}
  }

  // Wrap existing setLanguage (if any) to always be safe + idempotent
  const prev = window.setLanguage;
  window.setLanguage = function(lang){
    // prevent re-entrancy
    if(window.__ts_lang_lock) return;
    window.__ts_lang_lock = true;
    try{
      if(typeof prev === "function"){
        try{ prev(lang); }catch(e){}
      }
      applyLang(lang);
    } finally {
      window.__ts_lang_lock = false;
    }
  };

  // Initial: prefer saved lang, else keep current html lang/body class
  let init = getSavedLang();
  if(!init){
    if(body.classList.contains("lang-en")) init = "en";
    else if(body.classList.contains("lang-ar")) init = "ar";
    else{
      const l = (htmlEl.getAttribute("lang") || "").toLowerCase();
      init = (l === "en") ? "en" : "ar";
    }
  }
  applyLang(init);
})();
</script>
<!-- Quick Nav Search Logic -->
<script>
(function(){
  const input = document.getElementById('quickSearch');
  const clearBtn = document.getElementById('quickSearchClear');
  if(!input) return;

  const chips = Array.from(document.querySelectorAll('.quick-nav .chip'));
  const targets = Array.from(document.querySelectorAll('main section, main .glass-card'))
    .filter(el => !el.closest('.quick-nav') && !el.closest('.top-controls') && !el.closest('.main-header'));

  function norm(s){
    return (s || '')
      .toString()
      .toLowerCase()
      .trim()
      .replace(/[\u064B-\u0652]/g,'')
      .replace(/\s+/g,' ');
  }

  function apply(q){
    const query = norm(q);
    const has = query.length > 0;

    if(clearBtn) clearBtn.style.display = has ? 'grid' : 'none';

    chips.forEach(ch=>{
      const text = norm(ch.textContent);
      ch.classList.toggle('is-hidden', has && !text.includes(query));
    });

    targets.forEach(el=>{
      const text = norm(el.textContent);
      el.classList.toggle('is-hidden', has && !text.includes(query));
    });
  }

  input.addEventListener('input', (e)=> apply(e.target.value));
  if(clearBtn){
    clearBtn.addEventListener('click', ()=>{
      input.value = '';
      input.focus();
      apply('');
    });
  }

  apply('');
})();
</script>
<!-- Quick Nav icon controls actions -->
<script>
(function(){
  const dec = document.getElementById("q-font-dec");
  const inc = document.getElementById("q-font-inc");
  const langBtn = document.getElementById("q-lang-toggle");

  function currentLang(){
    if(document.body.classList.contains("lang-en")) return "en";
    if(document.body.classList.contains("lang-ar")) return "ar";
    const l = (document.documentElement.getAttribute("lang") || "").toLowerCase();
    return (l === "en") ? "en" : "ar";
  }

  function setLang(next){
    if(typeof window.setLanguage === "function"){
      window.setLanguage(next);
    }else{
      document.documentElement.setAttribute("lang", next);
      document.documentElement.setAttribute("dir", next === "ar" ? "rtl" : "ltr");
      document.body.classList.toggle("lang-ar", next === "ar");
      document.body.classList.toggle("lang-en", next === "en");
      try{ localStorage.setItem("ts_lang", next); }catch(e){}
    }
  }

  function adjust(scaleDelta){
    if(typeof window.adjustFontScale === "function"){
      window.adjustFontScale(scaleDelta);
      return;
    }
    const root = document.documentElement;
    const cur = parseFloat(getComputedStyle(root).getPropertyValue("--font-scale")) || 1;
    const next = Math.max(.85, Math.min(1.15, cur + scaleDelta));
    root.style.setProperty("--font-scale", next);
    try{ localStorage.setItem("ts_font_scale", String(next)); }catch(e){}
  }

  dec && dec.addEventListener("click", ()=> adjust(-0.1));
  inc && inc.addEventListener("click", ()=> adjust(0.1));
  langBtn && langBtn.addEventListener("click", ()=>{
    const next = currentLang() === "ar" ? "en" : "ar";
    setLang(next);
  });
})();
</script>
<!-- Quick Nav jump highlight -->
<script>
(function(){
  function findTarget(hash){
    if(!hash) return null;
    const id = hash.replace('#','');
    if(!id) return null;
    const el = document.getElementById(id);
    if(el) return el;
    // fallback: any anchor
    return document.querySelector('[data-section="'+id+'"]') || null;
  }

  function highlight(el){
    if(!el) return;
    // prefer highlighting the nearest glass card/section container
    const card = el.closest('.glass-card') || el.closest('section') || el;
    card.classList.add('jump-highlight');
    window.clearTimeout(window.__jumpHLT);
    window.__jumpHLT = window.setTimeout(()=> card.classList.remove('jump-highlight'), 1600);
  }

  // Handle chip clicks
  document.addEventListener('click', (e)=>{
    const a = e.target.closest('a');
    if(!a) return;
    const href = a.getAttribute('href') || '';
    if(!href.startsWith('#')) return;
    const tgt = findTarget(href);
    // Wait a tick for smooth scroll to land
    window.setTimeout(()=> highlight(tgt), 420);
  });

  // Handle direct hash changes
  window.addEventListener('hashchange', ()=>{
    const tgt = findTarget(location.hash);
    window.setTimeout(()=> highlight(tgt), 120);
  });

  // On load with hash
  window.addEventListener('load', ()=>{
    if(location.hash){
      const tgt = findTarget(location.hash);
      window.setTimeout(()=> highlight(tgt), 260);
    }
  });
})();
</script>
<!-- ================================
     Gradients modal hard fallback
     (Works even if earlier JS/CSS fails)
     ================================ -->
<style id="gradients-hard-fallback-style">
  /* Ensure toggle is clickable */
  #gradients-toggle{ pointer-events: auto !important; }

  /* Force overlay to be usable */
  #gradients-overlay.preview-overlay{
    z-index: 9999 !important;
    display: flex !important;
    opacity: 0 !important;
    pointer-events: none !important;
  }

  /* Open state: JS class OR hash target */
  #gradients-overlay.preview-overlay.visible,
  #gradients-overlay.preview-overlay:target{
    opacity: 1 !important;
    pointer-events: auto !important;
  }

  /* Ensure dialog is visible */
  #gradients-overlay .preview-dialog{
    display: flex !important;
  }
</style>



<!-- ================================
     T&S Gradients Suggestions (Rewritten)
     ================================ -->
<div id="tsg-overlay" class="tsg-overlay" aria-hidden="true" role="dialog" aria-modal="true">
  <div class="tsg-dialog" role="document">
    <div class="tsg-head">
      <div class="tsg-titlewrap">
        <div class="tsg-title">
          <span class="tr-ar">  </span>
          <span class="tr-en">Brand Gradient Suggestions</span>
        </div>
        <div class="tsg-sub">
          <span class="tr-ar">     T&amp;S   CSS   JSON.</span>
          <span class="tr-en">Ready-to-use gradients built from T&amp;S colors  copy CSS or download JSON.</span>
        </div>
      </div>

      <div class="tsg-head-actions">
        <button type="button" class="tsg-btn tsg-btn--pill" id="tsg-download-json">
          <span class="tr-ar"> JSON</span>
          <span class="tr-en">Download JSON</span>
        </button>
        <button type="button" class="tsg-btn tsg-btn--icon" id="tsg-close" aria-label="Close" onclick="event.preventDefault(); (window.__tsgClose||window.__tsgCloseFallback) && (window.__tsgClose||window.__tsgCloseFallback)();"></button>
      </div>
    </div>

    <div class="tsg-toolbar">
      <div class="tsg-chips" id="tsg-chips"></div>

      </div>

    <div class="tsg-body">
      <div id="tsg-grid" class="tsg-grid"></div>
      <div id="tsg-empty" class="tsg-empty" style="display:none">
        <span class="tr-ar">  .</span>
        <span class="tr-en">No results.</span>
      </div>
    </div>
  </div>
</div>

<style id="tsg-style">
  .tsg-overlay{
    position: fixed;
    inset: 0;
    display: none;
    align-items: center;
    justify-content: center;
    padding: 20px;
    background: rgba(0,0,0,.45);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    z-index: 9999;
  }
  .tsg-overlay.is-open{ display: flex; }

  .tsg-dialog{
    width: min(980px, calc(100vw - 28px));
    max-height: min(82vh, 900px);
    overflow: auto;
    border-radius: 22px;
    border: 1px solid rgba(255,255,255,.14);
    background: linear-gradient(135deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
    box-shadow: 0 30px 70px rgba(0,0,0,.35);
    color: rgba(255,255,255,.92);
  }

  .tsg-head{
    display:flex;
    gap: 14px;
    align-items: center;
    justify-content: space-between;
    padding: 18px 18px 12px;
    border-bottom: 1px solid rgba(255,255,255,.10);
    background: linear-gradient(135deg, rgba(5,173,173,.16), rgba(140,64,255,.14));
  }
  .tsg-title{ font-weight: 950; font-size: 18px; letter-spacing: .2px; }
  .tsg-sub{ margin-top: 4px; opacity: .80; font-size: 13px; }
  .tsg-head-actions{ display:flex; gap: 10px; align-items:center; }

  .tsg-btn{
    border: 1px solid rgba(255,255,255,.16);
    background: rgba(255,255,255,.06);
    color: rgba(255,255,255,.92);
    border-radius: 14px;
    padding: 10px 12px;
    font-weight: 900;
    font-size: 12px;
    cursor: pointer;
    box-shadow: inset 0 1px 0 rgba(255,255,255,.10);
    transition: transform .16s ease, border-color .16s ease, background .16s ease;
    white-space: nowrap;
  }
  .tsg-btn:hover{ transform: translateY(-1px); border-color: rgba(255,255,255,.24); background: rgba(255,255,255,.08); }
  .tsg-btn:active{ transform: translateY(0); }

  .tsg-btn--ghost{ background: rgba(0,0,0,.12); }
  .tsg-btn--pill{ border-radius: 999px; padding: 10px 14px; }
  .tsg-btn--icon{
    width: 40px; height: 40px;
    border-radius: 999px;
    display:grid; place-items:center;
    font-size: 18px;
    padding: 0;
  }

  .tsg-toolbar{
    display:flex;
    gap: 12px;
    align-items: center;
    justify-content: space-between;
    flex-wrap: wrap;
    padding: 12px 18px;
  }

  .tsg-chips{ display:flex; gap: 8px; flex-wrap: wrap; }
  .tsg-chip{
    border: 1px solid rgba(255,255,255,.14);
    background: rgba(255,255,255,.05);
    color: rgba(255,255,255,.90);
    padding: 8px 10px;
    border-radius: 999px;
    font-weight: 950;
    font-size: 12px;
    cursor: pointer;
    transition: transform .16s ease, border-color .16s ease, background .16s ease;
    line-height: 1;
  }
  .tsg-chip:hover{ transform: translateY(-1px); border-color: rgba(255,255,255,.24); }
  .tsg-chip.is-active{
    border-color: rgba(5,173,173,.60);
    background: rgba(5,173,173,.14);
  }

  .tsg-tools{
    display:flex;
    gap: 10px;
    align-items:center;
    flex: 1 1 320px;
    justify-content: flex-end;
  }
  .tsg-search{
    flex: 1 1 220px;
    min-width: 200px;
    max-width: 420px;
    border-radius: 14px;
    border: 1px solid rgba(255,255,255,.14);
    background: rgba(255,255,255,.05);
    color: rgba(255,255,255,.92);
    padding: 10px 12px;
    outline: none;
  }
  .tsg-search::placeholder{ color: rgba(255,255,255,.60); }

  .tsg-body{ padding: 0 18px 18px; }

  .tsg-grid{
    display:grid;
    grid-template-columns: repeat(2, minmax(0,1fr));
    gap: 14px;
  }

  @media (max-width: 780px){
    .tsg-grid{ grid-template-columns: 1fr; }
    .tsg-tools{ width: 100%; justify-content: stretch; }
    .tsg-search{ max-width: none; width: 100%; }
  }

  .tsg-card{
    border: 1px solid rgba(255,255,255,.12);
    background: linear-gradient(135deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
    border-radius: 18px;
    padding: 12px;
    box-shadow: 0 14px 30px rgba(0,0,0,.18);
    transition: transform .16s ease, border-color .16s ease, background .16s ease;
  }
  .tsg-card:hover{
    transform: translateY(-1px);
    border-color: rgba(5,173,173,.44);
    background: linear-gradient(135deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
  }

  .tsg-swatch{
    height: 104px;
    border-radius: 16px;
    border: 1px solid rgba(255,255,255,.18);
    position: relative;
    overflow: hidden;
    cursor: pointer;
  }
  .tsg-swatch::after{
    content:"";
    position:absolute;
    inset:0;
    background: radial-gradient(520px 140px at 20% 0%, rgba(255,255,255,.18), transparent 55%);
    pointer-events:none;
  }

  .tsg-badge{
    position:absolute;
    top: 10px;
    inset-inline-end: 10px;
    padding: 6px 10px;
    border-radius: 999px;
    background: rgba(0,0,0,.26);
    border: 1px solid rgba(255,255,255,.16);
    font-weight: 950;
    font-size: 11px;
    letter-spacing: .7px;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
  }

  .tsg-name{ margin-top: 10px; font-weight: 950; font-size: 14px; }
  .tsg-desc{ margin-top: 6px; opacity: .84; font-size: 12px; line-height: 1.5; }

  .tsg-row{
    margin-top: 10px;
    display:flex;
    gap: 10px;
    align-items:center;
    flex-wrap: wrap;
  }
  .tsg-css{
    flex: 1 1 260px;
    min-width: 220px;
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    font-size: 11px;
    background: rgba(255,255,255,.06);
    border: 1px solid rgba(255,255,255,.12);
    padding: 8px 10px;
    border-radius: 999px;
    color: rgba(255,255,255,.88);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .tsg-actions{ display:flex; gap: 8px; align-items:center; }

  @media (max-width: 780px){
    .tsg-css{ white-space: normal; border-radius: 14px; }
    .tsg-actions{ width: 100%; justify-content: flex-start; }
  }

  /* tiny toast */
  .tsg-toast{
    position: fixed;
    inset-inline-start: 14px;
    bottom: 14px;
    padding: 10px 12px;
    border-radius: 14px;
    background: rgba(0,0,0,.55);
    border: 1px solid rgba(255,255,255,.16);
    color: rgba(255,255,255,.92);
    z-index: 10000;
    font-weight: 850;
    font-size: 12px;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    opacity: 0;
    transform: translateY(8px);
    transition: opacity .18s ease, transform .18s ease;
    pointer-events: none;
  }
  .tsg-toast.is-on{
    opacity: 1;
    transform: translateY(0);
  }
</style>



<script id="tsg-final">
(function(){
  var overlay = document.getElementById("tsg-overlay");
  if(!overlay) return;

  var grid = document.getElementById("tsg-grid");
  var empty = document.getElementById("tsg-empty");
  var closeBtn = document.getElementById("tsg-close");
  var chipsWrap = document.getElementById("tsg-chips");
  var search = document.getElementById("tsg-search");
  var copyAll = document.getElementById("tsg-copy-all");
  var dlJson = document.getElementById("tsg-download-json");
  var fab = document.getElementById("tsg-fab");
  document.addEventListener("click", function(e){ var t=e.target; if(t && t.closest && t.closest("#tsg-fab")){ e.preventDefault(); e.stopPropagation(); if(window.__tsgOpen){ window.__tsgOpen(); } } }, true);
var altBtn = document.getElementById("gradients-toggle"); // optional

  var gradients = [
      // Core brand gradients
      { id:"cta_teal_navy",            tag:"CTA",        ar:"  ",                 en:"Teal  Navy",                 css:"linear-gradient(135deg, #05ADAD 0%, #0D295C 100%)" },
      { id:"hero_violet_blue",         tag:"Hero",       ar:"  ",               en:"Violet  Blue",               css:"linear-gradient(135deg, #8C40FF 0%, #113D8F 100%)" },
      { id:"premium_plum_ink",         tag:"Premium",    ar:"  ",                en:"Plum  Ink",                  css:"linear-gradient(135deg, #3B1745 0%, #0A0F21 100%)" },
      { id:"highlight_teal_violet",    tag:"Highlight",  ar:"  ",               en:"Teal  Violet",               css:"linear-gradient(135deg, #05ADAD 0%, #8C40FF 100%)" },
      { id:"depth_blue_ink",           tag:"Depth",      ar:"  ",                  en:"Blue  Ink",                  css:"linear-gradient(135deg, #113D8F 0%, #0A0F21 100%)" },
      { id:"alert_red_plum",           tag:"Alert",      ar:"  ",               en:"Red  Plum",                  css:"linear-gradient(135deg, #F0474A 0%, #3B1745 100%)" },

      // Multi-stop (richer surfaces)
      { id:"hero_teal_blue_ink",       tag:"Hero",       ar:"    ",           en:"Teal  Blue  Ink",           css:"linear-gradient(135deg, #05ADAD 0%, #113D8F 55%, #0A0F21 100%)" },
      { id:"premium_plum_navy_ink",    tag:"Premium",    ar:"    ",         en:"Plum  Navy  Ink",           css:"linear-gradient(135deg, #3B1745 0%, #0D295C 55%, #0A0F21 100%)" },
      { id:"highlight_violet_teal",    tag:"Highlight",  ar:"    ",         en:"Violet  Teal  Blue",         css:"linear-gradient(135deg, #8C40FF 0%, #05ADAD 55%, #113D8F 100%)" },
      { id:"cta_teal_teal_navy",       tag:"CTA",        ar:"     ",     en:"Soft Teal  Teal  Navy",     css:"linear-gradient(135deg, #05ADAD 0%, #05ADAD 35%, #0D295C 100%)" },

      // Dark depth (backgrounds)
      { id:"depth_navy_ink",           tag:"Depth",      ar:"  ",                  en:"Navy  Ink",                  css:"linear-gradient(135deg, #0D295C 0%, #0A0F21 100%)" },
      { id:"depth_plum_navy",          tag:"Depth",      ar:"  ",               en:"Plum  Navy",                 css:"linear-gradient(135deg, #3B1745 0%, #0D295C 100%)" },
      { id:"depth_violet_ink",         tag:"Depth",      ar:"  ",                en:"Violet  Ink",                css:"linear-gradient(135deg, #8C40FF 0%, #0A0F21 100%)" },
      { id:"depth_blue_navy",          tag:"Depth",      ar:"  ",                  en:"Blue  Navy",                 css:"linear-gradient(135deg, #113D8F 0%, #0D295C 100%)" },

      // Alerts / emphasis
      { id:"alert_red_navy",           tag:"Alert",      ar:"  ",                  en:"Red  Navy",                  css:"linear-gradient(135deg, #F0474A 0%, #0D295C 100%)" },
      { id:"alert_red_ink",            tag:"Alert",      ar:"  ",                   en:"Red  Ink",                   css:"linear-gradient(135deg, #F0474A 0%, #0A0F21 100%)" },
      { id:"alert_red_violet",         tag:"Alert",      ar:"  ",                en:"Red  Violet",                css:"linear-gradient(135deg, #F0474A 0%, #8C40FF 100%)" },

      // Soft highlight / subtle cards
      { id:"soft_teal_blue",           tag:"Highlight",  ar:"   ",             en:"Soft Teal  Blue",            css:"linear-gradient(135deg, rgba(5,173,173,.35) 0%, rgba(17,61,143,.35) 100%)" },
      { id:"soft_violet_plum",         tag:"Highlight",  ar:"   ",         en:"Soft Violet  Plum",          css:"linear-gradient(135deg, rgba(140,64,255,.35) 0%, rgba(59,23,69,.35) 100%)" },
      { id:"soft_blue_navy",           tag:"Highlight",  ar:"   ",              en:"Soft Blue  Navy",            css:"linear-gradient(135deg, rgba(17,61,143,.35) 0%, rgba(13,41,92,.35) 100%)" },

      // Radial (hero / spotlight)
      { id:"radial_teal_ink",          tag:"Hero",       ar:":   ",            en:"Radial: Teal  Ink",          css:"radial-gradient(circle at 30% 20%, #05ADAD 0%, #0A0F21 65%)" },
      { id:"radial_violet_navy",       tag:"Hero",       ar:":   ",         en:"Radial: Violet  Navy",       css:"radial-gradient(circle at 35% 20%, #8C40FF 0%, #0D295C 70%)" },
      { id:"radial_red_plum",          tag:"Alert",      ar:":   ",         en:"Radial: Red  Plum",          css:"radial-gradient(circle at 35% 25%, #F0474A 0%, #3B1745 70%)" },

      // Angular / dynamic
      { id:"angle_teal_violet_ink",    tag:"Hero",       ar:":     ",   en:"Angle: Teal  Violet  Ink",  css:"linear-gradient(115deg, #05ADAD 0%, #8C40FF 52%, #0A0F21 100%)" },
      { id:"angle_blue_teal",          tag:"CTA",        ar:":   ",            en:"Angle: Blue  Teal",          css:"linear-gradient(115deg, #113D8F 0%, #05ADAD 100%)" },
      { id:"angle_plum_red",           tag:"Alert",      ar:":   ",          en:"Angle: Plum  Red",           css:"linear-gradient(115deg, #3B1745 0%, #F0474A 100%)" }
    ];

  var tagMeta = {
    all:{ar:"",en:"All"},
    cta:{ar:"CTA",en:"CTA"},
    hero:{ar:"Hero",en:"Hero"},
    premium:{ar:"Premium",en:"Premium"},
    highlight:{ar:"Highlight",en:"Highlight"},
    depth:{ar:"Depth",en:"Depth"},
    alert:{ar:"Alert",en:"Alert"}
  };

  var descMap = {
    cta:{ar:"    CTA.",en:"Best for primary buttons and CTA surfaces."},
    hero:{ar:"   .",en:"Best for hero headers and key highlights."},
    premium:{ar:"    .",en:"Best for premium / official sections."},
    highlight:{ar:"     .",en:"Best to highlight sections subtly."},
    depth:{ar:"    .",en:"Best for deep backgrounds and long sections."},
    alert:{ar:"   .",en:"Best for alerts and caution states."}
  };

  var state = { tag:"all", q:"" };
  var initialized = false;
  var prevOverflow = "";

  function isAr(){
    var lang = (document.documentElement.getAttribute("lang") || "").toLowerCase();
    var dir  = (document.documentElement.getAttribute("dir")  || "").toLowerCase();
    return lang.indexOf("ar") === 0 || dir === "rtl";
  }

  function setSearchPlaceholder(){
    if(!search) return;
    search.placeholder = isAr() ? "  ..." : "Search gradients...";
  }

  function toast(msg){
    var t = document.getElementById("tsg-toast");
    if(!t){
      t = document.createElement("div");
      t.id = "tsg-toast";
      t.className = "tsg-toast";
      document.body.appendChild(t);
    }
    t.textContent = msg;
    t.classList.add("is-on");
    clearTimeout(t.__to);
    t.__to = setTimeout(function(){ t.classList.remove("is-on"); }, 1400);
  }

  function copyText(str){
    if(navigator.clipboard && navigator.clipboard.writeText){
      return navigator.clipboard.writeText(str).catch(function(){ return legacyCopy(str); });
    }
    return legacyCopy(str);
  }

  function legacyCopy(str){
    return new Promise(function(resolve){
      var ta = document.createElement("textarea");
      ta.value = str;
      ta.style.position = "fixed";
      ta.style.opacity = "0";
      document.body.appendChild(ta);
      ta.select();
      try{ document.execCommand("copy"); }catch(e){}
      ta.remove();
      resolve();
    });
  }

  function download(filename, content, mime){
    var blob = new Blob([content], { type: mime || "application/json" });
    var url = URL.createObjectURL(blob);
    var a = document.createElement("a");
    a.href = url;
    a.download = filename;
    document.body.appendChild(a);
    a.click();
    a.remove();
    setTimeout(function(){ URL.revokeObjectURL(url); }, 400);
  }

  function buildChips(){
    if(!chipsWrap) return;
    chipsWrap.innerHTML = "";
    Object.keys(tagMeta).forEach(function(key){
      var b = document.createElement("button");
      b.type = "button";
      b.className = "tsg-chip" + (state.tag === key ? " is-active" : "");
      b.dataset.tag = key;
      b.innerHTML = '<span class="tr-ar">'+tagMeta[key].ar+'</span><span class="tr-en">'+tagMeta[key].en+'</span>';
      b.addEventListener("click", function(e){
        e.preventDefault(); e.stopPropagation();
        state.tag = key;
        var chips = chipsWrap.querySelectorAll(".tsg-chip");
        for(var i=0;i<chips.length;i++){
          chips[i].classList.toggle("is-active", chips[i].dataset.tag === state.tag);
        }
        render();
      });
      chipsWrap.appendChild(b);
    });
  }

  function matches(g){
    if(state.tag !== "all" && g.tag !== state.tag) return false;
    var q = (state.q || "").trim().toLowerCase();
    if(!q) return true;
    var blob = (g.id+" "+g.tag+" "+g.ar+" "+g.en+" "+g.css).toLowerCase();
    return blob.indexOf(q) !== -1;
  }

  function card(g){
    var d = descMap[g.tag] || { ar:"    .", en:"Ready-to-use brand gradient." };

    var el = document.createElement("div");
    el.className = "tsg-card";

    var sw = document.createElement("div");
    sw.className = "tsg-swatch";
    sw.style.background = g.css;

    var badge = document.createElement("div");
    badge.className = "tsg-badge";
    badge.textContent = String(g.tag || "grad").toUpperCase();
    sw.appendChild(badge);

    var name = document.createElement("div");
    name.className = "tsg-name";
    name.innerHTML =
      '<span class="tr-ar">'+g.ar+' ('+tagMeta[g.tag].ar+')</span>' +
      '<span class="tr-en">'+g.en+' ('+tagMeta[g.tag].en+')</span>';

    var desc = document.createElement("div");
    desc.className = "tsg-desc";
    desc.innerHTML = '<span class="tr-ar">'+d.ar+'</span><span class="tr-en">'+d.en+'</span>';

    var row = document.createElement("div");
    row.className = "tsg-row";

    var code = document.createElement("div");
    code.className = "tsg-css";
    code.title = g.css;
    code.textContent = g.css;

    var actions = document.createElement("div");
    actions.className = "tsg-actions";

    var copyCss = document.createElement("button");
    copyCss.type = "button";
    copyCss.className = "tsg-btn tsg-btn--pill tsg-btn--ghost";
    copyCss.innerHTML = '<span class="tr-ar"> CSS</span><span class="tr-en">Copy CSS</span>';
    copyCss.addEventListener("click", function(e){
      e.preventDefault(); e.stopPropagation();
      copyText(g.css).then(function(){ toast(isAr() ? "  CSS" : "CSS copied"); });
    });

    var copyJson = document.createElement("button");
    copyJson.type = "button";
    copyJson.className = "tsg-btn tsg-btn--pill";
    copyJson.innerHTML = '<span class="tr-ar"> JSON</span><span class="tr-en">Copy JSON</span>';
    copyJson.addEventListener("click", function(e){
      e.preventDefault(); e.stopPropagation();
      var payload = { id:g.id, tag:g.tag, ar:g.ar, en:g.en, css:g.css };
      copyText(JSON.stringify(payload, null, 2)).then(function(){ toast(isAr() ? "  JSON" : "JSON copied"); });
    });

    actions.appendChild(copyCss);
    actions.appendChild(copyJson);

    row.appendChild(code);
    row.appendChild(actions);

    el.appendChild(sw);
    el.appendChild(name);
    el.appendChild(desc);
    el.appendChild(row);

    sw.addEventListener("click", function(e){
      e.preventDefault(); e.stopPropagation();
      copyText(g.css).then(function(){ toast(isAr() ? "  CSS" : "CSS copied"); });
    });

    return el;
  }

  function render(){
    if(!grid) return;
    grid.innerHTML = "";
    var list = [];
    for(var i=0;i<gradients.length;i++){
      if(matches(gradients[i])) list.push(gradients[i]);
    }
    if(empty) empty.style.display = list.length ? "none" : "block";
    for(var j=0;j<list.length;j++){
      grid.appendChild(card(list[j]));
    }
    setSearchPlaceholder();
  }

  function open(){
    if(!initialized){
      buildChips();
      initialized = true;
    }
    overlay.classList.add("is-open");
    overlay.setAttribute("aria-hidden","false");
    prevOverflow = document.body.style.overflow || "";
    document.body.style.overflow = "hidden";
    render();
    if(closeBtn){ try{ closeBtn.focus(); }catch(_){} }
  }

  function close(){
    overlay.classList.remove("is-open");
    overlay.setAttribute("aria-hidden","true");
    document.body.style.overflow = prevOverflow;
  }

  // Bind FAB + optional existing button
  if(fab){
    fab.addEventListener("click", function(e){ e.preventDefault(); e.stopPropagation(); open(); }, true);
  }
  if(altBtn){
    altBtn.addEventListener("click", function(e){ e.preventDefault(); e.stopPropagation(); open(); }, true);
  }
  if(closeBtn){
    closeBtn.addEventListener("click", function(e){ e.preventDefault(); e.stopPropagation(); close(); }, true);
  }

  overlay.addEventListener("click", function(e){ if(e.target === overlay) close(); });
  document.addEventListener("keydown", function(e){ if(e.key === "Escape" && overlay.classList.contains("is-open")) close(); });

  if(search){
    setSearchPlaceholder();
    search.addEventListener("input", function(){ state.q = search.value || ""; render(); });
  }
  if(copyAll){
    copyAll.addEventListener("click", function(e){
      e.preventDefault(); e.stopPropagation();
      copyText(gradients.map(function(g){ return g.css; }).join("
"))
        .then(function(){ toast(isAr() ? "   CSS" : "Gradients CSS copied"); });
    });
  }
  if(dlJson){
    dlJson.addEventListener("click", function(e){
      e.preventDefault(); e.stopPropagation();
      var payload = gradients.map(function(g){ return { id:g.id, tag:g.tag, ar:g.ar, en:g.en, css:g.css }; });
      download("ts-brand-gradients.json", JSON.stringify(payload, null, 2), "application/json");
      toast(isAr() ? "  JSON" : "JSON downloaded");
    });
  }

  // Expose
  window.__tsgOpen = open;
  window.__tsgClose = close;

})();
</script>



<!-- ================================
     T&S Brand Gradients Suggestions (Standalone)
     ================================ -->
<div id="tsg-overlay" class="tsg-overlay" aria-hidden="true" role="dialog" aria-modal="true">
  <div class="tsg-dialog" role="document">
    <div class="tsg-head">
      <div class="tsg-titlewrap">
        <div class="tsg-title">
          <span class="tr-ar">  </span>
          <span class="tr-en">Brand Gradient Suggestions</span>
        </div>
        <div class="tsg-sub">
          <span class="tr-ar">     T&amp;S   CSS   JSON.</span>
          <span class="tr-en">Ready-to-use gradients built from T&amp;S colors  copy CSS or download JSON.</span>
        </div>
      </div>

      <div class="tsg-head-actions">
        <button type="button" class="tsg-btn tsg-btn--pill" id="tsg-download-json">
          <span class="tr-ar"> JSON</span>
          <span class="tr-en">Download JSON</span>
        </button>
        <button type="button" class="tsg-btn tsg-btn--icon" id="tsg-close" aria-label="Close"></button>
      </div>
    </div>

    <div class="tsg-toolbar">
      <div class="tsg-chips" id="tsg-chips"></div>

      </div>

    <div class="tsg-body">
      <div id="tsg-grid" class="tsg-grid"></div>
      <div id="tsg-empty" class="tsg-empty" style="display:none">
        <span class="tr-ar">  .</span>
        <span class="tr-en">No results.</span>
      </div>
    </div>
  </div>
</div>

<style id="tsg-style">
  .tsg-overlay{
    position: fixed;
    inset: 0;
    display: none;
    align-items: center;
    justify-content: center;
    padding: 20px;
    background: rgba(0,0,0,.45);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    z-index: 10000;
  }
  .tsg-overlay.is-open{ display: flex; }

  .tsg-dialog{
    width: min(980px, calc(100vw - 28px));
    max-height: min(82vh, 900px);
    overflow: auto;
    border-radius: 22px;
    border: 1px solid rgba(255,255,255,.14);
    background: linear-gradient(135deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
    box-shadow: 0 30px 70px rgba(0,0,0,.35);
    color: rgba(255,255,255,.92);
  }

  .tsg-head{
    display:flex;
    gap: 14px;
    align-items: center;
    justify-content: space-between;
    padding: 18px 18px 12px;
    border-bottom: 1px solid rgba(255,255,255,.10);
    background: linear-gradient(135deg, rgba(5,173,173,.16), rgba(140,64,255,.14));
  }
  .tsg-title{ font-weight: 950; font-size: 18px; letter-spacing: .2px; }
  .tsg-sub{ margin-top: 4px; opacity: .80; font-size: 13px; }
  .tsg-head-actions{ display:flex; gap: 10px; align-items:center; }

  .tsg-btn{
    border: 1px solid rgba(255,255,255,.16);
    background: rgba(255,255,255,.06);
    color: rgba(255,255,255,.92);
    border-radius: 14px;
    padding: 10px 12px;
    font-weight: 900;
    font-size: 12px;
    cursor: pointer;
    box-shadow: inset 0 1px 0 rgba(255,255,255,.10);
    transition: transform .16s ease, border-color .16s ease, background .16s ease;
    white-space: nowrap;
  }
  .tsg-btn:hover{ transform: translateY(-1px); border-color: rgba(255,255,255,.24); background: rgba(255,255,255,.08); }
  .tsg-btn:active{ transform: translateY(0); }

  .tsg-btn--ghost{ background: rgba(0,0,0,.12); }
  .tsg-btn--pill{ border-radius: 999px; padding: 10px 14px; }
  .tsg-btn--icon{
    width: 40px; height: 40px;
    border-radius: 999px;
    display:grid; place-items:center;
    font-size: 18px;
    padding: 0;
  }

  .tsg-toolbar{
    display:flex;
    gap: 12px;
    align-items: center;
    justify-content: space-between;
    flex-wrap: wrap;
    padding: 12px 18px;
  }

  .tsg-chips{ display:flex; gap: 8px; flex-wrap: wrap; }
  .tsg-chip{
    border: 1px solid rgba(255,255,255,.14);
    background: rgba(255,255,255,.05);
    color: rgba(255,255,255,.90);
    padding: 8px 10px;
    border-radius: 999px;
    font-weight: 950;
    font-size: 12px;
    cursor: pointer;
    transition: transform .16s ease, border-color .16s ease, background .16s ease;
    line-height: 1;
  }
  .tsg-chip:hover{ transform: translateY(-1px); border-color: rgba(255,255,255,.24); }
  .tsg-chip.is-active{
    border-color: rgba(5,173,173,.60);
    background: rgba(5,173,173,.14);
  }

  .tsg-tools{
    display:flex;
    gap: 10px;
    align-items:center;
    flex: 1 1 320px;
    justify-content: flex-end;
  }
  .tsg-search{
    flex: 1 1 220px;
    min-width: 200px;
    max-width: 420px;
    border-radius: 14px;
    border: 1px solid rgba(255,255,255,.14);
    background: rgba(255,255,255,.05);
    color: rgba(255,255,255,.92);
    padding: 10px 12px;
    outline: none;
  }
  .tsg-search::placeholder{ color: rgba(255,255,255,.60); }

  .tsg-body{ padding: 0 18px 18px; }

  .tsg-grid{
    display:grid;
    grid-template-columns: repeat(2, minmax(0,1fr));
    gap: 14px;
  }

  @media (max-width: 780px){
    .tsg-grid{ grid-template-columns: 1fr; }
    .tsg-tools{ width: 100%; justify-content: stretch; }
    .tsg-search{ max-width: none; width: 100%; }
  }

  .tsg-card{
    border: 1px solid rgba(255,255,255,.12);
    background: linear-gradient(135deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
    border-radius: 18px;
    padding: 12px;
    box-shadow: 0 14px 30px rgba(0,0,0,.18);
    transition: transform .16s ease, border-color .16s ease, background .16s ease;
  }
  .tsg-card:hover{
    transform: translateY(-1px);
    border-color: rgba(5,173,173,.44);
    background: linear-gradient(135deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
  }

  .tsg-swatch{
    height: 104px;
    border-radius: 16px;
    border: 1px solid rgba(255,255,255,.18);
    position: relative;
    overflow: hidden;
    cursor: pointer;
  }
  .tsg-swatch::after{
    content:"";
    position:absolute;
    inset:0;
    background: radial-gradient(520px 140px at 20% 0%, rgba(255,255,255,.18), transparent 55%);
    pointer-events:none;
  }

  .tsg-badge{
    position:absolute;
    top: 10px;
    inset-inline-end: 10px;
    padding: 6px 10px;
    border-radius: 999px;
    background: rgba(0,0,0,.26);
    border: 1px solid rgba(255,255,255,.16);
    font-weight: 950;
    font-size: 11px;
    letter-spacing: .7px;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
  }

  .tsg-name{ margin-top: 10px; font-weight: 950; font-size: 14px; }
  .tsg-desc{ margin-top: 6px; opacity: .84; font-size: 12px; line-height: 1.5; }

  .tsg-row{
    margin-top: 10px;
    display:flex;
    gap: 10px;
    align-items:center;
    flex-wrap: wrap;
  }
  .tsg-css{
    flex: 1 1 260px;
    min-width: 220px;
    font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    font-size: 11px;
    background: rgba(255,255,255,.06);
    border: 1px solid rgba(255,255,255,.12);
    padding: 8px 10px;
    border-radius: 999px;
    color: rgba(255,255,255,.88);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .tsg-actions{ display:flex; gap: 8px; align-items:center; }

  @media (max-width: 780px){
    .tsg-css{ white-space: normal; border-radius: 14px; }
    .tsg-actions{ width: 100%; justify-content: flex-start; }
  }

  .tsg-toast{
    position: fixed;
    inset-inline-start: 14px;
    bottom: 14px;
    padding: 10px 12px;
    border-radius: 14px;
    background: rgba(0,0,0,.55);
    border: 1px solid rgba(255,255,255,.16);
    color: rgba(255,255,255,.92);
    z-index: 10002;
    font-weight: 850;
    font-size: 12px;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    opacity: 0;
    transform: translateY(8px);
    transition: opacity .18s ease, transform .18s ease;
    pointer-events: none;
  }
  .tsg-toast.is-on{ opacity: 1; transform: translateY(0); }
</style>



<!-- ================================
     TSG Fab Clickability Patch (v3)
     - Forces the floating button to the top-most layer
     - Moves it to <body> to escape stacking contexts
     - Adds pointerdown capture handler
     - Provides a minimal __tsgOpen/__tsgClose fallback (in case earlier JS failed)
     ================================ -->








<!-- ================================
     TSG Gradients (Robust: finds your top button and renders every time)
     ================================ -->
<style id="tsg-robust-style">
  /* Ensure the top trigger is clickable even if a glass layer sits above it */
  #gradients-toggle, [data-tsg-open] {
    pointer-events: auto !important;
    cursor: pointer !important;
    position: relative;
    z-index: 9999;
  }
</style>

<script id="tsg-robust-bind">
(function(){
  // ====== Data (curated + categorized) ======
  const GRADIENTS = [
    // --- Top Picks (my curated defaults) ---
    { id:"top_hero_teal_blue_ink",   tag:"Hero",     pick:true, ar:" :     ",   en:"Top Hero: Teal  Blue  Ink",   css:"linear-gradient(135deg, #05ADAD 0%, #113D8F 55%, #0A0F21 100%)" },
    { id:"top_cta_teal_navy",        tag:"CTA",      pick:true, ar:"CTA:   ",               en:"Top CTA: Teal  Navy",          css:"linear-gradient(135deg, #05ADAD 0%, #0D295C 100%)" },
    { id:"top_premium_plum_ink",     tag:"Premium",  pick:true, ar:"Premium:   ",           en:"Top Premium: Plum  Ink",       css:"linear-gradient(135deg, #3B1745 0%, #0A0F21 100%)" },
    { id:"top_depth_navy_ink",       tag:"Depth",    pick:true, ar:"Depth:   ",               en:"Top Depth: Navy  Ink",         css:"linear-gradient(135deg, #0D295C 0%, #0A0F21 100%)" },
    { id:"top_highlight_soft",       tag:"Highlight",pick:true, ar:"Highlight :     ", en:"Soft Highlight: Teal  Blue", css:"linear-gradient(135deg, rgba(5,173,173,.35) 0%, rgba(17,61,143,.35) 100%)" },
    { id:"top_alert_red_ink",        tag:"Alert",    pick:true, ar:"Alert:   ",               en:"Top Alert: Red  Ink",          css:"linear-gradient(135deg, #F0474A 0%, #0A0F21 100%)" },
    { id:"top_glass_teal",           tag:"Glass",    pick:true, ar:"Glass:  ",                en:"Top Glass: Teal",               css:"linear-gradient(135deg, rgba(5,173,173,.22) 0%, rgba(255,255,255,.06) 48%, rgba(13,41,92,.18) 100%)" },
    { id:"top_radial_violet_navy",   tag:"Radial",   pick:true, ar:"Radial:    ",     en:"Top Radial: Violet  Navy",     css:"radial-gradient(circle at 35% 20%, #8C40FF 0%, #0D295C 70%)" },

    // --- CTA (Buttons / active states) ---
    { id:"cta_teal_navy",   tag:"CTA", ar:"  ",   en:"Teal  Navy",   css:"linear-gradient(135deg, #05ADAD 0%, #0D295C 100%)" },
    { id:"cta_teal_blue",   tag:"CTA", ar:"  ",   en:"Teal  Blue",   css:"linear-gradient(135deg, #05ADAD 0%, #113D8F 100%)" },
    { id:"cta_blue_teal",   tag:"CTA", ar:"  ",   en:"Blue  Teal",   css:"linear-gradient(135deg, #113D8F 0%, #05ADAD 100%)" },
    { id:"cta_violet_teal", tag:"CTA", ar:"  ", en:"Violet  Teal", css:"linear-gradient(135deg, #8C40FF 0%, #05ADAD 100%)" },
    { id:"cta_teal_violet", tag:"CTA", ar:"  ", en:"Teal  Violet", css:"linear-gradient(135deg, #05ADAD 0%, #8C40FF 100%)" },
    { id:"cta_blue_navy",   tag:"CTA", ar:"  ",   en:"Blue  Navy",   css:"linear-gradient(135deg, #113D8F 0%, #0D295C 100%)" },
    { id:"cta_teal_ink",    tag:"CTA", ar:"  ",    en:"Teal  Ink",    css:"linear-gradient(135deg, #05ADAD 0%, #0A0F21 100%)" },
    { id:"cta_violet_navy", tag:"CTA", ar:"  ", en:"Violet  Navy", css:"linear-gradient(135deg, #8C40FF 0%, #0D295C 100%)" },
    { id:"cta_red_navy",    tag:"CTA", ar:"  ",   en:"Red  Navy",    css:"linear-gradient(135deg, #F0474A 0%, #0D295C 100%)" },
    { id:"cta_red_plum",    tag:"CTA", ar:"  ", en:"Red  Plum",    css:"linear-gradient(135deg, #F0474A 0%, #3B1745 100%)" },

    // --- Hero (Headers / emphasis) ---
    { id:"hero_violet_blue",      tag:"Hero", ar:"  ",               en:"Violet  Blue",               css:"linear-gradient(135deg, #8C40FF 0%, #113D8F 100%)" },
    { id:"hero_teal_blue_ink",    tag:"Hero", ar:"    ",           en:"Teal  Blue  Ink",           css:"linear-gradient(135deg, #05ADAD 0%, #113D8F 55%, #0A0F21 100%)" },
    { id:"hero_violet_teal_navy", tag:"Hero", ar:"    ",         en:"Violet  Teal  Navy",         css:"linear-gradient(135deg, #8C40FF 0%, #05ADAD 52%, #0D295C 100%)" },
    { id:"hero_teal_violet_ink",  tag:"Hero", ar:"    ",          en:"Teal  Violet  Ink",          css:"linear-gradient(115deg, #05ADAD 0%, #8C40FF 52%, #0A0F21 100%)" },
    { id:"hero_blue_violet_plum", tag:"Hero", ar:"    ",       en:"Blue  Violet  Plum",         css:"linear-gradient(135deg, #113D8F 0%, #8C40FF 55%, #3B1745 100%)" },
    { id:"hero_navy_blue_teal",   tag:"Hero", ar:"    ",           en:"Navy  Blue  Teal",           css:"linear-gradient(135deg, #0D295C 0%, #113D8F 55%, #05ADAD 100%)" },
    { id:"hero_plum_violet_blue", tag:"Hero", ar:"    ",       en:"Plum  Violet  Blue",         css:"linear-gradient(135deg, #3B1745 0%, #8C40FF 55%, #113D8F 100%)" },
    { id:"hero_ink_navy_teal",    tag:"Hero", ar:"    ",            en:"Ink  Navy  Teal",            css:"linear-gradient(135deg, #0A0F21 0%, #0D295C 55%, #05ADAD 100%)" },

    // --- Premium (formal / executive) ---
    { id:"premium_plum_ink",         tag:"Premium", ar:"  ",           en:"Plum  Ink",                  css:"linear-gradient(135deg, #3B1745 0%, #0A0F21 100%)" },
    { id:"premium_plum_navy_ink",    tag:"Premium", ar:"    ",     en:"Plum  Navy  Ink",           css:"linear-gradient(135deg, #3B1745 0%, #0D295C 55%, #0A0F21 100%)" },
    { id:"premium_violet_plum_ink",  tag:"Premium", ar:"    ",   en:"Violet  Plum  Ink",         css:"linear-gradient(135deg, #8C40FF 0%, #3B1745 55%, #0A0F21 100%)" },
    { id:"premium_navy_plum",        tag:"Premium", ar:"  ",           en:"Navy  Plum",                 css:"linear-gradient(135deg, #0D295C 0%, #3B1745 100%)" },
    { id:"premium_blue_plum",        tag:"Premium", ar:"  ",           en:"Blue  Plum",                 css:"linear-gradient(135deg, #113D8F 0%, #3B1745 100%)" },
    { id:"premium_ink_plum",         tag:"Premium", ar:"  ",            en:"Ink  Plum",                  css:"linear-gradient(135deg, #0A0F21 0%, #3B1745 100%)" },

    // --- Depth (backgrounds / long sections) ---
    { id:"depth_navy_ink",    tag:"Depth", ar:"  ",    en:"Navy  Ink",   css:"linear-gradient(135deg, #0D295C 0%, #0A0F21 100%)" },
    { id:"depth_blue_ink",    tag:"Depth", ar:"  ",    en:"Blue  Ink",   css:"linear-gradient(135deg, #113D8F 0%, #0A0F21 100%)" },
    { id:"depth_violet_ink",  tag:"Depth", ar:"  ",  en:"Violet  Ink", css:"linear-gradient(135deg, #8C40FF 0%, #0A0F21 100%)" },
    { id:"depth_plum_navy",   tag:"Depth", ar:"  ",  en:"Plum  Navy",  css:"linear-gradient(135deg, #3B1745 0%, #0D295C 100%)" },
    { id:"depth_teal_ink",    tag:"Depth", ar:"  ",     en:"Teal  Ink",   css:"linear-gradient(135deg, #05ADAD 0%, #0A0F21 100%)" },
    { id:"depth_ink_navy",    tag:"Depth", ar:"  ",     en:"Ink  Navy",   css:"linear-gradient(135deg, #0A0F21 0%, #0D295C 100%)" },

    // --- Highlight (soft cards / subtle) ---
    { id:"highlight_soft_teal_blue",   tag:"Highlight", ar:"    ",      en:"Soft Teal  Soft Blue",      css:"linear-gradient(135deg, rgba(5,173,173,.35) 0%, rgba(17,61,143,.35) 100%)" },
    { id:"highlight_soft_violet_plum", tag:"Highlight", ar:"    ",  en:"Soft Violet  Soft Plum",    css:"linear-gradient(135deg, rgba(140,64,255,.35) 0%, rgba(59,23,69,.35) 100%)" },
    { id:"highlight_soft_blue_navy",   tag:"Highlight", ar:"    ",      en:"Soft Blue  Soft Navy",      css:"linear-gradient(135deg, rgba(17,61,143,.35) 0%, rgba(13,41,92,.35) 100%)" },
    { id:"highlight_soft_teal_violet", tag:"Highlight", ar:"    ",    en:"Soft Teal  Soft Violet",    css:"linear-gradient(135deg, rgba(5,173,173,.30) 0%, rgba(140,64,255,.30) 100%)" },
    { id:"highlight_soft_red_plum",    tag:"Highlight", ar:"    ",    en:"Soft Red  Soft Plum",       css:"linear-gradient(135deg, rgba(240,71,74,.30) 0%, rgba(59,23,69,.30) 100%)" },
    { id:"highlight_soft_teal_ink",    tag:"Highlight", ar:"    ",        en:"Soft Teal  Soft Ink",       css:"linear-gradient(135deg, rgba(5,173,173,.30) 0%, rgba(10,15,33,.30) 100%)" },

    // --- Alert (warnings / critical states) ---
    { id:"alert_red_ink",    tag:"Alert", ar:"  ",    en:"Red  Ink",    css:"linear-gradient(135deg, #F0474A 0%, #0A0F21 100%)" },
    { id:"alert_red_violet", tag:"Alert", ar:"  ", en:"Red  Violet", css:"linear-gradient(135deg, #F0474A 0%, #8C40FF 100%)" },
    { id:"alert_red_blue",   tag:"Alert", ar:"  ",   en:"Red  Blue",   css:"linear-gradient(135deg, #F0474A 0%, #113D8F 100%)" },

    // --- Radial (spotlight / hero accents) ---
    { id:"radial_teal_ink",    tag:"Radial", ar:":   ",      en:"Radial: Teal  Ink",    css:"radial-gradient(circle at 30% 20%, #05ADAD 0%, #0A0F21 65%)" },
    { id:"radial_violet_navy", tag:"Radial", ar:":   ",   en:"Radial: Violet  Navy", css:"radial-gradient(circle at 35% 20%, #8C40FF 0%, #0D295C 70%)" },
    { id:"radial_red_plum",    tag:"Radial", ar:":   ",    en:"Radial: Red  Plum",    css:"radial-gradient(circle at 35% 25%, #F0474A 0%, #3B1745 70%)" },
    { id:"radial_blue_ink",    tag:"Radial", ar:":   ",       en:"Radial: Blue  Ink",    css:"radial-gradient(circle at 30% 25%, #113D8F 0%, #0A0F21 70%)" },
    { id:"radial_teal_navy",   tag:"Radial", ar:":   ",      en:"Radial: Teal  Navy",   css:"radial-gradient(circle at 30% 25%, #05ADAD 0%, #0D295C 70%)" },

    // --- Glass (glassy overlays) ---
    { id:"glass_teal",   tag:"Glass", ar:" ",   en:"Glassy Teal",   css:"linear-gradient(135deg, rgba(5,173,173,.22) 0%, rgba(255,255,255,.06) 48%, rgba(13,41,92,.18) 100%)" },
    { id:"glass_violet", tag:"Glass", ar:" ", en:"Glassy Violet", css:"linear-gradient(135deg, rgba(140,64,255,.22) 0%, rgba(255,255,255,.06) 48%, rgba(10,15,33,.18) 100%)" },
    { id:"glass_red",    tag:"Glass", ar:" ",   en:"Glassy Red",    css:"linear-gradient(135deg, rgba(240,71,74,.22) 0%, rgba(255,255,255,.06) 48%, rgba(59,23,69,.18) 100%)" },
    { id:"glass_blue",   tag:"Glass", ar:" ",   en:"Glassy Blue",   css:"linear-gradient(135deg, rgba(17,61,143,.22) 0%, rgba(255,255,255,.06) 48%, rgba(13,41,92,.18) 100%)" }
  ];

  const qs  = (sel, root=document) => root.querySelector(sel);
  const qsa = (sel, root=document) => Array.from(root.querySelectorAll(sel));
  const byId = (id) => document.getElementById(id);

  const TAGS_ORDER = ["CTA","Hero","Premium","Depth","Highlight","Alert","Radial","Glass","All"];
  const TAG_LABELS = {    All:      { ar:"",    en:"All" },
    CTA:      { ar:"CTA",     en:"CTA" },
    Hero:     { ar:"Hero",    en:"Hero" },
    Premium:  { ar:"Premium", en:"Premium" },
    Depth:    { ar:"Depth",   en:"Depth" },
    Highlight:{ ar:"Highlight",en:"Highlight" },
    Alert:    { ar:"Alert",   en:"Alert" },
    Radial:   { ar:"Radial",  en:"Radial" },
    Glass:    { ar:"Glass",   en:"Glass" }
  };
  // ====== Helpers (ordering + compact display) ======
  function normalizeCss(s){ return String(s||"").replace(/\s+/g," ").trim(); }
  function compactCss(s){
    const t = normalizeCss(s);
    return t.length > 64 ? (t.slice(0,64) + "") : t;
  }
  function typeRank(css){
    const t = normalizeCss(css);
    if(t.startsWith("linear-gradient")) return 0;
    if(t.startsWith("radial-gradient")) return 1;
    return 2; // glass/other
  }
  function hexCount(css){
    const m = normalizeCss(css).match(/#/g);
    return m ? m.length : 0;
  }
  function gradCompare(a,b){
    // keep picks first, then simplest (2-stops)  richer, then id
    const ap = a && a.pick ? 0 : 1;
    const bp = b && b.pick ? 0 : 1;
    if(ap !== bp) return ap - bp;
    const tr = typeRank(a.css) - typeRank(b.css);
    if(tr) return tr;
    const hc = hexCount(a.css) - hexCount(b.css);
    if(hc) return hc;
    return String(a.id||"").localeCompare(String(b.id||""));
  }


  const LS_KEY = "tsg_favs_v1";
  const state = { tag: "All", q:"" };

  function isAr(){
    const lang = (document.documentElement.getAttribute("lang") || "").toLowerCase();
    const dir  = (document.documentElement.getAttribute("dir")  || "").toLowerCase();
    return lang.startsWith("ar") || dir === "rtl";
  }

  function toast(msg){
    let t = byId("tsg-toast");
    if(!t){
      t = document.createElement("div");
      t.id = "tsg-toast";
      t.className = "tsg-toast";
      document.body.appendChild(t);
    }
    t.textContent = msg;
    t.classList.add("is-on");
    clearTimeout(t.__to);
    t.__to = setTimeout(() => t.classList.remove("is-on"), 1400);
  }

  function legacyCopy(str){
    return new Promise((resolve) => {
      const ta = document.createElement("textarea");
      ta.value = str;
      ta.style.position = "fixed";
      ta.style.opacity = "0";
      document.body.appendChild(ta);
      ta.select();
      try{ document.execCommand("copy"); }catch(e){}
      ta.remove();
      resolve();
    });
  }

  function copyText(str){
    if(navigator.clipboard && navigator.clipboard.writeText){
      return navigator.clipboard.writeText(str).catch(() => legacyCopy(str));
    }
    return legacyCopy(str);
  }

  function getFavs(){
    try{
      const raw = localStorage.getItem(LS_KEY);
      if(!raw) return new Set();
      return new Set(JSON.parse(raw));
    }catch(_){ return new Set(); }
  }

  function setFavs(set){
    try{
      localStorage.setItem(LS_KEY, JSON.stringify(Array.from(set)));
    }catch(_){}
  }

  function ensureToolbar(){
    const ov = byId("tsg-overlay");
    if(!ov) return;

    // Find a good place to inject (prefer header area inside the panel)
    const panel = qs(".tsg-panel, .tsg-modal, .tsg-dialog, .tsg-wrap", ov) || qs("div", ov);
    if(!panel) return;

    if(byId("tsg-toolbar")) return;

    const tb = document.createElement("div");
    tb.id = "tsg-toolbar";
    tb.className = "tsg-toolbar";

    // Chips row
    const chips = document.createElement("div");
    chips.id = "tsg-chips2";
    chips.className = "tsg-chips";

    // Search
    const searchWrap = document.createElement("div");
    searchWrap.className = "tsg-searchWrap";

    const inp = document.createElement("input");
    inp.id = "tsg-search2";
    inp.type = "search";
    inp.className = "tsg-search";
    inp.placeholder = isAr() ? "  ..." : "Search gradients...";
    inp.autocomplete = "off";
    inp.addEventListener("input", () => { state.q = inp.value || ""; render(); });

    const favBtn = document.createElement("button");
    favBtn.type = "button";
    favBtn.id = "tsg-favs-toggle";
    favBtn.className = "tsg-btn tsg-btn--pill tsg-btn--ghost";
    favBtn.innerHTML = isAr() ? " " : " Favorites";
    favBtn.addEventListener("click", () => {
      state.showFavs = !state.showFavs;
      favBtn.classList.toggle("is-active", state.showFavs);
      render();
    });

    searchWrap.appendChild(inp);
    searchWrap.appendChild(favBtn);

    tb.appendChild(chips);
    tb.appendChild(searchWrap);

    // Inject at top of panel
    panel.insertBefore(tb, panel.firstChild);

    // Chips build
    TAGS_ORDER.forEach((key) => {
      const b = document.createElement("button");
      b.type = "button";
      b.className = "tsg-chip" + (state.tag === key ? " is-active" : "");
      b.dataset.tag = key;
      const lab = TAG_LABELS[key] || { ar:key, en:key };
      b.innerHTML = `<span class="tr-ar">${lab.ar}</span><span class="tr-en">${lab.en}</span>`;
      b.addEventListener("click", () => {
        state.tag = key;
        qsa(".tsg-chip", chips).forEach(x => x.classList.toggle("is-active", x.dataset.tag === key));
        render();
      });
      chips.appendChild(b);
    });
  }

  function matches(g, favs){    if(state.tag !== "All"){

      if(g.tag !== state.tag) return false;
    }

    const q = (state.q || "").trim().toLowerCase();
    if(!q) return true;
    const blob = (g.id + " " + g.tag + " " + g.ar + " " + g.en + " " + g.css).toLowerCase();
    return blob.includes(q);
  }

  function render(){
    const grid = byId("tsg-grid");
    const empty = byId("tsg-empty");
    if(!grid) return;

    ensureToolbar();

    const favs = getFavs();

    // Sort: stable and tidy inside each section
    let list = GRADIENTS.filter(g => matches(g, favs)).slice().sort(gradCompare);

    grid.innerHTML = "";

    if(!list.length){
      if(empty) empty.style.display = "block";
      return;
    }
    if(empty) empty.style.display = "none";

    function makeSection(title){
      const h = document.createElement("div");
      h.className = "tsg-sectionTitle";
      h.textContent = title;
      return h;
    }

    function card(g){
      const el = document.createElement("div");
      el.className = "tsg-card";

      const sw = document.createElement("div");
      sw.className = "tsg-swatch";
      sw.style.background = g.css;

      const badge = document.createElement("div");
      badge.className = "tsg-badge";
      badge.textContent = String(g.tag || "grad").toUpperCase();
      sw.appendChild(badge);
      const name = document.createElement("div");
      name.className = "tsg-name";
      name.textContent = isAr() ? (g.ar + " (" + g.tag + ")") : (g.en + " (" + g.tag + ")");

      const row = document.createElement("div");
      row.className = "tsg-row";

      const code = document.createElement("div");
      code.className = "tsg-css";
      code.title = g.css;
      code.textContent = compactCss(g.css);

      const actions = document.createElement("div");
      actions.className = "tsg-actions";

      const copyBtn = document.createElement("button");
      copyBtn.type = "button";
      copyBtn.className = "tsg-btn tsg-btn--pill tsg-btn--ghost";
      copyBtn.textContent = isAr() ? " CSS" : "Copy CSS";
      copyBtn.addEventListener("click", (e) => {
        e.preventDefault(); e.stopPropagation();
        copyText(g.css).then(() => toast(isAr() ? "  CSS" : "CSS copied"));
      });

      const moreBtn = document.createElement("button");
      moreBtn.type = "button";
      moreBtn.className = "tsg-btn tsg-btn--pill tsg-btn--ghost tsg-btn--tiny";
      moreBtn.textContent = isAr() ? " " : "Full";
      moreBtn.setAttribute("aria-expanded", "false");
      moreBtn.addEventListener("click", (e) => {
        e.preventDefault(); e.stopPropagation();
        const on = el.classList.toggle("is-open");
        moreBtn.setAttribute("aria-expanded", on ? "true" : "false");
        moreBtn.textContent = isAr() ? (on ? "" : " ") : (on ? "Hide" : "Full");
      });

      actions.appendChild(copyBtn);
      actions.appendChild(moreBtn);

      row.appendChild(code);
      row.appendChild(actions);

      const full = document.createElement("div");
      full.className = "tsg-full";
      const fullCode = document.createElement("div");
      fullCode.className = "tsg-fullCode";
      fullCode.textContent = normalizeCss(g.css);

      const fullActions = document.createElement("div");
      fullActions.className = "tsg-fullActions";

      const fullCopy = document.createElement("button");
      fullCopy.type = "button";
      fullCopy.className = "tsg-btn tsg-btn--pill tsg-btn--ghost tsg-btn--tiny";
      fullCopy.textContent = isAr() ? "" : "Copy";
      fullCopy.addEventListener("click", (e) => {
        e.preventDefault(); e.stopPropagation();
        copyText(g.css).then(() => toast(isAr() ? "  CSS" : "CSS copied"));
      });

      fullActions.appendChild(fullCopy);
      full.appendChild(fullCode);
      full.appendChild(fullActions);

      el.appendChild(sw);
      el.appendChild(name);
      el.appendChild(row);
      el.appendChild(full);

      sw.addEventListener("click", (e) => {
        e.preventDefault(); e.stopPropagation();
        copyText(g.css).then(() => toast(isAr() ? "  CSS" : "CSS copied"));
      });

      return el;
    }

    // Grouped rendering when "All" or "Favorites" to keep it tidy
    if(state.tag === "All"){
      const groups = {};
      list.forEach(g => {
        const k = g.tag;
        (groups[k] ||= []).push(g);
      });

      const order = ["CTA","Hero","Premium","Depth","Highlight","Alert","Radial","Glass"];
      order.forEach(k => {
        if(!groups[k] || !groups[k].length) return;
        const title = isAr()
          ? (TAG_LABELS[k]?.ar || k) : (TAG_LABELS[k]?.en || k);
        grid.appendChild(makeSection(title));
        groups[k].slice().sort(gradCompare).forEach(g => grid.appendChild(card(g)));});
    } else {
      // Single category view
      list.slice().sort(gradCompare).forEach(g => grid.appendChild(card(g)));}
  }

  function ensureOverlayExists(){ return byId("tsg-overlay"); }

  function open(){
    const ov = ensureOverlayExists();
    if(!ov) return;
    ov.classList.add("is-open");
    ov.setAttribute("aria-hidden", "false");
    render();
  }

  function close(){
    const ov = byId("tsg-overlay");
    if(!ov) return;
    ov.classList.remove("is-open");
    ov.setAttribute("aria-hidden", "true");
  }

  window.__tsgOpen = open;
  window.__tsgClose = close;

  function findTopTrigger(){
    const byExact = byId("gradients-toggle");
    if(byExact) return byExact;
    const byData = qs("[data-tsg-open]");
    if(byData) return byData;

    const candidates = qsa("button,a,div,span");
    const arNeedle1 = "";
    const arNeedle2 = "";
    const enNeedle  = "gradient";
    for(const el of candidates){
      const txt = (el.textContent || "").trim().toLowerCase();
      if(!txt) continue;
      if((txt.includes(arNeedle1) && txt.includes(arNeedle2)) || txt.includes(enNeedle)){
        return el;
      }
    }
    return null;
  }

  function bind(){
    const trigger = findTopTrigger();
    if(trigger && !trigger.__tsgBound){
      trigger.__tsgBound = true;
      trigger.style.pointerEvents = "auto";
      trigger.style.cursor = "pointer";
      trigger.style.position = trigger.style.position || "relative";
      trigger.style.zIndex = trigger.style.zIndex || "9999";

      trigger.addEventListener("click", (e) => {
        e.preventDefault();
        e.stopPropagation();
        open();
      });

      if(!trigger.getAttribute("onclick")){
        trigger.setAttribute("onclick", "event.preventDefault(); window.__tsgOpen && window.__tsgOpen();");
      }
    }

    const closeBtn = byId("tsg-close");
    if(closeBtn && !closeBtn.__tsgBound){
      closeBtn.__tsgBound = true;
      closeBtn.addEventListener("click", (e) => {
        e.preventDefault();
        e.stopPropagation();
        close();
      });
    }

    const ov = byId("tsg-overlay");
    if(ov && !ov.__tsgBound){
      ov.__tsgBound = true;
      ov.addEventListener("click", (e) => {
        if(e.target === ov) close();
      });
    }

    document.addEventListener("keydown", (e) => {
      if(e.key === "Escape") close();
    });
  }

  // Keep rebinding if the header re-renders
  function boot(){
    bind();
    // render once in case the modal is already open
    try{
      const ov = byId("tsg-overlay");
      if(ov && ov.classList.contains("is-open")) render();
    }catch(_){}
    const mo = new MutationObserver(() => bind());
    mo.observe(document.body, { childList: true, subtree: true });
  }

  if(document.readyState === "loading"){
    document.addEventListener("DOMContentLoaded", boot);
  } else {
    boot();
  }
})();
</script>


<script id="ts-top-controls-safe">
  (function(){
    function mountTopControls(){
      try{
        var qc = document.querySelector('.quick-controls');
        if(!qc) return;
        if(document.querySelector('.top-controls-bar')) return;

        var bar = document.createElement('div');
        bar.className = 'top-controls-bar';
        bar.setAttribute('aria-label','Page controls');
        bar.appendChild(qc); // move the REAL node (keeps all events/ids intact)

        document.documentElement.classList.add('has-topbar');
        document.body.insertBefore(bar, document.body.firstChild);
      }catch(e){}
    }
    if(document.readyState === 'loading'){
      document.addEventListener('DOMContentLoaded', mountTopControls, {once:true});
    }else{
      mountTopControls();
    }
  })();
</script>

<script id="ts-top-controls-js">
  (function(){
    function ready(fn){ if(document.readyState !== "loading"){ fn(); } else { document.addEventListener("DOMContentLoaded", fn); } }
    ready(function(){
      var btnLang = document.getElementById("top-lang-toggle");
      var btnInc  = document.getElementById("top-font-inc");
      var btnDec  = document.getElementById("top-font-dec");

      if(btnInc && window.adjustFontScale){
        btnInc.addEventListener("click", function(){ window.adjustFontScale(0.05); });
      }
      if(btnDec && window.adjustFontScale){
        btnDec.addEventListener("click", function(){ window.adjustFontScale(-0.05); });
      }

      if(btnLang){
        btnLang.addEventListener("click", function(){
          var current = (document.documentElement.getAttribute("lang") || "ar").toLowerCase();
          var next = current === "ar" ? "en" : "ar";
          if(typeof window.setLanguage === "function"){
            window.setLanguage(next);
          } else if(typeof setLanguage === "function"){
            setLanguage(next);
          } else {
            // Fallback: swap dir + basic toggles
            document.documentElement.setAttribute("lang", next);
            document.documentElement.setAttribute("dir", next === "ar" ? "rtl" : "ltr");
            document.body.classList.toggle("lang-ar", next === "ar");
            document.body.classList.toggle("lang-en", next === "en");
          }
        });
      }
    });
  })();
</script>
</body>
</html>
